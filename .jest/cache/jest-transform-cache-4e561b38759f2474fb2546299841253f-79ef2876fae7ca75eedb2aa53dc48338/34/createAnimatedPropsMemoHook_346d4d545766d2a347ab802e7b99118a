ce93c9ae28941dcca474b93104a8fcec
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.areCompositeKeysEqual = areCompositeKeysEqual;
exports.createAnimatedPropsMemoHook = createAnimatedPropsMemoHook;
exports.createCompositeKeyForProps = createCompositeKeyForProps;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _AnimatedEvent = require("../../../Libraries/Animated/AnimatedEvent");
var _AnimatedNode = _interopRequireDefault(require("../../../Libraries/Animated/nodes/AnimatedNode"));
var _AnimatedObject = require("../../../Libraries/Animated/nodes/AnimatedObject");
var _flattenStyle = _interopRequireDefault(require("../../../Libraries/StyleSheet/flattenStyle"));
var ReactNativeFeatureFlags = _interopRequireWildcard(require("../featureflags/ReactNativeFeatureFlags"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var _react = require("react");
var _Object$hasOwn;
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function createAnimatedPropsMemoHook(allowlist) {
  return function useAnimatedPropsMemo(create, props) {
    var useAnimatedPropsImpl = ReactNativeFeatureFlags.avoidStateUpdateInAnimatedPropsMemo() ? useAnimatedPropsMemo_ref : useAnimatedPropsMemo_state;
    return useAnimatedPropsImpl(create, props);
  };
  function useAnimatedPropsMemo_ref(create, props) {
    var compositeKey = (0, _react.useMemo)(function () {
      return createCompositeKeyForProps(props, allowlist);
    }, [props]);
    var prevRef = (0, _react.useRef)();
    var prev = prevRef.current;
    var next = prev != null && areCompositeKeysEqual(prev.compositeKey, compositeKey) ? prev : {
      compositeKey: compositeKey,
      node: create()
    };
    (0, _react.useInsertionEffect)(function () {
      prevRef.current = next;
    }, [next]);
    return next.node;
  }
  function useAnimatedPropsMemo_state(create, props) {
    var compositeKey = (0, _react.useMemo)(function () {
      return createCompositeKeyForProps(props, allowlist);
    }, [props]);
    var _useState = (0, _react.useState)(function () {
        return {
          allowlist: allowlist,
          compositeKey: compositeKey,
          value: create()
        };
      }),
      _useState2 = (0, _slicedToArray2.default)(_useState, 2),
      state = _useState2[0],
      setState = _useState2[1];
    if (state.allowlist !== allowlist || !areCompositeKeysEqual(state.compositeKey, compositeKey)) {
      setState({
        allowlist: allowlist,
        compositeKey: compositeKey,
        value: create()
      });
    }
    return state.value;
  }
}
function createCompositeKeyForProps(props, allowlist) {
  var compositeKey = null;
  var keys = Object.keys(props);
  for (var ii = 0, length = keys.length; ii < length; ii++) {
    var key = keys[ii];
    var value = props[key];
    if (allowlist == null || hasOwn(allowlist, key)) {
      var compositeKeyComponent = void 0;
      if (key === 'style') {
        var flatStyle = (0, _flattenStyle.default)(value);
        if (flatStyle != null) {
          compositeKeyComponent = createCompositeKeyForObject(flatStyle, allowlist == null ? void 0 : allowlist.style);
        }
      } else if (value instanceof _AnimatedNode.default || value instanceof _AnimatedEvent.AnimatedEvent) {
        compositeKeyComponent = value;
      } else if (Array.isArray(value)) {
        compositeKeyComponent = allowlist == null ? value : createCompositeKeyForArray(value);
      } else if ((0, _AnimatedObject.isPlainObject)(value)) {
        compositeKeyComponent = allowlist == null ? value : createCompositeKeyForObject(value);
      }
      if (compositeKeyComponent != null) {
        if (compositeKey == null) {
          compositeKey = {};
        }
        compositeKey[key] = compositeKeyComponent;
      }
    }
  }
  return compositeKey;
}
function createCompositeKeyForArray(array) {
  var compositeKey = null;
  for (var ii = 0, length = array.length; ii < length; ii++) {
    var value = array[ii];
    var compositeKeyComponent = void 0;
    if (value instanceof _AnimatedNode.default) {
      compositeKeyComponent = value;
    } else if (Array.isArray(value)) {
      compositeKeyComponent = createCompositeKeyForArray(value);
    } else if ((0, _AnimatedObject.isPlainObject)(value)) {
      compositeKeyComponent = createCompositeKeyForObject(value);
    }
    if (compositeKeyComponent != null) {
      if (compositeKey == null) {
        compositeKey = new Array(array.length).fill(null);
      }
      compositeKey[ii] = compositeKeyComponent;
    }
  }
  return compositeKey;
}
function createCompositeKeyForObject(object, allowlist) {
  var compositeKey = null;
  var keys = Object.keys(object);
  for (var ii = 0, length = keys.length; ii < length; ii++) {
    var key = keys[ii];
    if (allowlist == null || hasOwn(allowlist, key)) {
      var value = object[key];
      var compositeKeyComponent = void 0;
      if (value instanceof _AnimatedNode.default) {
        compositeKeyComponent = value;
      } else if (Array.isArray(value)) {
        compositeKeyComponent = createCompositeKeyForArray(value);
      } else if ((0, _AnimatedObject.isPlainObject)(value)) {
        compositeKeyComponent = createCompositeKeyForObject(value);
      }
      if (compositeKeyComponent != null) {
        if (compositeKey == null) {
          compositeKey = {};
        }
        compositeKey[key] = compositeKeyComponent;
      }
    }
  }
  return compositeKey;
}
function areCompositeKeysEqual(maybePrev, maybeNext, allowlist) {
  if (maybePrev === maybeNext) {
    return true;
  }
  if (maybePrev === null || maybeNext === null) {
    return false;
  }
  var prev = maybePrev;
  var next = maybeNext;
  var keys = Object.keys(prev);
  var length = keys.length;
  if (length !== Object.keys(next).length) {
    return false;
  }
  for (var ii = 0; ii < length; ii++) {
    var key = keys[ii];
    if (!hasOwn(next, key)) {
      return false;
    }
    var prevComponent = prev[key];
    var nextComponent = next[key];
    if (key === 'style') {
      if (!areCompositeKeyComponentsEqual(prevComponent, nextComponent)) {
        return false;
      }
    } else if (prevComponent instanceof _AnimatedNode.default || prevComponent instanceof _AnimatedEvent.AnimatedEvent) {
      if (prevComponent !== nextComponent) {
        return false;
      }
    } else {
      if (allowlist == null) {
        if (prevComponent !== nextComponent) {
          return false;
        }
      } else {
        if (!areCompositeKeyComponentsEqual(prevComponent, nextComponent)) {
          return false;
        }
      }
    }
  }
  return true;
}
function areCompositeKeyComponentsEqual(prev, next) {
  if (prev === next) {
    return true;
  }
  if (prev instanceof _AnimatedNode.default) {
    return prev === next;
  }
  if (Array.isArray(prev)) {
    if (!Array.isArray(next)) {
      return false;
    }
    var length = prev.length;
    if (length !== next.length) {
      return false;
    }
    for (var ii = 0; ii < length; ii++) {
      if (!areCompositeKeyComponentsEqual(prev[ii], next[ii])) {
        return false;
      }
    }
    return true;
  }
  if ((0, _AnimatedObject.isPlainObject)(prev)) {
    if (!(0, _AnimatedObject.isPlainObject)(next)) {
      return false;
    }
    var keys = Object.keys(prev);
    var _length = keys.length;
    if (_length !== Object.keys(next).length) {
      return false;
    }
    for (var _ii = 0; _ii < _length; _ii++) {
      var key = keys[_ii];
      if (!hasOwn((0, _nullthrows.default)(next), key) || !areCompositeKeyComponentsEqual(prev[key], next[key])) {
        return false;
      }
    }
    return true;
  }
  return false;
}
var _hasOwnProp = Object.prototype.hasOwnProperty;
var hasOwn = (_Object$hasOwn = Object.hasOwn) != null ? _Object$hasOwn : function (obj, prop) {
  return _hasOwnProp.call(obj, prop);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQW5pbWF0ZWRFdmVudCIsInJlcXVpcmUiLCJfQW5pbWF0ZWROb2RlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9BbmltYXRlZE9iamVjdCIsIl9mbGF0dGVuU3R5bGUiLCJSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX251bGx0aHJvd3MiLCJfcmVhY3QiLCJfT2JqZWN0JGhhc093biIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiY3JlYXRlQW5pbWF0ZWRQcm9wc01lbW9Ib29rIiwiYWxsb3dsaXN0IiwidXNlQW5pbWF0ZWRQcm9wc01lbW8iLCJjcmVhdGUiLCJwcm9wcyIsInVzZUFuaW1hdGVkUHJvcHNJbXBsIiwiYXZvaWRTdGF0ZVVwZGF0ZUluQW5pbWF0ZWRQcm9wc01lbW8iLCJ1c2VBbmltYXRlZFByb3BzTWVtb19yZWYiLCJ1c2VBbmltYXRlZFByb3BzTWVtb19zdGF0ZSIsImNvbXBvc2l0ZUtleSIsInVzZU1lbW8iLCJjcmVhdGVDb21wb3NpdGVLZXlGb3JQcm9wcyIsInByZXZSZWYiLCJ1c2VSZWYiLCJwcmV2IiwiY3VycmVudCIsIm5leHQiLCJhcmVDb21wb3NpdGVLZXlzRXF1YWwiLCJub2RlIiwidXNlSW5zZXJ0aW9uRWZmZWN0IiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJ2YWx1ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJzdGF0ZSIsInNldFN0YXRlIiwia2V5cyIsImlpIiwibGVuZ3RoIiwia2V5IiwiaGFzT3duIiwiY29tcG9zaXRlS2V5Q29tcG9uZW50IiwiZmxhdFN0eWxlIiwiZmxhdHRlblN0eWxlIiwiY3JlYXRlQ29tcG9zaXRlS2V5Rm9yT2JqZWN0Iiwic3R5bGUiLCJBbmltYXRlZE5vZGUiLCJBbmltYXRlZEV2ZW50IiwiQXJyYXkiLCJpc0FycmF5IiwiY3JlYXRlQ29tcG9zaXRlS2V5Rm9yQXJyYXkiLCJpc1BsYWluT2JqZWN0IiwiYXJyYXkiLCJmaWxsIiwib2JqZWN0IiwibWF5YmVQcmV2IiwibWF5YmVOZXh0IiwicHJldkNvbXBvbmVudCIsIm5leHRDb21wb25lbnQiLCJhcmVDb21wb3NpdGVLZXlDb21wb25lbnRzRXF1YWwiLCJudWxsdGhyb3dzIiwiX2hhc093blByb3AiLCJwcm90b3R5cGUiLCJvYmoiLCJwcm9wIl0sInNvdXJjZXMiOlsiY3JlYXRlQW5pbWF0ZWRQcm9wc01lbW9Ib29rLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSBBbmltYXRlZFByb3BzIGZyb20gJy4uLy4uLy4uL0xpYnJhcmllcy9BbmltYXRlZC9ub2Rlcy9BbmltYXRlZFByb3BzJztcbmltcG9ydCB0eXBlIHtBbmltYXRlZFByb3BzQWxsb3dsaXN0fSBmcm9tICcuLi8uLi8uLi9MaWJyYXJpZXMvQW5pbWF0ZWQvbm9kZXMvQW5pbWF0ZWRQcm9wcyc7XG5pbXBvcnQgdHlwZSB7QW5pbWF0ZWRTdHlsZUFsbG93bGlzdH0gZnJvbSAnLi4vLi4vLi4vTGlicmFyaWVzL0FuaW1hdGVkL25vZGVzL0FuaW1hdGVkU3R5bGUnO1xuXG5pbXBvcnQge0FuaW1hdGVkRXZlbnR9IGZyb20gJy4uLy4uLy4uL0xpYnJhcmllcy9BbmltYXRlZC9BbmltYXRlZEV2ZW50JztcbmltcG9ydCBBbmltYXRlZE5vZGUgZnJvbSAnLi4vLi4vLi4vTGlicmFyaWVzL0FuaW1hdGVkL25vZGVzL0FuaW1hdGVkTm9kZSc7XG5pbXBvcnQge2lzUGxhaW5PYmplY3R9IGZyb20gJy4uLy4uLy4uL0xpYnJhcmllcy9BbmltYXRlZC9ub2Rlcy9BbmltYXRlZE9iamVjdCc7XG5pbXBvcnQgZmxhdHRlblN0eWxlIGZyb20gJy4uLy4uLy4uL0xpYnJhcmllcy9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgKiBhcyBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyBmcm9tICcuLi9mZWF0dXJlZmxhZ3MvUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQge3VzZUluc2VydGlvbkVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuXG50eXBlIENvbXBvc2l0ZUtleSA9IHtcbiAgc3R5bGU/OiB7W3N0cmluZ106IENvbXBvc2l0ZUtleUNvbXBvbmVudH0sXG4gIFtzdHJpbmddOlxuICAgIHwgQ29tcG9zaXRlS2V5Q29tcG9uZW50XG4gICAgfCBBbmltYXRlZEV2ZW50XG4gICAgfCAkUmVhZE9ubHlBcnJheTxtaXhlZD5cbiAgICB8ICRSZWFkT25seTx7W3N0cmluZ106IG1peGVkfT4sXG59O1xuXG50eXBlIENvbXBvc2l0ZUtleUNvbXBvbmVudCA9XG4gIHwgQW5pbWF0ZWROb2RlXG4gIHwgJFJlYWRPbmx5QXJyYXk8Q29tcG9zaXRlS2V5Q29tcG9uZW50IHwgbnVsbD5cbiAgfCAkUmVhZE9ubHk8e1tzdHJpbmddOiBDb21wb3NpdGVLZXlDb21wb25lbnR9PjtcblxudHlwZSAkUmVhZE9ubHlDb21wb3NpdGVLZXkgPSAkUmVhZE9ubHk8e1xuICBzdHlsZT86ICRSZWFkT25seTx7W3N0cmluZ106IENvbXBvc2l0ZUtleUNvbXBvbmVudH0+LFxuICBbc3RyaW5nXTpcbiAgICB8ICRSZWFkT25seUNvbXBvc2l0ZUtleUNvbXBvbmVudFxuICAgIHwgQW5pbWF0ZWRFdmVudFxuICAgIHwgJFJlYWRPbmx5QXJyYXk8bWl4ZWQ+XG4gICAgfCAkUmVhZE9ubHk8e1tzdHJpbmddOiBtaXhlZH0+LFxufT47XG5cbnR5cGUgJFJlYWRPbmx5Q29tcG9zaXRlS2V5Q29tcG9uZW50ID1cbiAgfCBBbmltYXRlZE5vZGVcbiAgfCAkUmVhZE9ubHlBcnJheTwkUmVhZE9ubHlDb21wb3NpdGVLZXlDb21wb25lbnQgfCBudWxsPlxuICB8ICRSZWFkT25seTx7W3N0cmluZ106ICRSZWFkT25seUNvbXBvc2l0ZUtleUNvbXBvbmVudH0+O1xuXG50eXBlIEFuaW1hdGVkUHJvcHNNZW1vSG9vayA9IChcbiAgKCkgPT4gQW5pbWF0ZWRQcm9wcyxcbiAgcHJvcHM6ICRSZWFkT25seTx7W3N0cmluZ106IG1peGVkfT4sXG4pID0+IEFuaW1hdGVkUHJvcHM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhvb2sgdGhhdCByZXR1cm5zIGFuIGBBbmltYXRlZFByb3BzYCBvYmplY3QgdGhhdCBpcyBtZW1vaXplZCBiYXNlZFxuICogb24gdGhlIHN1YnNldCBvZiBgcHJvcHNgIHRoYXQgYXJlIGluc3RhbmNlcyBvZiBgQW5pbWF0ZWROb2RlYCBvclxuICogYEFuaW1hdGVkRXZlbnRgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQW5pbWF0ZWRQcm9wc01lbW9Ib29rKFxuICBhbGxvd2xpc3Q6ID9BbmltYXRlZFByb3BzQWxsb3dsaXN0LFxuKTogQW5pbWF0ZWRQcm9wc01lbW9Ib29rIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVzZUFuaW1hdGVkUHJvcHNNZW1vKFxuICAgIGNyZWF0ZTogKCkgPT4gQW5pbWF0ZWRQcm9wcyxcbiAgICBwcm9wczogJFJlYWRPbmx5PHtbc3RyaW5nXTogbWl4ZWR9PixcbiAgKTogQW5pbWF0ZWRQcm9wcyB7XG4gICAgLy8gTk9URTogVGhpcyBmZWF0dXJlIGZsYWcgbXVzdCBiZSBldmFsdWF0ZWQgaW5zaWRlIHRoZSBob29rIGJlY2F1c2UgdGhpc1xuICAgIC8vIG1vZHVsZSBmYWN0b3J5IGNhbiBiZSBldmFsdWF0ZWQgbXVjaCBzb29uZXIsIGJlZm9yZSBvdmVycmlkZXMgYXJlIHNldC5cbiAgICBjb25zdCB1c2VBbmltYXRlZFByb3BzSW1wbCA9XG4gICAgICBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncy5hdm9pZFN0YXRlVXBkYXRlSW5BbmltYXRlZFByb3BzTWVtbygpXG4gICAgICAgID8gdXNlQW5pbWF0ZWRQcm9wc01lbW9fcmVmXG4gICAgICAgIDogdXNlQW5pbWF0ZWRQcm9wc01lbW9fc3RhdGU7XG4gICAgcmV0dXJuIHVzZUFuaW1hdGVkUHJvcHNJbXBsKGNyZWF0ZSwgcHJvcHMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHVzZUFuaW1hdGVkUHJvcHNNZW1vX3JlZihcbiAgICBjcmVhdGU6ICgpID0+IEFuaW1hdGVkUHJvcHMsXG4gICAgcHJvcHM6ICRSZWFkT25seTx7W3N0cmluZ106IG1peGVkfT4sXG4gICk6IEFuaW1hdGVkUHJvcHMge1xuICAgIGNvbnN0IGNvbXBvc2l0ZUtleSA9IHVzZU1lbW8oXG4gICAgICAoKSA9PiBjcmVhdGVDb21wb3NpdGVLZXlGb3JQcm9wcyhwcm9wcywgYWxsb3dsaXN0KSxcbiAgICAgIFtwcm9wc10sXG4gICAgKTtcblxuICAgIGNvbnN0IHByZXZSZWYgPSB1c2VSZWY8PyRSZWFkT25seTx7XG4gICAgICBjb21wb3NpdGVLZXk6IHR5cGVvZiBjb21wb3NpdGVLZXksXG4gICAgICBub2RlOiBBbmltYXRlZFByb3BzLFxuICAgIH0+PigpO1xuICAgIGNvbnN0IHByZXYgPSBwcmV2UmVmLmN1cnJlbnQ7XG5cbiAgICBjb25zdCBuZXh0ID1cbiAgICAgIHByZXYgIT0gbnVsbCAmJiBhcmVDb21wb3NpdGVLZXlzRXF1YWwocHJldi5jb21wb3NpdGVLZXksIGNvbXBvc2l0ZUtleSlcbiAgICAgICAgPyBwcmV2XG4gICAgICAgIDoge1xuICAgICAgICAgICAgY29tcG9zaXRlS2V5LFxuICAgICAgICAgICAgbm9kZTogY3JlYXRlKCksXG4gICAgICAgICAgfTtcblxuICAgIHVzZUluc2VydGlvbkVmZmVjdCgoKSA9PiB7XG4gICAgICBwcmV2UmVmLmN1cnJlbnQgPSBuZXh0O1xuICAgIH0sIFtuZXh0XSk7XG5cbiAgICByZXR1cm4gbmV4dC5ub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXNlQW5pbWF0ZWRQcm9wc01lbW9fc3RhdGUoXG4gICAgY3JlYXRlOiAoKSA9PiBBbmltYXRlZFByb3BzLFxuICAgIHByb3BzOiAkUmVhZE9ubHk8e1tzdHJpbmddOiBtaXhlZH0+LFxuICApOiBBbmltYXRlZFByb3BzIHtcbiAgICBjb25zdCBjb21wb3NpdGVLZXkgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gY3JlYXRlQ29tcG9zaXRlS2V5Rm9yUHJvcHMocHJvcHMsIGFsbG93bGlzdCksXG4gICAgICBbcHJvcHNdLFxuICAgICk7XG5cbiAgICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlPHtcbiAgICAgIGFsbG93bGlzdDogP0FuaW1hdGVkUHJvcHNBbGxvd2xpc3QsXG4gICAgICBjb21wb3NpdGVLZXk6ICRSZWFkT25seUNvbXBvc2l0ZUtleSB8IG51bGwsXG4gICAgICB2YWx1ZTogQW5pbWF0ZWRQcm9wcyxcbiAgICB9PigoKSA9PiAoe1xuICAgICAgYWxsb3dsaXN0LFxuICAgICAgY29tcG9zaXRlS2V5LFxuICAgICAgdmFsdWU6IGNyZWF0ZSgpLFxuICAgIH0pKTtcblxuICAgIGlmIChcbiAgICAgIHN0YXRlLmFsbG93bGlzdCAhPT0gYWxsb3dsaXN0IHx8XG4gICAgICAhYXJlQ29tcG9zaXRlS2V5c0VxdWFsKHN0YXRlLmNvbXBvc2l0ZUtleSwgY29tcG9zaXRlS2V5KVxuICAgICkge1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhbGxvd2xpc3QsXG4gICAgICAgIGNvbXBvc2l0ZUtleSxcbiAgICAgICAgdmFsdWU6IGNyZWF0ZSgpLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29tcG9zaXRlIGtleSBmb3IgYSBgcHJvcHNgIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGRldGVjdFxuICogd2hldGhlciBhIG5ldyBgQW5pbWF0ZWRQcm9wc2AgaW5zdGFuY2UgbXVzdCBiZSBjcmVhdGVkLlxuICpcbiAqIC0gV2l0aCBhbiBhbGxvd2xpc3QsIHRob3NlIHByb3BzIGFyZSBzZWFyY2hlZCBmb3IgYEFuaW1hdGVkTm9kZWAgaW5zdGFuY2VzLlxuICogLSBXaXRob3V0IGFuIGFsbG93bGlzdCwgYHN0eWxlYCBpcyBzZWFyY2hlZCBmb3IgYEFuaW1hdGVkTm9kZWAgaW5zdGFuY2VzLFxuICogICBidXQgYWxsIG90aGVyIG9iamVjdHMgYW5kIGFycmF5cyBhcmUgaW5jbHVkZWQgKG5vdCBzZWFyY2hlZCkuIFdlIGRvIG5vdFxuICogICBzZWFyY2ggb2JqZWN0cyBhbmQgYXJyYXlzIHdpdGhvdXQgYW4gYWxsb3dsaXN0IGluIGNhc2UgdGhleSBhcmUgdmVyeSBsYXJnZVxuICogICBkYXRhIHN0cnVjdHVyZXMuIFdlIHNhZmVseSB0cmF2ZXJzZSBgc3R5bGVgIGJlY3Vhc2UgaXQgaXMgYm91bmRlZC5cbiAqXG4gKiBBbnkgYEFuaW1hdGVkRXZlbnRgIGluc3RhbmNlcyBhdCB0aGUgZmlyc3QgZGVwdGggYXJlIGFsd2F5cyBpbmNsdWRlZC5cbiAqXG4gKiBJZiBgcHJvcHNgIGNvbnRhaW5zIG5vIGBBbmltYXRlZE5vZGVgIG9yIGBBbmltYXRlZEV2ZW50YCBpbnN0YW5jZXMsIHRoaXNcbiAqIHJldHVybnMgbnVsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvc2l0ZUtleUZvclByb3BzKFxuICBwcm9wczogJFJlYWRPbmx5PHtbc3RyaW5nXTogbWl4ZWR9PixcbiAgYWxsb3dsaXN0OiA/QW5pbWF0ZWRQcm9wc0FsbG93bGlzdCxcbik6ICRSZWFkT25seUNvbXBvc2l0ZUtleSB8IG51bGwge1xuICBsZXQgY29tcG9zaXRlS2V5OiBDb21wb3NpdGVLZXkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaWldO1xuICAgIGNvbnN0IHZhbHVlID0gcHJvcHNba2V5XTtcblxuICAgIGlmIChhbGxvd2xpc3QgPT0gbnVsbCB8fCBoYXNPd24oYWxsb3dsaXN0LCBrZXkpKSB7XG4gICAgICBsZXQgY29tcG9zaXRlS2V5Q29tcG9uZW50O1xuICAgICAgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXSAtIGBzdHlsZWAgaXMgYSB2YWxpZCBhcmd1bWVudC5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBgZmxhdHRlblN0eWxlYCByZXR1cm5zIGFuIG9iamVjdC5cbiAgICAgICAgY29uc3QgZmxhdFN0eWxlOiA/e1tzdHJpbmddOiBtaXhlZH0gPSBmbGF0dGVuU3R5bGUodmFsdWUpO1xuICAgICAgICBpZiAoZmxhdFN0eWxlICE9IG51bGwpIHtcbiAgICAgICAgICBjb21wb3NpdGVLZXlDb21wb25lbnQgPSBjcmVhdGVDb21wb3NpdGVLZXlGb3JPYmplY3QoXG4gICAgICAgICAgICBmbGF0U3R5bGUsXG4gICAgICAgICAgICBhbGxvd2xpc3Q/LnN0eWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlIHx8XG4gICAgICAgIHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWRFdmVudFxuICAgICAgKSB7XG4gICAgICAgIGNvbXBvc2l0ZUtleUNvbXBvbmVudCA9IHZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb21wb3NpdGVLZXlDb21wb25lbnQgPVxuICAgICAgICAgIGFsbG93bGlzdCA9PSBudWxsID8gdmFsdWUgOiBjcmVhdGVDb21wb3NpdGVLZXlGb3JBcnJheSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGNvbXBvc2l0ZUtleUNvbXBvbmVudCA9XG4gICAgICAgICAgYWxsb3dsaXN0ID09IG51bGwgPyB2YWx1ZSA6IGNyZWF0ZUNvbXBvc2l0ZUtleUZvck9iamVjdCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcG9zaXRlS2V5Q29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZUtleSA9PSBudWxsKSB7XG4gICAgICAgICAgY29tcG9zaXRlS2V5ID0ge30gYXMgQ29tcG9zaXRlS2V5O1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvc2l0ZUtleVtrZXldID0gY29tcG9zaXRlS2V5Q29tcG9uZW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb21wb3NpdGVLZXk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21wb3NpdGUga2V5IGZvciBhbiBhcnJheSB0aGF0IHJldGFpbnMgYWxsIHZhbHVlcyB0aGF0IGFyZSBvclxuICogY29udGFpbiBgQW5pbWF0ZWROb2RlYCBpbnN0YW5jZXMsIGFuZCBgbnVsbGAgZm9yIHRoZSByZXN0LlxuICpcbiAqIElmIGBhcnJheWAgY29udGFpbnMgbm8gYEFuaW1hdGVkTm9kZWAgaW5zdGFuY2VzLCB0aGlzIHJldHVybnMgbnVsbC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9zaXRlS2V5Rm9yQXJyYXkoXG4gIGFycmF5OiAkUmVhZE9ubHlBcnJheTxtaXhlZD4sXG4pOiAkUmVhZE9ubHlBcnJheTwkUmVhZE9ubHlDb21wb3NpdGVLZXlDb21wb25lbnQgfCBudWxsPiB8IG51bGwge1xuICBsZXQgY29tcG9zaXRlS2V5OiBBcnJheTwkUmVhZE9ubHlDb21wb3NpdGVLZXlDb21wb25lbnQgfCBudWxsPiB8IG51bGwgPSBudWxsO1xuXG4gIGZvciAobGV0IGlpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gYXJyYXlbaWldO1xuXG4gICAgbGV0IGNvbXBvc2l0ZUtleUNvbXBvbmVudDtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZE5vZGUpIHtcbiAgICAgIGNvbXBvc2l0ZUtleUNvbXBvbmVudCA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGNvbXBvc2l0ZUtleUNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvc2l0ZUtleUZvckFycmF5KHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICBjb21wb3NpdGVLZXlDb21wb25lbnQgPSBjcmVhdGVDb21wb3NpdGVLZXlGb3JPYmplY3QodmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY29tcG9zaXRlS2V5Q29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgIGlmIChjb21wb3NpdGVLZXkgPT0gbnVsbCkge1xuICAgICAgICBjb21wb3NpdGVLZXkgPSBuZXcgQXJyYXk8JFJlYWRPbmx5Q29tcG9zaXRlS2V5Q29tcG9uZW50IHwgbnVsbD4oXG4gICAgICAgICAgYXJyYXkubGVuZ3RoLFxuICAgICAgICApLmZpbGwobnVsbCk7XG4gICAgICB9XG4gICAgICBjb21wb3NpdGVLZXlbaWldID0gY29tcG9zaXRlS2V5Q29tcG9uZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb21wb3NpdGVLZXk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21wb3NpdGUga2V5IGZvciBhbiBvYmplY3QgdGhhdCByZXRhaW5zIG9ubHkgcHJvcGVydGllcyB0aGF0XG4gKiBhcmUgb3IgY29udGFpbiBgQW5pbWF0ZWROb2RlYCBpbnN0YW5jZXMuXG4gKlxuICogV2hlbiB1c2VkIHRvIGNyZWF0ZSBjb21wb3NpdGUga2V5cyBmb3IgYHN0eWxlYCBwcm9wczpcbiAqXG4gKiAtIFdpdGggYW4gYWxsb3dsaXN0LCB0aG9zZSBwcm9wZXJ0aWVzIGFyZSBzZWFyY2hlZC5cbiAqIC0gV2l0aG91dCBhbiBhbGxvd2xpc3QsIGV2ZXJ5IHByb3BlcnR5IGlzIHNlYXJjaGVkLlxuICpcbiAqIElmIGBvYmplY3RgIGNvbnRhaW5zIG5vIGBBbmltYXRlZE5vZGVgIGluc3RhbmNlcywgdGhpcyByZXR1cm5zIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvc2l0ZUtleUZvck9iamVjdChcbiAgb2JqZWN0OiAkUmVhZE9ubHk8e1tzdHJpbmddOiBtaXhlZH0+LFxuICBhbGxvd2xpc3Q/OiA/QW5pbWF0ZWRTdHlsZUFsbG93bGlzdCxcbik6ICRSZWFkT25seTx7W3N0cmluZ106ICRSZWFkT25seUNvbXBvc2l0ZUtleUNvbXBvbmVudH0+IHwgbnVsbCB7XG4gIGxldCBjb21wb3NpdGVLZXk6IHtbc3RyaW5nXTogJFJlYWRPbmx5Q29tcG9zaXRlS2V5Q29tcG9uZW50fSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaWldO1xuXG4gICAgaWYgKGFsbG93bGlzdCA9PSBudWxsIHx8IGhhc093bihhbGxvd2xpc3QsIGtleSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgIGxldCBjb21wb3NpdGVLZXlDb21wb25lbnQ7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZE5vZGUpIHtcbiAgICAgICAgY29tcG9zaXRlS2V5Q29tcG9uZW50ID0gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGNvbXBvc2l0ZUtleUNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvc2l0ZUtleUZvckFycmF5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgY29tcG9zaXRlS2V5Q29tcG9uZW50ID0gY3JlYXRlQ29tcG9zaXRlS2V5Rm9yT2JqZWN0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wb3NpdGVLZXlDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoY29tcG9zaXRlS2V5ID09IG51bGwpIHtcbiAgICAgICAgICBjb21wb3NpdGVLZXkgPSB7fSBhcyB7W3N0cmluZ106ICRSZWFkT25seUNvbXBvc2l0ZUtleUNvbXBvbmVudH07XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9zaXRlS2V5W2tleV0gPSBjb21wb3NpdGVLZXlDb21wb25lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbXBvc2l0ZUtleTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFyZUNvbXBvc2l0ZUtleXNFcXVhbChcbiAgbWF5YmVQcmV2OiAkUmVhZE9ubHlDb21wb3NpdGVLZXkgfCBudWxsLFxuICBtYXliZU5leHQ6ICRSZWFkT25seUNvbXBvc2l0ZUtleSB8IG51bGwsXG4gIGFsbG93bGlzdDogP0FuaW1hdGVkUHJvcHNBbGxvd2xpc3QsXG4pOiBib29sZWFuIHtcbiAgaWYgKG1heWJlUHJldiA9PT0gbWF5YmVOZXh0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG1heWJlUHJldiA9PT0gbnVsbCB8fCBtYXliZU5leHQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gSGVscCBGbG93IHJldGFpbiB0aGUgdHlwZSByZWZpbmVtZW50cyBvZiB0aGVzZS5cbiAgY29uc3QgcHJldiA9IG1heWJlUHJldjtcbiAgY29uc3QgbmV4dCA9IG1heWJlTmV4dDtcblxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJldik7XG4gIGNvbnN0IGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhuZXh0KS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaWldO1xuICAgIGlmICghaGFzT3duKG5leHQsIGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcHJldkNvbXBvbmVudCA9IHByZXZba2V5XTtcbiAgICBjb25zdCBuZXh0Q29tcG9uZW50ID0gbmV4dFtrZXldO1xuXG4gICAgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgLy8gV2Uga25vdyBzdHlsZSBjb21wb25lbnRzIGFyZSBvYmplY3RzIHdpdGggbm9uLW1peGVkIHZhbHVlcy5cbiAgICAgIGlmIChcbiAgICAgICAgIWFyZUNvbXBvc2l0ZUtleUNvbXBvbmVudHNFcXVhbChcbiAgICAgICAgICAvLyAkRmxvd0lnbm9yZVtpbmNvbXBhdGlibGUtY2FzdF1cbiAgICAgICAgICBwcmV2Q29tcG9uZW50IGFzICRSZWFkT25seUNvbXBvc2l0ZUtleUNvbXBvbmVudCxcbiAgICAgICAgICAvLyAkRmxvd0lnbm9yZVtpbmNvbXBhdGlibGUtY2FzdF1cbiAgICAgICAgICBuZXh0Q29tcG9uZW50IGFzICRSZWFkT25seUNvbXBvc2l0ZUtleUNvbXBvbmVudCxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcHJldkNvbXBvbmVudCBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSB8fFxuICAgICAgcHJldkNvbXBvbmVudCBpbnN0YW5jZW9mIEFuaW1hdGVkRXZlbnRcbiAgICApIHtcbiAgICAgIGlmIChwcmV2Q29tcG9uZW50ICE9PSBuZXh0Q29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2hlbiBgYWxsb3dsaXN0YCBpcyBudWxsLCB0aGUgY29tcG9uZW50cyBtdXN0IGJlIHRoZSBzYW1lLiBPdGhlcndpc2UsXG4gICAgICAvLyB3ZSBjcmVhdGVkIHRoZSBjb21wb25lbnRzIHVzaW5nIGRlZXAgdHJhdmVyc2FsLCBzbyBkZWVwIGNvbXBhcmUgdGhlbS5cbiAgICAgIGlmIChhbGxvd2xpc3QgPT0gbnVsbCkge1xuICAgICAgICBpZiAocHJldkNvbXBvbmVudCAhPT0gbmV4dENvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFhcmVDb21wb3NpdGVLZXlDb21wb25lbnRzRXF1YWwoXG4gICAgICAgICAgICAvLyAkRmxvd0lnbm9yZVtpbmNvbXBhdGlibGUtY2FzdF1cbiAgICAgICAgICAgIHByZXZDb21wb25lbnQgYXMgJFJlYWRPbmx5Q29tcG9zaXRlS2V5Q29tcG9uZW50LFxuICAgICAgICAgICAgLy8gJEZsb3dJZ25vcmVbaW5jb21wYXRpYmxlLWNhc3RdXG4gICAgICAgICAgICBuZXh0Q29tcG9uZW50IGFzICRSZWFkT25seUNvbXBvc2l0ZUtleUNvbXBvbmVudCxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gYXJlQ29tcG9zaXRlS2V5Q29tcG9uZW50c0VxdWFsKFxuICBwcmV2OiAkUmVhZE9ubHlDb21wb3NpdGVLZXlDb21wb25lbnQgfCBudWxsLFxuICBuZXh0OiAkUmVhZE9ubHlDb21wb3NpdGVLZXlDb21wb25lbnQgfCBudWxsLFxuKTogYm9vbGVhbiB7XG4gIGlmIChwcmV2ID09PSBuZXh0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHByZXYgaW5zdGFuY2VvZiBBbmltYXRlZE5vZGUpIHtcbiAgICByZXR1cm4gcHJldiA9PT0gbmV4dDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShwcmV2KSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsZW5ndGggPSBwcmV2Lmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBpZiAoIWFyZUNvbXBvc2l0ZUtleUNvbXBvbmVudHNFcXVhbChwcmV2W2lpXSwgbmV4dFtpaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGlzUGxhaW5PYmplY3QocHJldikpIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QobmV4dCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByZXYpO1xuICAgIGNvbnN0IGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKG5leHQpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2lpXTtcbiAgICAgIGlmIChcbiAgICAgICAgIWhhc093bihudWxsdGhyb3dzKG5leHQpLCBrZXkpIHx8XG4gICAgICAgICFhcmVDb21wb3NpdGVLZXlDb21wb25lbnRzRXF1YWwocHJldltrZXldLCBuZXh0W2tleV0pXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIFN1cHBvcnRlZCB2ZXJzaW9ucyBvZiBKU0MgZG8gbm90IGltcGxlbWVudCB0aGUgbmV3ZXIgT2JqZWN0Lmhhc093bi4gUmVtb3ZlXG4vLyB0aGlzIHNoaW0gd2hlbiB0aGV5IGRvLlxuLy8gJEZsb3dJZ25vcmVbbWV0aG9kLXVuYmluZGluZ11cbmNvbnN0IF9oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGhhc093bjogKG9iajogJFJlYWRPbmx5PHsuLi59PiwgcHJvcDogc3RyaW5nKSA9PiBib29sZWFuID1cbiAgLy8gJEZsb3dJZ25vcmVbbWV0aG9kLXVuYmluZGluZ11cbiAgT2JqZWN0Lmhhc093biA/PyAoKG9iaiwgcHJvcCkgPT4gX2hhc093blByb3AuY2FsbChvYmosIHByb3ApKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFjQSxJQUFBQSxjQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxhQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSyx1QkFBQSxHQUFBQyx1QkFBQSxDQUFBTixPQUFBO0FBQ0EsSUFBQU8sV0FBQSxHQUFBTCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQVEsTUFBQSxHQUFBUixPQUFBO0FBQW9FLElBQUFTLGNBQUE7QUFBQSxTQUFBSCx3QkFBQUksQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEs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