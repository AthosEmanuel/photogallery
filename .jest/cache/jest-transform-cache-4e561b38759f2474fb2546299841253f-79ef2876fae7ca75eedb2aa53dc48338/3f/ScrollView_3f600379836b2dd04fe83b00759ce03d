895a02ebd8a8294bea0868a5cb8cd63c
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _HScrollViewNativeComponents = require("../../../src/private/components/scrollview/HScrollViewNativeComponents");
var _VScrollViewNativeComponents = require("../../../src/private/components/scrollview/VScrollViewNativeComponents");
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _View = _interopRequireDefault(require("../View/View"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _invariant = _interopRequireDefault(require("invariant"));
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var _react = _interopRequireWildcard(require("react"));
var React = _react;
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["experimental_endDraggingSensitivityMultiplier"],
  _excluded2 = ["ref"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var ScrollView = function (_React$Component) {
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _callSuper(this, ScrollView, [props]);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardMetrics = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this.getScrollResponder = function () {
      return _this;
    };
    _this.getScrollableNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this.getNativeScrollRef());
    };
    _this.getInnerViewNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._innerView.nativeInstance);
    };
    _this.getInnerViewRef = function () {
      return _this._innerView.nativeInstance;
    };
    _this.getNativeScrollRef = function () {
      return _this._scrollView.nativeInstance;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(component, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(component, animated);
    };
    _this.flashScrollIndicators = function () {
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(component);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerView.nativeInstance == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, (0, _nullthrows.default)((0, _RendererProxy.findNodeHandle)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerView.nativeInstance, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(component, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardMetrics != null) {
          keyboardScreenY = _this._keyboardMetrics.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardMetrics == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._innerView = createRefForwarder(function (instance) {
      return instance;
    });
    _this._scrollView = createRefForwarder(function (nativeInstance) {
      var publicInstance = Object.assign(nativeInstance, {
        getScrollResponder: _this.getScrollResponder,
        getScrollableNode: _this.getScrollableNode,
        getInnerViewNode: _this.getInnerViewNode,
        getInnerViewRef: _this.getInnerViewRef,
        getNativeScrollRef: _this.getNativeScrollRef,
        scrollTo: _this.scrollTo,
        scrollToEnd: _this.scrollToEnd,
        flashScrollIndicators: _this.flashScrollIndicators,
        scrollResponderZoomTo: _this.scrollResponderZoomTo,
        scrollResponderScrollNativeHandleToKeyboard: _this.scrollResponderScrollNativeHandleToKeyboard
      });
      return publicInstance;
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && _this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (_this._softKeyboardIsDetached()) {
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardMetrics != null || _this._keyboardEventsAreUnreliable();
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._softKeyboardIsDetached = function () {
      return _this._keyboardMetrics != null && _this._keyboardMetrics.height === 0;
    };
    _this._keyboardEventsAreUnreliable = function () {
      return _Platform.default.OS === 'android' && _Platform.default.Version < 30;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistsTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && e.target !== currentlyFocusedTextInput && _this._softKeyboardIsDetached() && _this._keyboardIsDismissible() && keyboardNeverPersistsTaps) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _inherits2.default)(ScrollView, _React$Component);
  return (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn(`'keyboardShouldPersistTaps={${this.props.keyboardShouldPersistTaps === true ? 'true' : 'false'}}' is deprecated. ` + `Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps ? 'always' : 'never'}"' instead`);
      }
      this._keyboardMetrics = _Keyboard.default.metrics();
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this.getNativeScrollRef(), 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var horizontal = this.props.horizontal === true;
      var NativeScrollView = horizontal ? _HScrollViewNativeComponents.HScrollViewNativeComponent : _VScrollViewNativeComponents.VScrollViewNativeComponent;
      var NativeScrollContentView = horizontal ? _HScrollViewNativeComponents.HScrollContentViewNativeComponent : _VScrollViewNativeComponents.VScrollContentViewNativeComponent;
      var contentContainerStyle = [horizontal && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      children = React.Children.toArray(children);
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        children = children.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(key, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, children)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: horizontal ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var preserveChildren = this.props.maintainVisibleContentPosition != null || _Platform.default.OS === 'android' && this.props.snapToAlignment != null;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeScrollContentView, Object.assign({}, contentSizeChangeProps, {
        ref: this._innerView.getForwardingRef(this.props.innerViewRef),
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        collapsableChildren: !preserveChildren,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = horizontal ? styles.baseHorizontal : styles.baseVertical;
      var _this$props = this.props,
        experimental_endDraggingSensitivityMultiplier = _this$props.experimental_endDraggingSensitivityMultiplier,
        otherProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);
      var props = Object.assign({}, otherProps, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        endDraggingSensitivityMultiplier: experimental_endDraggingSensitivityMultiplier,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      var scrollViewRef = this._scrollView.getForwardingRef(this.props.scrollViewRef);
      if (refreshControl != null) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeScrollView, Object.assign({}, props, {
            ref: scrollViewRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return (0, _react.cloneElement)(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeScrollView, Object.assign({}, props, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: scrollViewRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeScrollView, Object.assign({}, props, {
        ref: scrollViewRef,
        children: contentContainer
      }));
    }
  }]);
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function createRefForwarder(mutator) {
  var state = {
    getForwardingRef: (0, _memoizeOne.default)(function (forwardedRef) {
      return function (nativeInstance) {
        var publicInstance = nativeInstance == null ? null : mutator(nativeInstance);
        state.nativeInstance = nativeInstance;
        state.publicInstance = publicInstance;
        if (forwardedRef != null) {
          if (typeof forwardedRef === 'function') {
            forwardedRef(publicInstance);
          } else {
            forwardedRef.current = publicInstance;
          }
        }
      };
    }),
    nativeInstance: null,
    publicInstance: null
  };
  return state;
}
var ScrollViewWrapper = function Wrapper(_ref2) {
  var ref = _ref2.ref,
    props = (0, _objectWithoutProperties2.default)(_ref2, _excluded2);
  return ref == null ? (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props)) : (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props, {
    scrollViewRef: ref
  }));
};
ScrollViewWrapper.displayName = 'ScrollView';
ScrollViewWrapper.Context = _ScrollViewContext.default;
var _default = exports.default = ScrollViewWrapper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfSFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnRzIiwicmVxdWlyZSIsIl9WU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudHMiLCJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfRnJhbWVSYXRlTG9nZ2VyIiwiX1JlbmRlcmVyUHJveHkiLCJfVUlNYW5hZ2VyIiwiX2ZsYXR0ZW5TdHlsZSIsIl9zcGxpdExheW91dFByb3BzMiIsIl9TdHlsZVNoZWV0IiwiX0RpbWVuc2lvbnMiLCJfZGlzbWlzc0tleWJvYXJkIiwiX1BsYXRmb3JtIiwiX0tleWJvYXJkIiwiX1RleHRJbnB1dFN0YXRlIiwiX1ZpZXciLCJfcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUiLCJfU2Nyb2xsVmlld0NvbW1hbmRzIiwiX1Njcm9sbFZpZXdDb250ZXh0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsIl9pbnZhcmlhbnQiLCJfbWVtb2l6ZU9uZSIsIl9udWxsdGhyb3dzIiwiX3JlYWN0IiwiUmVhY3QiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsIl9leGNsdWRlZDIiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9jYWxsU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TIiwiU2Nyb2xsVmlldyIsIl9SZWFjdCRDb21wb25lbnQiLCJwcm9wcyIsIl90aGlzJHByb3BzJGNvbnRlbnRPZiIsIl90aGlzJHByb3BzJGNvbnRlbnRPZjIiLCJfdGhpcyRwcm9wcyRjb250ZW50SW4iLCJfdGhpcyRwcm9wcyRjb250ZW50SW4yIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50IiwiX3N0aWNreUhlYWRlclJlZnMiLCJNYXAiLCJfaGVhZGVyTGF5b3V0WXMiLCJfa2V5Ym9hcmRNZXRyaWNzIiwiX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQiLCJfaXNUb3VjaGluZyIsIl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWUiLCJfbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSIsIl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIiLCJfYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmciLCJfcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiX2FuaW1hdGVkIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3ciLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3ciLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlIiwic3RhdGUiLCJsYXlvdXRIZWlnaHQiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0TmF0aXZlU2Nyb2xsUmVmIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsIl9pbm5lclZpZXciLCJuYXRpdmVJbnN0YW5jZSIsImdldElubmVyVmlld1JlZiIsIl9zY3JvbGxWaWV3Iiwic2Nyb2xsVG8iLCJvcHRpb25zIiwiZGVwcmVjYXRlZFgiLCJkZXByZWNhdGVkQW5pbWF0ZWQiLCJ4IiwieSIsImFuaW1hdGVkIiwiY29uc29sZSIsIndhcm4iLCJjb21wb25lbnQiLCJDb21tYW5kcyIsInNjcm9sbFRvRW5kIiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCIsIm5vZGVIYW5kbGUiLCJhZGRpdGlvbmFsT2Zmc2V0IiwicHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiVUlNYW5hZ2VyIiwibWVhc3VyZUxheW91dCIsIm51bGx0aHJvd3MiLCJfdGV4dElucHV0Rm9jdXNFcnJvciIsIl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkIiwic2Nyb2xsUmVzcG9uZGVyWm9vbVRvIiwicmVjdCIsImludmFyaWFudCIsIlBsYXRmb3JtIiwiT1MiLCJ6b29tVG9SZWN0IiwibGVmdCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0Iiwia2V5Ym9hcmRTY3JlZW5ZIiwiRGltZW5zaW9ucyIsInNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCIsInNjcmVlblkiLCJzY3JvbGxPZmZzZXRZIiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJfaGFuZGxlU2Nyb2xsIiwib25TY3JvbGwiLCJfaGFuZGxlTGF5b3V0IiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInNldFN0YXRlIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJvbkxheW91dCIsIl9oYW5kbGVDb250ZW50T25MYXlvdXQiLCJfZSRuYXRpdmVFdmVudCRsYXlvdXQiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwiY3JlYXRlUmVmRm9yd2FyZGVyIiwiaW5zdGFuY2UiLCJwdWJsaWNJbnN0YW5jZSIsImFzc2lnbiIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3ciLCJlbmRDb29yZGluYXRlcyIsIm9uS2V5Ym9hcmRXaWxsU2hvdyIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGUiLCJvbktleWJvYXJkV2lsbEhpZGUiLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3ciLCJvbktleWJvYXJkRGlkU2hvdyIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZSIsIm9uS2V5Ym9hcmREaWRIaWRlIiwiX2hhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4iLCJnbG9iYWwiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZCIsIkZyYW1lUmF0ZUxvZ2dlciIsImVuZFNjcm9sbCIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJfaGFuZGxlU2Nyb2xsQmVnaW5EcmFnIiwiYmVnaW5TY3JvbGwiLCJrZXlib2FyZERpc21pc3NNb2RlIiwiZGlzbWlzc0tleWJvYXJkIiwib25TY3JvbGxCZWdpbkRyYWciLCJfaGFuZGxlU2Nyb2xsRW5kRHJhZyIsInZlbG9jaXR5IiwiX2lzQW5pbWF0aW5nIiwib25TY3JvbGxFbmREcmFnIiwidGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIiwiaXNBbmltYXRpbmciLCJfaGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlckdyYW50IiwiX2hhbmRsZVJlc3BvbmRlclJlamVjdCIsIl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwidG91Y2hlcyIsImxlbmd0aCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsInRhcmdldCIsIl9fREVWX18iLCJlcnJvciIsImN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQiLCJUZXh0SW5wdXRTdGF0ZSIsImN1cnJlbnRseUZvY3VzZWRJbnB1dCIsImtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMiLCJfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlIiwiYmx1clRleHRJbnB1dCIsIl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwiZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwia2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzIiwiX3NvZnRLZXlib2FyZElzRGV0YWNoZWQiLCJpc1RleHRJbnB1dCIsImhhc0ZvY3VzZWRUZXh0SW5wdXQiLCJzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4iLCJfa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlIiwiVmVyc2lvbiIsIl9oYW5kbGVUb3VjaEVuZCIsImtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHMiLCJvblRvdWNoRW5kIiwiX2hhbmRsZVRvdWNoQ2FuY2VsIiwib25Ub3VjaENhbmNlbCIsIl9oYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0IiwiX2hhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hNb3ZlIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZEltcGxlbWVudGF0aW9uIiwiVmFsdWUiLCJjb250ZW50T2Zmc2V0Iiwic2V0T2Zmc2V0IiwiY29udGVudEluc2V0IiwiX2luaGVyaXRzMiIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsImNvbXBvbmVudERpZE1vdW50IiwiS2V5Ym9hcmQiLCJtZXRyaWNzIiwiYWRkTGlzdGVuZXIiLCJfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInByZXZDb250ZW50SW5zZXRUb3AiLCJuZXdDb250ZW50SW5zZXRUb3AiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZSIsImRldGFjaCIsIl9nZXRLZXlGb3JJbmRleCIsImluZGV4IiwiY2hpbGRBcnJheSIsImNoaWxkIiwic3RpY2t5SGVhZGVySW5kaWNlcyIsImF0dGFjaE5hdGl2ZUV2ZW50IiwiX3NldFN0aWNreUhlYWRlclJlZiIsInJlZiIsImRlbGV0ZSIsIl9vblN0aWNreUhlYWRlckxheW91dCIsImV2ZW50IiwiQ2hpbGRyZW4iLCJ0b0FycmF5IiwiY2hpbGRyZW4iLCJsYXlvdXRZIiwiaW5kZXhPZkluZGV4IiwiaW5kZXhPZiIsInByZXZpb3VzSGVhZGVySW5kZXgiLCJwcmV2aW91c0hlYWRlciIsInNldE5leHRIZWFkZXJZIiwicmVuZGVyIiwiX3RoaXMyIiwiaG9yaXpvbnRhbCIsIk5hdGl2ZVNjcm9sbFZpZXciLCJIU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIlZTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiTmF0aXZlU2Nyb2xsQ29udGVudFZpZXciLCJIU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJWU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJzdHlsZXMiLCJjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCIsInN0eWxlIiwidW5kZWZpbmVkIiwiZmxhdHRlblN0eWxlIiwiY2hpbGRMYXlvdXRQcm9wcyIsImZpbHRlciIsInByb3AiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudFNpemVDaGFuZ2VQcm9wcyIsIm1hcCIsIm5leHRJbmRleCIsIlN0aWNreUhlYWRlckNvbXBvbmVudCIsIlNjcm9sbFZpZXdTdGlja3lIZWFkZXIiLCJqc3giLCJuZXh0SGVhZGVyTGF5b3V0WSIsInNjcm9sbEFuaW1hdGVkVmFsdWUiLCJpbnZlcnRlZCIsImhpZGRlbk9uU2Nyb2xsIiwic3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGwiLCJzY3JvbGxWaWV3SGVpZ2h0IiwiUHJvdmlkZXIiLCJIT1JJWk9OVEFMIiwiVkVSVElDQUwiLCJoYXNTdGlja3lIZWFkZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwicHJlc2VydmVDaGlsZHJlbiIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiIsInNuYXBUb0FsaWdubWVudCIsImNvbnRlbnRDb250YWluZXIiLCJnZXRGb3J3YXJkaW5nUmVmIiwiaW5uZXJWaWV3UmVmIiwicmVtb3ZlQ2xpcHBlZFN1YnZpZXdzIiwiY29sbGFwc2FibGUiLCJjb2xsYXBzYWJsZUNoaWxkcmVuIiwiYWx3YXlzQm91bmNlSG9yaXpvbnRhbCIsImFsd2F5c0JvdW5jZVZlcnRpY2FsIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJfdGhpcyRwcm9wcyIsImV4cGVyaW1lbnRhbF9lbmREcmFnZ2luZ1NlbnNpdGl2aXR5TXVsdGlwbGllciIsIm90aGVyUHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiU3R5bGVTaGVldCIsImNvbXBvc2UiLCJvblJlc3BvbmRlclJlamVjdCIsIm9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0Iiwib25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJlbmREcmFnZ2luZ1NlbnNpdGl2aXR5TXVsdGlwbGllciIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJzZW5kTW9tZW50dW1FdmVudHMiLCJzbmFwVG9TdGFydCIsInNuYXBUb0VuZCIsInBhZ2luZ0VuYWJsZWQiLCJzZWxlY3QiLCJpb3MiLCJzbmFwVG9JbnRlcnZhbCIsInNuYXBUb09mZnNldHMiLCJhbmRyb2lkIiwiZGVjZWxlcmF0aW9uUmF0ZSIsInByb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwicmVmcmVzaENvbnRyb2wiLCJzY3JvbGxWaWV3UmVmIiwianN4cyIsIl9zcGxpdExheW91dFByb3BzIiwic3BsaXRMYXlvdXRQcm9wcyIsIm91dGVyIiwiaW5uZXIiLCJjbG9uZUVsZW1lbnQiLCJDb21wb25lbnQiLCJDb250ZXh0IiwiU2Nyb2xsVmlld0NvbnRleHQiLCJjcmVhdGUiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3ciLCJtdXRhdG9yIiwibWVtb2l6ZSIsImZvcndhcmRlZFJlZiIsImN1cnJlbnQiLCJTY3JvbGxWaWV3V3JhcHBlciIsIldyYXBwZXIiLCJfcmVmMiIsImRpc3BsYXlOYW1lIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiU2Nyb2xsVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHR5cGUge0hvc3RJbnN0YW5jZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3ByaXZhdGUvdHlwZXMvSG9zdEluc3RhbmNlJztcbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1BvaW50UHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9Qb2ludFByb3BUeXBlJztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIEdlc3R1cmVSZXNwb25kZXJFdmVudCxcbiAgTGF5b3V0Q2hhbmdlRXZlbnQsXG4gIFNjcm9sbEV2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7RXZlbnRTdWJzY3JpcHRpb259IGZyb20gJy4uLy4uL3ZlbmRvci9lbWl0dGVyL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgdHlwZSB7S2V5Ym9hcmRFdmVudCwgS2V5Ym9hcmRNZXRyaWNzfSBmcm9tICcuLi9LZXlib2FyZC9LZXlib2FyZCc7XG5pbXBvcnQgdHlwZSB7Vmlld1Byb3BzfSBmcm9tICcuLi9WaWV3L1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1Njcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wc30gZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcblxuaW1wb3J0IHtcbiAgSFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICBIU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3ByaXZhdGUvY29tcG9uZW50cy9zY3JvbGx2aWV3L0hTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBWU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gIFZTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxufSBmcm9tICcuLi8uLi8uLi9zcmMvcHJpdmF0ZS9jb21wb25lbnRzL3Njcm9sbHZpZXcvVlNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnRzJztcbmltcG9ydCBBbmltYXRlZEltcGxlbWVudGF0aW9uIGZyb20gJy4uLy4uL0FuaW1hdGVkL0FuaW1hdGVkSW1wbGVtZW50YXRpb24nO1xuaW1wb3J0IEZyYW1lUmF0ZUxvZ2dlciBmcm9tICcuLi8uLi9JbnRlcmFjdGlvbi9GcmFtZVJhdGVMb2dnZXInO1xuaW1wb3J0IHtmaW5kTm9kZUhhbmRsZX0gZnJvbSAnLi4vLi4vUmVhY3ROYXRpdmUvUmVuZGVyZXJQcm94eSc7XG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gJy4uLy4uL1JlYWN0TmF0aXZlL1VJTWFuYWdlcic7XG5pbXBvcnQgZmxhdHRlblN0eWxlIGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvZmxhdHRlblN0eWxlJztcbmltcG9ydCBzcGxpdExheW91dFByb3BzIGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvc3BsaXRMYXlvdXRQcm9wcyc7XG5pbXBvcnQgU3R5bGVTaGVldCBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IERpbWVuc2lvbnMgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL0RpbWVuc2lvbnMnO1xuaW1wb3J0IGRpc21pc3NLZXlib2FyZCBmcm9tICcuLi8uLi9VdGlsaXRpZXMvZGlzbWlzc0tleWJvYXJkJztcbmltcG9ydCBQbGF0Zm9ybSBmcm9tICcuLi8uLi9VdGlsaXRpZXMvUGxhdGZvcm0nO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCBUZXh0SW5wdXRTdGF0ZSBmcm9tICcuLi9UZXh0SW5wdXQvVGV4dElucHV0U3RhdGUnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi4vVmlldy9WaWV3JztcbmltcG9ydCBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSBmcm9tICcuL3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlJztcbmltcG9ydCBDb21tYW5kcyBmcm9tICcuL1Njcm9sbFZpZXdDb21tYW5kcyc7XG5pbXBvcnQgU2Nyb2xsVmlld0NvbnRleHQsIHtIT1JJWk9OVEFMLCBWRVJUSUNBTH0gZnJvbSAnLi9TY3JvbGxWaWV3Q29udGV4dCc7XG5pbXBvcnQgU2Nyb2xsVmlld1N0aWNreUhlYWRlciBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2Nsb25lRWxlbWVudH0gZnJvbSAncmVhY3QnO1xuXG4vKlxuICogaU9TIHNjcm9sbCBldmVudCB0aW1pbmcgbnVhbmNlczpcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKlxuICogU2Nyb2xsaW5nIHdpdGhvdXQgYm91bmNpbmcsIGlmIHlvdSB0b3VjaCBkb3duOlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIDEuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gICh3aGVuIGFuaW1hdGlvbiBiZWdpbnMgYWZ0ZXIgbGV0dGluZyB1cClcbiAqICAgIC4uLiBwaHlzaWNhbCB0b3VjaCBzdGFydHMgLi4uXG4gKiAyLiBgb25Ub3VjaFN0YXJ0Q2FwdHVyZWAgICAod2hlbiB5b3UgcHJlc3MgZG93biB0byBzdG9wIHRoZSBzY3JvbGwpXG4gKiAzLiBgb25Ub3VjaFN0YXJ0YCAgICAgICAgICAoc2FtZSwgYnV0IGJ1YmJsZSBwaGFzZSlcbiAqIDQuIGBvblJlc3BvbmRlclJlbGVhc2VgICAgICh3aGVuIGxpZnRpbmcgdXAgLSB5b3UgY291bGQgcGF1c2UgZm9yZXZlciBiZWZvcmUgKiBsaWZ0aW5nKVxuICogNS4gYG9uTW9tZW50dW1TY3JvbGxFbmRgXG4gKlxuICpcbiAqIFNjcm9sbGluZyB3aXRoIGJvdW5jaW5nLCBpZiB5b3UgdG91Y2ggZG93bjpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAxLiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAod2hlbiBhbmltYXRpb24gYmVnaW5zIGFmdGVyIGxldHRpbmcgdXApXG4gKiAgICAuLi4gYm91bmNlIGJlZ2lucyAuLi5cbiAqICAgIC4uLiBzb21lIHRpbWUgZWxhcHNlcyAuLi5cbiAqICAgIC4uLiBwaHlzaWNhbCB0b3VjaCBkdXJpbmcgYm91bmNlIC4uLlxuICogMi4gYG9uTW9tZW50dW1TY3JvbGxFbmRgICAgKE1ha2VzIG5vIHNlbnNlIHdoeSB0aGlzIG9jY3VycyBmaXJzdCBkdXJpbmcgYm91bmNlKVxuICogMy4gYG9uVG91Y2hTdGFydENhcHR1cmVgICAgKGltbWVkaWF0ZWx5IGFmdGVyIGBvbk1vbWVudHVtU2Nyb2xsRW5kYClcbiAqIDQuIGBvblRvdWNoU3RhcnRgICAgICAgICAgIChzYW1lLCBidXQgYnViYmxlIHBoYXNlKVxuICogNS4gYG9uVG91Y2hFbmRgICAgICAgICAgICAgKFlvdSBjb3VsZCBob2xkIHRoZSB0b3VjaCBzdGFydCBmb3IgYSBsb25nIHRpbWUpXG4gKiA2LiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAoV2hlbiByZWxlYXNpbmcgdGhlIHZpZXcgc3RhcnRzIGJvdW5jaW5nIGJhY2spXG4gKlxuICogU28gd2hlbiB3ZSByZWNlaXZlIGFuIGBvblRvdWNoU3RhcnRgLCBob3cgY2FuIHdlIHRlbGwgaWYgd2UgYXJlIHRvdWNoaW5nXG4gKiAqZHVyaW5nKiBhbiBhbmltYXRpb24gKHdoaWNoIHRoZW4gY2F1c2VzIHRoZSBhbmltYXRpb24gdG8gc3RvcCk/IFRoZSBvbmx5IHdheVxuICogdG8gdGVsbCBpcyBpZiB0aGUgYHRvdWNoU3RhcnRgIG9jY3VycmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICogYG9uTW9tZW50dW1TY3JvbGxFbmRgLlxuICpcbiAqIFRoaXMgaXMgYWJzdHJhY3RlZCBvdXQgZm9yIHlvdSwgc28geW91IGNhbiBqdXN0IGNhbGwgdGhpcy5zY3JvbGxSZXNwb25kZXJJc0FuaW1hdGluZygpIGlmXG4gKiBuZWNlc3NhcnlcbiAqXG4gKiBgU2Nyb2xsVmlld2AgYWxzbyBpbmNsdWRlcyBsb2dpYyBmb3IgYmx1cnJpbmcgYSBjdXJyZW50bHkgZm9jdXNlZCBpbnB1dFxuICogaWYgb25lIGlzIGZvY3VzZWQgd2hpbGUgc2Nyb2xsaW5nLiBUaGlzIGlzIGEgbmF0dXJhbCBwbGFjZVxuICogdG8gcHV0IHRoaXMgbG9naWMgc2luY2UgaXQgY2FuIHN1cHBvcnQgbm90IGRpc21pc3NpbmcgdGhlIGtleWJvYXJkIHdoaWxlXG4gKiBzY3JvbGxpbmcsIHVubGVzcyBhIHJlY29nbml6ZWQgXCJ0YXBcIi1saWtlIGdlc3R1cmUgaGFzIG9jY3VycmVkLlxuICpcbiAqIFRoZSBwdWJsaWMgbGlmZWN5Y2xlIEFQSSBpbmNsdWRlcyBldmVudHMgZm9yIGtleWJvYXJkIGludGVyYWN0aW9uLCByZXNwb25kZXJcbiAqIGludGVyYWN0aW9uLCBhbmQgc2Nyb2xsaW5nIChhbW9uZyBvdGhlcnMpLiBUaGUga2V5Ym9hcmQgY2FsbGJhY2tzXG4gKiBgb25LZXlib2FyZFdpbGwvRGlkLypgIGFyZSAqZ2xvYmFsKiBldmVudHMsIGJ1dCBhcmUgaW52b2tlZCBvbiBzY3JvbGxcbiAqIHJlc3BvbmRlcidzIHByb3BzIHNvIHRoYXQgeW91IGNhbiBndWFyYW50ZWUgdGhhdCB0aGUgc2Nyb2xsIHJlc3BvbmRlcidzXG4gKiBpbnRlcm5hbCBzdGF0ZSBoYXMgYmVlbiB1cGRhdGVkIGFjY29yZGluZ2x5IChhbmQgZGV0ZXJtaW5pc3RpY2FsbHkpIGJ5XG4gKiB0aGUgdGltZSB0aGUgcHJvcHMgY2FsbGJhY2tzIGFyZSBpbnZva2UuIE90aGVyd2lzZSwgeW91IHdvdWxkIGFsd2F5cyB3b25kZXJcbiAqIGlmIHRoZSBzY3JvbGwgcmVzcG9uZGVyIGlzIGN1cnJlbnRseSBpbiBhIHN0YXRlIHdoZXJlIGl0IHJlY29nbml6ZXMgbmV3XG4gKiBrZXlib2FyZCBwb3NpdGlvbnMgZXRjLiBJZiBjb29yZGluYXRpbmcgc2Nyb2xsaW5nIHdpdGgga2V5Ym9hcmQgbW92ZW1lbnQsXG4gKiAqYWx3YXlzKiB1c2UgdGhlc2UgaG9va3MgaW5zdGVhZCBvZiBsaXN0ZW5pbmcgdG8geW91ciBvd24gZ2xvYmFsIGtleWJvYXJkXG4gKiBldmVudHMuXG4gKlxuICogUHVibGljIGtleWJvYXJkIGxpZmVjeWNsZSBBUEk6IChwcm9wcyBjYWxsYmFja3MpXG4gKlxuICogU3RhbmRhcmQgS2V5Ym9hcmQgQXBwZWFyYW5jZSBTZXF1ZW5jZTpcbiAqXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxTaG93XG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3dcbiAqXG4gKiBgb25TY3JvbGxSZXNwb25kZXJLZXlib2FyZERpc21pc3NlZGAgd2lsbCBiZSBpbnZva2VkIGlmIGFuIGFwcHJvcHJpYXRlXG4gKiB0YXAgaW5zaWRlIHRoZSBzY3JvbGwgcmVzcG9uZGVyJ3Mgc2Nyb2xsYWJsZSByZWdpb24gd2FzIHJlc3BvbnNpYmxlXG4gKiBmb3IgdGhlIGRpc21pc3NhbCBvZiB0aGUga2V5Ym9hcmQuIFRoZXJlIGFyZSBvdGhlciByZWFzb25zIHdoeSB0aGVcbiAqIGtleWJvYXJkIGNvdWxkIGJlIGRpc21pc3NlZC5cbiAqXG4gKiAgIHRoaXMucHJvcHMub25TY3JvbGxSZXNwb25kZXJLZXlib2FyZERpc21pc3NlZFxuICpcbiAqIFN0YW5kYXJkIEtleWJvYXJkIEhpZGUgU2VxdWVuY2U6XG4gKlxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZVxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBTY3JvbGxWaWV3U2Nyb2xsVG9PcHRpb25zIHtcbiAgeD86IG51bWJlcjtcbiAgeT86IG51bWJlcjtcbiAgYW5pbWF0ZWQ/OiBib29sZWFuO1xufVxuXG4vLyBQdWJsaWMgbWV0aG9kcyBmb3IgU2Nyb2xsVmlld1xuZXhwb3J0IGludGVyZmFjZSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMge1xuICArZ2V0U2Nyb2xsUmVzcG9uZGVyOiAoKSA9PiBTY3JvbGxSZXNwb25kZXJUeXBlO1xuICArZ2V0U2Nyb2xsYWJsZU5vZGU6ICgpID0+ID9udW1iZXI7XG4gICtnZXRJbm5lclZpZXdOb2RlOiAoKSA9PiA/bnVtYmVyO1xuICArZ2V0SW5uZXJWaWV3UmVmOiAoKSA9PiBJbm5lclZpZXdJbnN0YW5jZSB8IG51bGw7XG4gICtnZXROYXRpdmVTY3JvbGxSZWY6ICgpID0+IEhvc3RJbnN0YW5jZSB8IG51bGw7XG4gICtzY3JvbGxUbzogKFxuICAgIG9wdGlvbnM/OiBTY3JvbGxWaWV3U2Nyb2xsVG9PcHRpb25zIHwgbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRYPzogbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRBbmltYXRlZD86IGJvb2xlYW4sXG4gICkgPT4gdm9pZDtcbiAgK3Njcm9sbFRvRW5kOiAob3B0aW9ucz86ID9TY3JvbGxWaWV3U2Nyb2xsVG9PcHRpb25zKSA9PiB2b2lkO1xuICArZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAoKSA9PiB2b2lkO1xuICArc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAoXG4gICAgcmVjdDoge1xuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIH0sXG4gICAgYW5pbWF0ZWQ/OiBib29sZWFuLCAvLyBkZXByZWNhdGVkLCBwdXQgdGhpcyBpbnNpZGUgdGhlIHJlY3QgYXJndW1lbnQgaW5zdGVhZFxuICApID0+IHZvaWQ7XG4gICtzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiAoXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgSG9zdEluc3RhbmNlLFxuICAgIGFkZGl0aW9uYWxPZmZzZXQ/OiBudW1iZXIsXG4gICAgcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0PzogYm9vbGVhbixcbiAgKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBEZWNlbGVyYXRpb25SYXRlVHlwZSA9ICdmYXN0JyB8ICdub3JtYWwnIHwgbnVtYmVyO1xuZXhwb3J0IHR5cGUgU2Nyb2xsUmVzcG9uZGVyVHlwZSA9IFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcztcblxuZXhwb3J0IGludGVyZmFjZSBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2VcbiAgZXh0ZW5kcyBIb3N0SW5zdGFuY2UsXG4gICAgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzIHt9XG5cbnR5cGUgSW5uZXJWaWV3SW5zdGFuY2UgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PjtcblxuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld1Byb3BzSU9TID0gJFJlYWRPbmx5PHtcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgU2Nyb2xsVmlldyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgaXRzIGBjb250ZW50SW5zZXRgXG4gICAqIGFuZCBgc2Nyb2xsVmlld0luc2V0c2Agd2hlbiB0aGUgS2V5Ym9hcmQgY2hhbmdlcyBpdHMgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RLZXlib2FyZEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBzY3JvbGwgaW5kaWNhdG9yXG4gICAqIGluc2V0cy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS4gQXZhaWxhYmxlIG9uIGlPUyAxMyBhbmQgbGF0ZXIuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RzU2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGlzIGluc2V0IGZyb20gdGhlIGVkZ2VzXG4gICAqIG9mIHRoZSBzY3JvbGwgdmlldy4gRGVmYXVsdHMgdG8gYHt0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0PzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZCBvZiB0aGVcbiAgICogY29udGVudCBpZiB0aGUgY29udGVudCBpcyBsYXJnZXIgdGhlbiB0aGUgc2Nyb2xsIHZpZXcgYWxvbmcgdGhlIGF4aXMgb2ZcbiAgICogdGhlIHNjcm9sbCBkaXJlY3Rpb24uIFdoZW4gZmFsc2UsIGl0IGRpc2FibGVzIGFsbCBib3VuY2luZyBldmVuIGlmXG4gICAqIHRoZSBgYWx3YXlzQm91bmNlKmAgcHJvcHMgYXJlIHRydWUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGJvdW5jZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQsIFNjcm9sbFZpZXcgaGFzIGFuIGFjdGl2ZSBwYW4gcmVzcG9uZGVyIHRoYXQgaGlqYWNrcyBwYW5yZXNwb25kZXJzXG4gICAqIGRlZXBlciBpbiB0aGUgcmVuZGVyIHRyZWUgaW4gb3JkZXIgdG8gcHJldmVudCBhY2NpZGVudGFsIHRvdWNoZXMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgKiBIb3dldmVyLCBpbiBjZXJ0YWluIG9jY2FzaW9ucyAoc3VjaCBhcyB3aGVuIHVzaW5nIHNuYXBUb0ludGVydmFsKSBpbiBhIHZlcnRpY2FsIHNjcm9sbHZpZXdcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBiZWhhdmlvciBpbiBvcmRlciB0byBwcmV2ZW50IHRoZSBTY3JvbGxWaWV3IGZyb20gYmxvY2tpbmcgdG91Y2hlc1xuICAgKi9cbiAgZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgZ2VzdHVyZXMgY2FuIGRyaXZlIHpvb20gcGFzdCBtaW4vbWF4IGFuZCB0aGUgem9vbSB3aWxsIGFuaW1hdGVcbiAgICogdG8gdGhlIG1pbi9tYXggdmFsdWUgYXQgZ2VzdHVyZSBlbmQsIG90aGVyd2lzZSB0aGUgem9vbSB3aWxsIG5vdCBleGNlZWRcbiAgICogdGhlIGxpbWl0cy5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlc1pvb20/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgaG9yaXpvbnRhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIHRydWUgd2hlbiBgaG9yaXpvbnRhbD17dHJ1ZX1gIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZUhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgdmVydGljYWxseSB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZFxuICAgKiBldmVuIGlmIHRoZSBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgaXRzZWxmLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIHRydWUgb3RoZXJ3aXNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhbHdheXNCb3VuY2VWZXJ0aWNhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYXV0b21hdGljYWxseSBjZW50ZXJzIHRoZSBjb250ZW50IHdoZW4gdGhlXG4gICAqIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBib3VuZHM7IHdoZW4gdGhlIGNvbnRlbnQgaXNcbiAgICogbGFyZ2VyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LCB0aGlzIHByb3BlcnR5IGhhcyBubyBlZmZlY3QuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjZW50ZXJDb250ZW50PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2YgdGhlIHNjcm9sbCBpbmRpY2F0b3JzLlxuICAgKlxuICAgKiAgIC0gYCdkZWZhdWx0J2AgKHRoZSBkZWZhdWx0KSwgc2FtZSBhcyBgYmxhY2tgLlxuICAgKiAgIC0gYCdibGFjaydgLCBzY3JvbGwgaW5kaWNhdG9yIGlzIGJsYWNrLiBUaGlzIHN0eWxlIGlzIGdvb2QgYWdhaW5zdCBhIGxpZ2h0IGJhY2tncm91bmQuXG4gICAqICAgLSBgJ3doaXRlJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgd2hpdGUuIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgZGFyayBiYWNrZ3JvdW5kLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBpbmRpY2F0b3JTdHlsZT86ID8oJ2RlZmF1bHQnIHwgJ2JsYWNrJyB8ICd3aGl0ZScpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgU2Nyb2xsVmlldyB3aWxsIHRyeSB0byBsb2NrIHRvIG9ubHkgdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgKiBzY3JvbGxpbmcgd2hpbGUgZHJhZ2dpbmcuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZGlyZWN0aW9uYWxMb2NrRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgb25jZSB0cmFja2luZyBzdGFydHMsIHdvbid0IHRyeSB0byBkcmFnIGlmIHRoZSB0b3VjaCBtb3Zlcy5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2FuQ2FuY2VsQ29udGVudFRvdWNoZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtYXhpbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtaW5pbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU2Nyb2xsVmlldyBhbGxvd3MgdXNlIG9mIHBpbmNoIGdlc3R1cmVzIHRvIHpvb20gaW4gYW5kIG91dC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgcGluY2hHZXN0dXJlRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgaW5kaWNhdG9ycyBhcmUgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHNob3VsZCBub3JtYWxseSBiZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWUgYXNcbiAgICogdGhlIGBjb250ZW50SW5zZXRgLiBEZWZhdWx0cyB0byBgezAsIDAsIDAsIDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgc2Nyb2xsZWQgYmV5b25kIGl0c1xuICAgKiBjb250ZW50IHNpemUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxUb092ZXJmbG93RW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3Agd2hlbiB0aGUgc3RhdHVzIGJhciBpcyB0YXBwZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbHNUb1RvcD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3AgYWZ0ZXIgdGhlIHN0YXR1cyBiYXIgaGFzIGJlZW4gdGFwcGVkXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG9uU2Nyb2xsVG9Ub3A/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIGhvcml6b250YWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXRBZGp1c3RtZW50QmVoYXZpb3I/OiA/KFxuICAgIHwgJ2F1dG9tYXRpYydcbiAgICB8ICdzY3JvbGxhYmxlQXhlcydcbiAgICB8ICduZXZlcidcbiAgICB8ICdhbHdheXMnXG4gICksXG59PjtcblxuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld1Byb3BzQW5kcm9pZCA9ICRSZWFkT25seTx7XG4gIC8qKlxuICAgKiBFbmFibGVzIG5lc3RlZCBzY3JvbGxpbmcgZm9yIEFuZHJvaWQgQVBJIGxldmVsIDIxKy5cbiAgICogTmVzdGVkIHNjcm9sbGluZyBpcyBzdXBwb3J0ZWQgYnkgZGVmYXVsdCBvbiBpT1NcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG5lc3RlZFNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFNvbWV0aW1lcyBhIHNjcm9sbHZpZXcgdGFrZXMgdXAgbW9yZSBzcGFjZSB0aGFuIGl0cyBjb250ZW50IGZpbGxzLiBXaGVuIHRoaXMgaXNcbiAgICogdGhlIGNhc2UsIHRoaXMgcHJvcCB3aWxsIGZpbGwgdGhlIHJlc3Qgb2YgdGhlIHNjcm9sbHZpZXcgd2l0aCBhIGNvbG9yIHRvIGF2b2lkIHNldHRpbmdcbiAgICogYSBiYWNrZ3JvdW5kIGFuZCBjcmVhdGluZyB1bm5lY2Vzc2FyeSBvdmVyZHJhdy4gVGhpcyBpcyBhbiBhZHZhbmNlZCBvcHRpbWl6YXRpb25cbiAgICogdGhhdCBpcyBub3QgbmVlZGVkIGluIHRoZSBnZW5lcmFsIGNhc2UuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBlbmRGaWxsQ29sb3I/OiA/Q29sb3JWYWx1ZSxcbiAgLyoqXG4gICAqIFRhZyB1c2VkIHRvIGxvZyBzY3JvbGwgcGVyZm9ybWFuY2Ugb24gdGhpcyBzY3JvbGwgdmlldy4gV2lsbCBmb3JjZVxuICAgKiBtb21lbnR1bSBldmVudHMgdG8gYmUgdHVybmVkIG9uIChzZWUgc2VuZE1vbWVudHVtRXZlbnRzKS4gVGhpcyBkb2Vzbid0IGRvXG4gICAqIGFueXRoaW5nIG91dCBvZiB0aGUgYm94IGFuZCB5b3UgbmVlZCB0byBpbXBsZW1lbnQgYSBjdXN0b20gbmF0aXZlXG4gICAqIEZwc0xpc3RlbmVyIGZvciBpdCB0byBiZSB1c2VmdWwuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBzY3JvbGxQZXJmVGFnPzogP3N0cmluZyxcbiAgLyoqXG4gICAqIFVzZWQgdG8gb3ZlcnJpZGUgZGVmYXVsdCB2YWx1ZSBvZiBvdmVyU2Nyb2xsIG1vZGUuXG4gICAqXG4gICAqIFBvc3NpYmxlIHZhbHVlczpcbiAgICpcbiAgICogIC0gYCdhdXRvJ2AgLSBEZWZhdWx0IHZhbHVlLCBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGxcbiAgICogICAgdGhpcyB2aWV3IG9ubHkgaWYgdGhlIGNvbnRlbnQgaXMgbGFyZ2UgZW5vdWdoIHRvIG1lYW5pbmdmdWxseSBzY3JvbGwuXG4gICAqICAtIGAnYWx3YXlzJ2AgLSBBbHdheXMgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICogIC0gYCduZXZlcidgIC0gTmV2ZXIgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG92ZXJTY3JvbGxNb2RlPzogPygnYXV0bycgfCAnYWx3YXlzJyB8ICduZXZlcicpLFxuICAvKipcbiAgICogQ2F1c2VzIHRoZSBzY3JvbGxiYXJzIG5vdCB0byB0dXJuIHRyYW5zcGFyZW50IHdoZW4gdGhleSBhcmUgbm90IGluIHVzZS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBwZXJzaXN0ZW50U2Nyb2xsYmFyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB0aGUgZmFkaW5nIGVmZmVjdCBhdCB0aGUgZWRnZXMgb2YgdGhlIHNjcm9sbCBjb250ZW50LlxuICAgKlxuICAgKiBBIHZhbHVlIGdyZWF0ZXIgdGhhbiAwIHdpbGwgYXBwbHkgdGhlIGZhZGluZyBlZmZlY3QsIGluZGljYXRpbmcgbW9yZSBjb250ZW50IGlzIGF2YWlsYWJsZVxuICAgKiB0byBzY3JvbGwuXG4gICAqXG4gICAqIFlvdSBjYW4gc3BlY2lmeSBhIHNpbmdsZSBudW1iZXIgdG8gYXBwbHkgdGhlIHNhbWUgZmFkaW5nIGxlbmd0aCB0byBib3RoIGVkZ2VzLlxuICAgKiBBbHRlcm5hdGl2ZWx5LCB1c2UgYW4gb2JqZWN0IHdpdGggYHN0YXJ0YCBhbmQgYGVuZGAgcHJvcGVydGllcyB0byBzZXQgZGlmZmVyZW50XG4gICAqIGZhZGluZyBsZW5ndGhzIGZvciB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgc2Nyb2xsIGNvbnRlbnQuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBmYWRpbmdFZGdlTGVuZ3RoPzogP251bWJlciB8IHtzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcn0sXG59PjtcblxudHlwZSBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlID0gY29tcG9uZW50KFxuICByZWY/OiBSZWFjdC5SZWZTZXR0ZXI8JFJlYWRPbmx5PGludGVyZmFjZSB7c2V0TmV4dEhlYWRlclk6IG51bWJlciA9PiB2b2lkfT4+LFxuICAuLi5TY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHNcbik7XG5cbnR5cGUgU2Nyb2xsVmlld0Jhc2VQcm9wcyA9ICRSZWFkT25seTx7XG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHNldCB0aGUgc3RhcnRpbmcgc2Nyb2xsIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHt4OiAwLCB5OiAwfWAuXG4gICAqL1xuICBjb250ZW50T2Zmc2V0PzogP1BvaW50UHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIHRoZSBuZXh0IGluZGV4IChpbiByZWxhdGlvbiB0byBzY3JvbGxcbiAgICogcG9zaXRpb24gYXQgcmVsZWFzZSkgcmVnYXJkbGVzcyBvZiBob3cgZmFzdCB0aGUgZ2VzdHVyZSBpcy4gVGhpcyBjYW4gYmVcbiAgICogdXNlZCBmb3IgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2YgdGhlXG4gICAqIGhvcml6b250YWwgU2Nyb2xsVmlldyBvciB0aGUgaGVpZ2h0IG9mIHRoZSB2ZXJ0aWNhbCBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID9EZWNlbGVyYXRpb25SYXRlVHlwZSxcblxuICAvKipcbiAgICogKkV4cGVyaW1lbnRhbCwgaU9TIE9ubHkqLiBUaGUgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgd2lsbCBjaGFuZ2UgaW4gZnV0dXJlIHJlbGVhc2VzLlxuICAgKlxuICAgKiBDb250cm9scyBob3cgbXVjaCBkaXN0YW5jZSBpcyB0cmF2ZWxsZWQgYWZ0ZXIgdXNlciBzdG9wcyBzY3JvbGxpbmcuXG4gICAqIFZhbHVlIGdyZWF0ZXIgdGhhbiAxIHdpbGwgaW5jcmVhc2UgdGhlIGRpc3RhbmNlIHRyYXZlbGxlZC5cbiAgICogVmFsdWUgbGVzcyB0aGFuIDEgd2lsbCBkZWNyZWFzZSB0aGUgZGlzdGFuY2UgdHJhdmVsbGVkLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX2VuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyPzogP251bWJlcixcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8vLyBkZWZhdWx0XG4gIC8vIGNyb3NzLXBsYXRmb3JtXG4gICgnbm9uZScgfCAnb24tZHJhZycgfCAnaW50ZXJhY3RpdmUnKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogcGFydGlhbGx5IG9yIGZ1bGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsXG4gICAqIHdoZXJlIG5ldyBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwXG4gICAqIGlzIGNvbW1vbiwgYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnRcbiAgICogdGhhdCBzaG91bGQgbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqL1xuICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/OiA/JFJlYWRPbmx5PHtcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB9PixcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgc3RhcnRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEJlZ2luPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgbW9tZW50dW0gc2Nyb2xsIGVuZHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsRW5kPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG5cbiAgLyoqXG4gICAqIEZpcmVzIGF0IG1vc3Qgb25jZSBwZXIgZnJhbWUgZHVyaW5nIHNjcm9sbGluZy5cbiAgICovXG4gIG9uU2Nyb2xsPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBiZWdpbnMgdG8gZHJhZyB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqL1xuICBvblNjcm9sbEJlZ2luRHJhZz86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgc3RvcHMgZHJhZ2dpbmcgdGhlIHNjcm9sbCB2aWV3IGFuZCBpdCBlaXRoZXIgc3RvcHNcbiAgICogb3IgYmVnaW5zIHRvIGdsaWRlLlxuICAgKi9cbiAgb25TY3JvbGxFbmREcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBzY3JvbGxhYmxlIGNvbnRlbnQgdmlldyBvZiB0aGUgU2Nyb2xsVmlldyBjaGFuZ2VzLlxuICAgKlxuICAgKiBIYW5kbGVyIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgY29udGVudCB3aWR0aCBhbmQgY29udGVudCBoZWlnaHQgYXMgcGFyYW1ldGVyczpcbiAgICogYChjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpYFxuICAgKlxuICAgKiBJdCdzIGltcGxlbWVudGVkIHVzaW5nIG9uTGF5b3V0IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyXG4gICAqIHdoaWNoIHRoaXMgU2Nyb2xsVmlldyByZW5kZXJzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86IChjb250ZW50V2lkdGg6IG51bWJlciwgY29udGVudEhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZERpZEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmRXaWxsU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxIaWRlPzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gbXVsdGlwbGVzIG9mIHRoZSBzY3JvbGwgdmlldydzIHNpemVcbiAgICogd2hlbiBzY3JvbGxpbmcuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGhvcml6b250YWwgcGFnaW5hdGlvbi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBwYWdpbmdFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCB0aGUgdmlldyBjYW5ub3QgYmUgc2Nyb2xsZWQgdmlhIHRvdWNoIGludGVyYWN0aW9uLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHZpZXcgY2FuIGFsd2F5cyBiZSBzY3JvbGxlZCBieSBjYWxsaW5nIGBzY3JvbGxUb2AuXG4gICAqL1xuICBzY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBMaW1pdHMgaG93IG9mdGVuIHNjcm9sbCBldmVudHMgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmcsIHNwZWNpZmllZCBhc1xuICAgKiBhIHRpbWUgaW50ZXJ2YWwgaW4gbXMuIFRoaXMgbWF5IGJlIHVzZWZ1bCB3aGVuIGV4cGVuc2l2ZSB3b3JrIGlzIHBlcmZvcm1lZFxuICAgKiBpbiByZXNwb25zZSB0byBzY3JvbGxpbmcuIFZhbHVlcyA8PSBgMTZgIHdpbGwgZGlzYWJsZSB0aHJvdHRsaW5nLFxuICAgKiByZWdhcmRsZXNzIG9mIHRoZSByZWZyZXNoIHJhdGUgb2YgdGhlIGRldmljZS5cbiAgICovXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIHZlcnRpY2FsIHNjcm9sbCBpbmRpY2F0b3IuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFN0aWNreSBoZWFkZXIgaXMgaGlkZGVuIHdoZW4gc2Nyb2xsaW5nIGRvd24sIGFuZCBkb2NrIGF0IHRoZSB0b3BcbiAgICogd2hlbiBzY3JvbGxpbmcgdXBcbiAgICovXG4gIHN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBjaGlsZCBpbmRpY2VzIGRldGVybWluaW5nIHdoaWNoIGNoaWxkcmVuIGdldCBkb2NrZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2NyZWVuIHdoZW4gc2Nyb2xsaW5nLiBGb3IgZXhhbXBsZSwgcGFzc2luZ1xuICAgKiBgc3RpY2t5SGVhZGVySW5kaWNlcz17WzBdfWAgd2lsbCBjYXVzZSB0aGUgZmlyc3QgY2hpbGQgdG8gYmUgZml4ZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBpbiBjb25qdW5jdGlvblxuICAgKiB3aXRoIGBob3Jpem9udGFsPXt0cnVlfWAuXG4gICAqL1xuICBzdGlja3lIZWFkZXJJbmRpY2VzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBBIFJlYWN0IENvbXBvbmVudCB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgc3RpY2t5IGhlYWRlcnMuXG4gICAqIFRvIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc3RpY2t5SGVhZGVySW5kaWNlc2Agb3Igd2l0aCBgU2VjdGlvbkxpc3RgLCBkZWZhdWx0cyB0byBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAqIFlvdSBtYXkgbmVlZCB0byBzZXQgdGhpcyBpZiB5b3VyIHN0aWNreSBoZWFkZXIgdXNlcyBjdXN0b20gdHJhbnNmb3JtcyAoZWcuIHRyYW5zbGF0aW9uKSxcbiAgICogZm9yIGV4YW1wbGUgd2hlbiB5b3Ugd2FudCB5b3VyIGxpc3QgdG8gaGF2ZSBhbiBhbmltYXRlZCBoaWRhYmxlIGhlYWRlci5cbiAgICovXG4gIFN0aWNreUhlYWRlckNvbXBvbmVudD86IFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGUsXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqL1xuICBzbmFwVG9BbGlnbm1lbnQ/OiA/KCdzdGFydCcgfCAnY2VudGVyJyB8ICdlbmQnKSxcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgbXVsdGlwbGVzIG9mIHRoZSB2YWx1ZSBvZlxuICAgKiBgc25hcFRvSW50ZXJ2YWxgLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgc25hcFRvQWxpZ25tZW50YCBhbmQgYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIHByb3AuXG4gICAqL1xuICBzbmFwVG9JbnRlcnZhbD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IHRoZSBkZWZpbmVkIG9mZnNldHMuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCB2YXJpb3VzbHkgc2l6ZWQgY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgYW5kIGBzbmFwVG9JbnRlcnZhbGAgcHJvcHMuXG4gICAqL1xuICBzbmFwVG9PZmZzZXRzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBiZWdpbm5pbmdcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvU3RhcnRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBzdGFydCBhbmRcbiAgICogdGhlIGZpcnN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9TdGFydD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgZW5kXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb0VuZGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIGVuZCBhbmRcbiAgICogdGhlIGxhc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb0VuZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRXhwZXJpbWVudGFsOiBXaGVuIHRydWUsIG9mZnNjcmVlbiBjaGlsZCB2aWV3cyAod2hvc2UgYG92ZXJmbG93YCB2YWx1ZSBpc1xuICAgKiBgaGlkZGVuYCkgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBuYXRpdmUgYmFja2luZyBzdXBlcnZpZXcgd2hlbiBvZmZzY3JlZW4uXG4gICAqIFRoaXMgY2FuIGltcHJvdmUgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlIG9uIGxvbmcgbGlzdHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzXG4gICAqIHRydWUuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgUmVmcmVzaENvbnRyb2wgY29tcG9uZW50LCB1c2VkIHRvIHByb3ZpZGUgcHVsbC10by1yZWZyZXNoXG4gICAqIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBTY3JvbGxWaWV3LiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBTY3JvbGxWaWV3c1xuICAgKiAoYGhvcml6b250YWxgIHByb3AgbXVzdCBiZSBgZmFsc2VgKS5cbiAgICpcbiAgICogU2VlIFtSZWZyZXNoQ29udHJvbF0oZG9jcy9yZWZyZXNoY29udHJvbC5odG1sKS5cbiAgICovXG4gIC8qICRGbG93Rml4TWVbdW5jbGVhci10eXBlXSAtIGhvdyB0byBoYW5kbGUgZ2VuZXJpYyB0eXBlIHdpdGhvdXQgZXhpc3RlbnRpYWxcbiAgICogb3BlcmF0b3I/ICovXG4gIHJlZnJlc2hDb250cm9sPzogP1JlYWN0Lk1peGVkRWxlbWVudCxcbiAgY2hpbGRyZW4/OiBSZWFjdC5Ob2RlLFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIGlubmVyIFZpZXcgZWxlbWVudCBvZiB0aGUgU2Nyb2xsVmlldy4gVGhpcyBzaG91bGQgYmUgdXNlZFxuICAgKiBpbnN0ZWFkIG9mIGNhbGxpbmcgYGdldElubmVyVmlld1JlZmAuXG4gICAqL1xuICBpbm5lclZpZXdSZWY/OiBSZWFjdC5SZWZTZXR0ZXI8SW5uZXJWaWV3SW5zdGFuY2U+LFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIE5hdGl2ZSBTY3JvbGxWaWV3IGNvbXBvbmVudC4gVGhpcyByZWYgY2FuIGJlIHVzZWQgdG8gY2FsbFxuICAgKiBhbGwgb2YgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzLCBpbiBhZGRpdGlvbiB0byBuYXRpdmUgbWV0aG9kcyBsaWtlXG4gICAqIG1lYXN1cmUsIG1lYXN1cmVMYXlvdXQsIGV0Yy5cbiAgICovXG4gIHNjcm9sbFZpZXdSZWY/OiBSZWFjdC5SZWZTZXR0ZXI8UHVibGljU2Nyb2xsVmlld0luc3RhbmNlPixcbn0+O1xuXG5leHBvcnQgdHlwZSBTY3JvbGxWaWV3UHJvcHMgPSAkUmVhZE9ubHk8e1xuICAuLi5PbWl0PFZpZXdQcm9wcywgJ2V4cGVyaW1lbnRhbF9hY2Nlc3NpYmlsaXR5T3JkZXInPixcbiAgLi4uU2Nyb2xsVmlld1Byb3BzSU9TLFxuICAuLi5TY3JvbGxWaWV3UHJvcHNBbmRyb2lkLFxuICAuLi5TY3JvbGxWaWV3QmFzZVByb3BzLFxufT47XG5cbnR5cGUgU2Nyb2xsVmlld1N0YXRlID0ge1xuICBsYXlvdXRIZWlnaHQ6ID9udW1iZXIsXG59O1xuXG5jb25zdCBJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TID0gMTY7XG5cbmV4cG9ydCB0eXBlIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzID0gJFJlYWRPbmx5PHtcbiAgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0LFxufT47XG5cbi8qKlxuICogQ29tcG9uZW50IHRoYXQgd3JhcHMgcGxhdGZvcm0gU2Nyb2xsVmlldyB3aGlsZSBwcm92aWRpbmdcbiAqIGludGVncmF0aW9uIHdpdGggdG91Y2ggbG9ja2luZyBcInJlc3BvbmRlclwiIHN5c3RlbS5cbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBTY3JvbGxWaWV3cyBtdXN0IGhhdmUgYSBib3VuZGVkIGhlaWdodCBpbiBvcmRlciB0byB3b3JrLFxuICogc2luY2UgdGhleSBjb250YWluIHVuYm91bmRlZC1oZWlnaHQgY2hpbGRyZW4gaW50byBhIGJvdW5kZWQgY29udGFpbmVyICh2aWFcbiAqIGEgc2Nyb2xsIGludGVyYWN0aW9uKS4gSW4gb3JkZXIgdG8gYm91bmQgdGhlIGhlaWdodCBvZiBhIFNjcm9sbFZpZXcsIGVpdGhlclxuICogc2V0IHRoZSBoZWlnaHQgb2YgdGhlIHZpZXcgZGlyZWN0bHkgKGRpc2NvdXJhZ2VkKSBvciBtYWtlIHN1cmUgYWxsIHBhcmVudFxuICogdmlld3MgaGF2ZSBib3VuZGVkIGhlaWdodC4gRm9yZ2V0dGluZyB0byB0cmFuc2ZlciBge2ZsZXg6IDF9YCBkb3duIHRoZVxuICogdmlldyBzdGFjayBjYW4gbGVhZCB0byBlcnJvcnMgaGVyZSwgd2hpY2ggdGhlIGVsZW1lbnQgaW5zcGVjdG9yIG1ha2VzXG4gKiBlYXN5IHRvIGRlYnVnLlxuICpcbiAqIERvZXNuJ3QgeWV0IHN1cHBvcnQgb3RoZXIgY29udGFpbmVkIHJlc3BvbmRlcnMgZnJvbSBibG9ja2luZyB0aGlzIHNjcm9sbFxuICogdmlldyBmcm9tIGJlY29taW5nIHRoZSByZXNwb25kZXIuXG4gKlxuICpcbiAqIGA8U2Nyb2xsVmlldz5gIHZzIFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QpIC0gd2hpY2ggb25lIHRvIHVzZT9cbiAqXG4gKiBgU2Nyb2xsVmlld2Agc2ltcGx5IHJlbmRlcnMgYWxsIGl0cyByZWFjdCBjaGlsZCBjb21wb25lbnRzIGF0IG9uY2UuIFRoYXRcbiAqIG1ha2VzIGl0IHZlcnkgZWFzeSB0byB1bmRlcnN0YW5kIGFuZCB1c2UuXG4gKlxuICogT24gdGhlIG90aGVyIGhhbmQsIHRoaXMgaGFzIGEgcGVyZm9ybWFuY2UgZG93bnNpZGUuIEltYWdpbmUgeW91IGhhdmUgYSB2ZXJ5XG4gKiBsb25nIGxpc3Qgb2YgaXRlbXMgeW91IHdhbnQgdG8gZGlzcGxheSwgbWF5YmUgc2V2ZXJhbCBzY3JlZW5zIHdvcnRoIG9mXG4gKiBjb250ZW50LiBDcmVhdGluZyBKUyBjb21wb25lbnRzIGFuZCBuYXRpdmUgdmlld3MgZm9yIGV2ZXJ5dGhpbmcgYWxsIGF0IG9uY2UsXG4gKiBtdWNoIG9mIHdoaWNoIG1heSBub3QgZXZlbiBiZSBzaG93biwgd2lsbCBjb250cmlidXRlIHRvIHNsb3cgcmVuZGVyaW5nIGFuZFxuICogaW5jcmVhc2VkIG1lbW9yeSB1c2FnZS5cbiAqXG4gKiBUaGlzIGlzIHdoZXJlIGBGbGF0TGlzdGAgY29tZXMgaW50byBwbGF5LiBgRmxhdExpc3RgIHJlbmRlcnMgaXRlbXMgbGF6aWx5LFxuICoganVzdCB3aGVuIHRoZXkgYXJlIGFib3V0IHRvIGFwcGVhciwgYW5kIHJlbW92ZXMgaXRlbXMgdGhhdCBzY3JvbGwgd2F5IG9mZlxuICogc2NyZWVuIHRvIHNhdmUgbWVtb3J5IGFuZCBwcm9jZXNzaW5nIHRpbWUuXG4gKlxuICogYEZsYXRMaXN0YCBpcyBhbHNvIGhhbmR5IGlmIHlvdSB3YW50IHRvIHJlbmRlciBzZXBhcmF0b3JzIGJldHdlZW4geW91ciBpdGVtcyxcbiAqIG11bHRpcGxlIGNvbHVtbnMsIGluZmluaXRlIHNjcm9sbCBsb2FkaW5nLCBvciBhbnkgbnVtYmVyIG9mIG90aGVyIGZlYXR1cmVzIGl0XG4gKiBzdXBwb3J0cyBvdXQgb2YgdGhlIGJveC5cbiAqL1xuY2xhc3MgU2Nyb2xsVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxTY3JvbGxWaWV3UHJvcHMsIFNjcm9sbFZpZXdTdGF0ZT4ge1xuICBzdGF0aWMgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0ID0gU2Nyb2xsVmlld0NvbnRleHQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFNjcm9sbFZpZXdQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUgPSBuZXcgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZShcbiAgICAgIHRoaXMucHJvcHMuY29udGVudE9mZnNldD8ueSA/PyAwLFxuICAgICk7XG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQodGhpcy5wcm9wcy5jb250ZW50SW5zZXQ/LnRvcCA/PyAwKTtcbiAgfVxuXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlOiBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlO1xuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQ6ID97ZGV0YWNoOiAoKSA9PiB2b2lkLCAuLi59ID0gbnVsbDtcbiAgX3N0aWNreUhlYWRlclJlZnM6IE1hcDxcbiAgICBSZWFjdC5LZXksXG4gICAgUmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPixcbiAgPiA9IG5ldyBNYXAoKTtcbiAgX2hlYWRlckxheW91dFlzOiBNYXA8UmVhY3QuS2V5LCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gIF9rZXlib2FyZE1ldHJpY3M6ID9LZXlib2FyZE1ldHJpY3MgPSBudWxsO1xuICBfYWRkaXRpb25hbFNjcm9sbE9mZnNldDogbnVtYmVyID0gMDtcbiAgX2lzVG91Y2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTogbnVtYmVyID0gMDtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU6IG51bWJlciA9IDA7XG5cbiAgLy8gUmVzZXQgdG8gZmFsc2UgZXZlcnkgdGltZSBiZWNvbWVzIHJlc3BvbmRlci4gVGhpcyBpcyB1c2VkIHRvOlxuICAvLyAtIERldGVybWluZSBpZiB0aGUgc2Nyb2xsIHZpZXcgaGFzIGJlZW4gc2Nyb2xsZWQgYW5kIHRoZXJlZm9yZSBzaG91bGRcbiAgLy8gcmVmdXNlIHRvIGdpdmUgdXAgaXRzIHJlc3BvbmRlciBsb2NrLlxuICAvLyAtIERldGVybWluZSBpZiByZWxlYXNpbmcgc2hvdWxkIGRpc21pc3MgdGhlIGtleWJvYXJkIHdoZW4gd2UgYXJlIGluXG4gIC8vIHRhcC10by1kaXNtaXNzIG1vZGUgKHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gJ2Fsd2F5cycpLlxuICBfb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyOiBib29sZWFuID0gZmFsc2U7XG4gIF9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0OiA/Ym9vbGVhbiA9IG51bGw7XG5cbiAgX2FuaW1hdGVkOiA/Ym9vbGVhbiA9IG51bGw7XG5cbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93OiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuXG4gIHN0YXRlOiBTY3JvbGxWaWV3U3RhdGUgPSB7XG4gICAgbGF5b3V0SGVpZ2h0OiBudWxsLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnYm9vbGVhbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYCdrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPXske1xuICAgICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcbiAgICAgICAgfX0nIGlzIGRlcHJlY2F0ZWQuIGAgK1xuICAgICAgICAgIGBVc2UgJ2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9XCIke1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID8gJ2Fsd2F5cycgOiAnbmV2ZXInXG4gICAgICAgICAgfVwiJyBpbnN0ZWFkYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gS2V5Ym9hcmQubWV0cmljcygpO1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbFNob3cnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbEhpZGUnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlLFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRTaG93JyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRIaWRlJyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlLFxuICAgICk7XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBTY3JvbGxWaWV3UHJvcHMpIHtcbiAgICBjb25zdCBwcmV2Q29udGVudEluc2V0VG9wID0gcHJldlByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyBwcmV2UHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGNvbnN0IG5ld0NvbnRlbnRJbnNldFRvcCA9IHRoaXMucHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHRoaXMucHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGlmIChwcmV2Q29udGVudEluc2V0VG9wICE9PSBuZXdDb250ZW50SW5zZXRUb3ApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KG5ld0NvbnRlbnRJbnNldFRvcCB8fCAwKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlLnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdy5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLCB3aGljaCBzdXBwb3J0c1xuICAgKiBvcGVyYXRpb25zIGxpa2UgYHNjcm9sbFRvYC4gQWxsIFNjcm9sbFZpZXctbGlrZSBjb21wb25lbnRzIHNob3VsZFxuICAgKiBpbXBsZW1lbnQgdGhpcyBtZXRob2Qgc28gdGhhdCB0aGV5IGNhbiBiZSBjb21wb3NlZCB3aGlsZSBwcm92aWRpbmcgYWNjZXNzXG4gICAqIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIncyBtZXRob2RzLlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHNbJ2dldFNjcm9sbFJlc3BvbmRlciddID1cbiAgICAoKSA9PiB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV1cbiAgICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICAgIH07XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6IFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kc1snZ2V0U2Nyb2xsYWJsZU5vZGUnXSA9ICgpID0+IHtcbiAgICByZXR1cm4gZmluZE5vZGVIYW5kbGU8JEZsb3dGaXhNZT4odGhpcy5nZXROYXRpdmVTY3JvbGxSZWYoKSk7XG4gIH07XG5cbiAgZ2V0SW5uZXJWaWV3Tm9kZTogU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzWydnZXRJbm5lclZpZXdOb2RlJ10gPSAoKSA9PiB7XG4gICAgcmV0dXJuIGZpbmROb2RlSGFuZGxlPCRGbG93Rml4TWU+KHRoaXMuX2lubmVyVmlldy5uYXRpdmVJbnN0YW5jZSk7XG4gIH07XG5cbiAgZ2V0SW5uZXJWaWV3UmVmOiBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHNbJ2dldElubmVyVmlld1JlZiddID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2U7XG4gIH07XG5cbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHNbJ2dldE5hdGl2ZVNjcm9sbFJlZiddID1cbiAgICAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYHNjcm9sbFRvKHt4OiAwLCB5OiAwLCBhbmltYXRlZDogdHJ1ZX0pYFxuICAgKlxuICAgKiBOb3RlOiBUaGUgd2VpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0LCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLFxuICAgKiB0aGUgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIHNlcGFyYXRlIGFyZ3VtZW50cyBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIFRoaXMgaXMgZGVwcmVjYXRlZCBkdWUgdG8gYW1iaWd1aXR5ICh5IGJlZm9yZSB4KSwgYW5kIFNIT1VMRCBOT1QgQkUgVVNFRC5cbiAgICovXG4gIHNjcm9sbFRvOiBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHNbJ3Njcm9sbFRvJ10gPSAoXG4gICAgb3B0aW9ucyxcbiAgICBkZXByZWNhdGVkWCxcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQsXG4gICkgPT4ge1xuICAgIGxldCB4LCB5LCBhbmltYXRlZDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsVG8oeSwgeCwgYW5pbWF0ZWQpYCBpcyBkZXByZWNhdGVkLiBVc2UgYHNjcm9sbFRvKHt4OiA1LCB5OiA1LCAnICtcbiAgICAgICAgICAnYW5pbWF0ZWQ6IHRydWV9KWAgaW5zdGVhZC4nLFxuICAgICAgKTtcbiAgICAgIHkgPSBvcHRpb25zO1xuICAgICAgeCA9IGRlcHJlY2F0ZWRYO1xuICAgICAgYW5pbWF0ZWQgPSBkZXByZWNhdGVkQW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgICB5ID0gb3B0aW9ucy55O1xuICAgICAgeCA9IG9wdGlvbnMueDtcbiAgICAgIGFuaW1hdGVkID0gb3B0aW9ucy5hbmltYXRlZDtcbiAgICB9XG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYoKTtcbiAgICBpZiAoY29tcG9uZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuc2Nyb2xsVG8oY29tcG9uZW50LCB4IHx8IDAsIHkgfHwgMCwgYW5pbWF0ZWQgIT09IGZhbHNlKTtcbiAgfTtcblxuICAvKipcbiAgICogSWYgdGhpcyBpcyBhIHZlcnRpY2FsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgYm90dG9tLlxuICAgKiBJZiB0aGlzIGlzIGEgaG9yaXpvbnRhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIHJpZ2h0LlxuICAgKlxuICAgKiBVc2UgYHNjcm9sbFRvRW5kKHthbmltYXRlZDogdHJ1ZX0pYCBmb3Igc21vb3RoIGFuaW1hdGVkIHNjcm9sbGluZyxcbiAgICogYHNjcm9sbFRvRW5kKHthbmltYXRlZDogZmFsc2V9KWAgZm9yIGltbWVkaWF0ZSBzY3JvbGxpbmcuXG4gICAqIElmIG5vIG9wdGlvbnMgYXJlIHBhc3NlZCwgYGFuaW1hdGVkYCBkZWZhdWx0cyB0byB0cnVlLlxuICAgKi9cbiAgc2Nyb2xsVG9FbmQ6IFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kc1snc2Nyb2xsVG9FbmQnXSA9IG9wdGlvbnMgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIGNvbnN0IGFuaW1hdGVkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCkgIT09IGZhbHNlO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmKCk7XG4gICAgaWYgKGNvbXBvbmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvRW5kKGNvbXBvbmVudCwgYW5pbWF0ZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgc2Nyb2xsIGluZGljYXRvcnMgbW9tZW50YXJpbHkuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzWydmbGFzaFNjcm9sbEluZGljYXRvcnMnXSA9XG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYoKTtcbiAgICAgIGlmIChjb21wb25lbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBDb21tYW5kcy5mbGFzaFNjcm9sbEluZGljYXRvcnMoY29tcG9uZW50KTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgY2FsbGJhY2sgdG8gb25Gb2N1cyBpbiBhIFRleHRJbnB1dHMnXG4gICAqIHBhcmVudCB2aWV3LiBOb3RlIHRoYXQgYW55IG1vZHVsZSB1c2luZyB0aGlzIG1peGluIG5lZWRzIHRvIHJldHVyblxuICAgKiB0aGUgcGFyZW50IHZpZXcncyByZWYgaW4gZ2V0U2Nyb2xsVmlld1JlZigpIGluIG9yZGVyIHRvIHVzZSB0aGlzIG1ldGhvZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVIYW5kbGUgVGhlIFRleHRJbnB1dCBub2RlIGhhbmRsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gYWRkaXRpb25hbE9mZnNldCBUaGUgc2Nyb2xsIHZpZXcncyBib3R0b20gXCJjb250ZW50SW5zZXRcIi5cbiAgICogICAgICAgIERlZmF1bHQgaXMgMC5cbiAgICogQHBhcmFtIHtib29sfSBwcmV2ZW50TmVnYXRpdmVTY3JvbGxpbmcgV2hldGhlciB0byBhbGxvdyBwdWxsaW5nIHRoZSBjb250ZW50XG4gICAqICAgICAgICBkb3duIHRvIG1ha2UgaXQgbWVldCB0aGUga2V5Ym9hcmQncyB0b3AuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHNbJ3Njcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQnXSA9XG4gICAgKFxuICAgICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgSG9zdEluc3RhbmNlLFxuICAgICAgYWRkaXRpb25hbE9mZnNldD86IG51bWJlcixcbiAgICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICAgKSA9PiB7XG4gICAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gYWRkaXRpb25hbE9mZnNldCB8fCAwO1xuICAgICAgdGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID0gISFwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ7XG5cbiAgICAgIGlmICh0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygbm9kZUhhbmRsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgVUlNYW5hZ2VyLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgICAgbm9kZUhhbmRsZSxcbiAgICAgICAgICBudWxsdGhyb3dzKGZpbmROb2RlSGFuZGxlPCRGbG93Rml4TWU+KHRoaXMpKSxcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZUhhbmRsZS5tZWFzdXJlTGF5b3V0KFxuICAgICAgICAgIHRoaXMuX2lubmVyVmlldy5uYXRpdmVJbnN0YW5jZSxcbiAgICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgICB0aGlzLl90ZXh0SW5wdXRGb2N1c0Vycm9yLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIHpvb20gdG8gYSBzcGVjaWZpYyByZWN0IGluIHRoZSBzY3JvbGx2aWV3LiBUaGUgYXJndW1lbnQgaGFzIHRoZSBzaGFwZVxuICAgKiB7eDogbnVtYmVyOyB5OiBudW1iZXI7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyBhbmltYXRlZDogYm9vbGVhbiA9IHRydWV9XG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFJlc3BvbmRlclpvb21UbzogU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzWydzY3JvbGxSZXNwb25kZXJab29tVG8nXSA9XG4gICAgKFxuICAgICAgcmVjdDoge1xuICAgICAgICB4OiBudW1iZXIsXG4gICAgICAgIHk6IG51bWJlcixcbiAgICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgIH0sXG4gICAgICBhbmltYXRlZD86IGJvb2xlYW4sIC8vIGRlcHJlY2F0ZWQsIHB1dCB0aGlzIGluc2lkZSB0aGUgcmVjdCBhcmd1bWVudCBpbnN0ZWFkXG4gICAgKSA9PiB7XG4gICAgICBpbnZhcmlhbnQoUGxhdGZvcm0uT1MgPT09ICdpb3MnLCAnem9vbVRvUmVjdCBpcyBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgIGlmICgnYW5pbWF0ZWQnIGluIHJlY3QpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZWQgPSByZWN0LmFuaW1hdGVkO1xuICAgICAgICBkZWxldGUgcmVjdC5hbmltYXRlZDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFuaW1hdGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ2BzY3JvbGxSZXNwb25kZXJab29tVG9gIGBhbmltYXRlZGAgYXJndW1lbnQgaXMgZGVwcmVjYXRlZC4gVXNlIGBvcHRpb25zLmFuaW1hdGVkYCBpbnN0ZWFkJyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYoKTtcbiAgICAgIGlmIChjb21wb25lbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBDb21tYW5kcy56b29tVG9SZWN0KGNvbXBvbmVudCwgcmVjdCwgYW5pbWF0ZWQgIT09IGZhbHNlKTtcbiAgICB9O1xuXG4gIF90ZXh0SW5wdXRGb2N1c0Vycm9yKCkge1xuICAgIGNvbnNvbGUud2FybignRXJyb3IgbWVhc3VyaW5nIHRleHQgZmllbGQuJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGN1bGF0aW9ucyBwZXJmb3JtZWQgaGVyZSBhc3N1bWUgdGhlIHNjcm9sbCB2aWV3IHRha2VzIHVwIHRoZSBlbnRpcmVcbiAgICogc2NyZWVuIC0gZXZlbiBpZiBoYXMgc29tZSBjb250ZW50IGluc2V0LiBXZSB0aGVuIG1lYXN1cmUgdGhlIG9mZnNldHMgb2YgdGhlXG4gICAqIGtleWJvYXJkLCBhbmQgY29tcGVuc2F0ZSBib3RoIGZvciB0aGUgc2Nyb2xsIHZpZXcncyBcImNvbnRlbnRJbnNldFwiLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvcCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdGV4dCBpbnB1dC5cbiAgICovXG4gIF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkOiAoXG4gICAgbGVmdDogbnVtYmVyLFxuICAgIHRvcDogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICkgPT4gdm9pZCA9IChsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGxldCBrZXlib2FyZFNjcmVlblkgPSBEaW1lbnNpb25zLmdldCgnd2luZG93JykuaGVpZ2h0O1xuXG4gICAgY29uc3Qgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0ID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2tleWJvYXJkTWV0cmljcyAhPSBudWxsKSB7XG4gICAgICAgIGtleWJvYXJkU2NyZWVuWSA9IHRoaXMuX2tleWJvYXJkTWV0cmljcy5zY3JlZW5ZO1xuICAgICAgfVxuICAgICAgbGV0IHNjcm9sbE9mZnNldFkgPVxuICAgICAgICB0b3AgLSBrZXlib2FyZFNjcmVlblkgKyBoZWlnaHQgKyB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0O1xuXG4gICAgICAvLyBCeSBkZWZhdWx0LCB0aGlzIGNhbiBzY3JvbGwgd2l0aCBuZWdhdGl2ZSBvZmZzZXQsIHB1bGxpbmcgdGhlIGNvbnRlbnRcbiAgICAgIC8vIGRvd24gc28gdGhhdCB0aGUgdGFyZ2V0IGNvbXBvbmVudCdzIGJvdHRvbSBtZWV0cyB0aGUga2V5Ym9hcmQncyB0b3AuXG4gICAgICAvLyBJZiByZXF1ZXN0ZWQgb3RoZXJ3aXNlLCBjYXAgdGhlIG9mZnNldCBhdCAwIG1pbmltdW0gdG8gYXZvaWQgY29udGVudFxuICAgICAgLy8gc2hpZnRpbmcgZG93bi5cbiAgICAgIGlmICh0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgc2Nyb2xsT2Zmc2V0WSA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldFkpO1xuICAgICAgfVxuICAgICAgdGhpcy5zY3JvbGxUbyh7eDogMCwgeTogc2Nyb2xsT2Zmc2V0WSwgYW5pbWF0ZWQ6IHRydWV9KTtcblxuICAgICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IDA7XG4gICAgICB0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2tleWJvYXJkTWV0cmljcyA9PSBudWxsKSB7XG4gICAgICAvLyBgX2tleWJvYXJkTWV0cmljc2AgaXMgc2V0IGluc2lkZSBgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvd2Agd2hpY2hcbiAgICAgIC8vIGlzIG5vdCBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCBidXQgbmF0aXZlIGhhcyBhbHJlYWR5IHNjaGVkdWxlZCBpdC5cbiAgICAgIC8vIEluIGNhc2UgaXQgd2FzIG5vdCBjYWxsZWQgYmVmb3JlIGBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZGAsIHdlIHBvc3Rwb25lIHNjcm9sbGluZyB0b1xuICAgICAgLy8gdGV4dCBpbnB1dC5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgX2dldEtleUZvckluZGV4KFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgLy8gJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdIC0gVGhlIGNoaWxkcmVuIGFuZCBpdHMga2V5IGlzIHVua25vd24uXG4gICAgY2hpbGRBcnJheTogYW55LFxuICApOiBSZWFjdC5LZXkge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRBcnJheVtpbmRleF07XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfVxuXG4gIF91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyAmJlxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50ID1cbiAgICAgICAgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5hdHRhY2hOYXRpdmVFdmVudChcbiAgICAgICAgICB0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZigpLFxuICAgICAgICAgICdvblNjcm9sbCcsXG4gICAgICAgICAgW3tuYXRpdmVFdmVudDoge2NvbnRlbnRPZmZzZXQ6IHt5OiB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfX19XSxcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfc2V0U3RpY2t5SGVhZGVyUmVmKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogP1JlYWN0LkVsZW1lbnRSZWY8U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4sXG4gICkge1xuICAgIGlmIChyZWYpIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuc2V0KGtleSwgcmVmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfb25TdGlja3lIZWFkZXJMYXlvdXQoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBldmVudDogTGF5b3V0Q2hhbmdlRXZlbnQsXG4gICAga2V5OiBSZWFjdC5LZXksXG4gICkge1xuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFzdGlja3lIZWFkZXJJbmRpY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5PCRGbG93Rml4TWU+KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGlmIChrZXkgIT09IHRoaXMuX2dldEtleUZvckluZGV4KGluZGV4LCBjaGlsZEFycmF5KSkge1xuICAgICAgLy8gaWdub3JlIHN0YWxlIGxheW91dCB1cGRhdGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsYXlvdXRZID0gZXZlbnQubmF0aXZlRXZlbnQubGF5b3V0Lnk7XG4gICAgdGhpcy5faGVhZGVyTGF5b3V0WXMuc2V0KGtleSwgbGF5b3V0WSk7XG5cbiAgICBjb25zdCBpbmRleE9mSW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpO1xuICAgIGNvbnN0IHByZXZpb3VzSGVhZGVySW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCAtIDFdO1xuICAgIGlmIChwcmV2aW91c0hlYWRlckluZGV4ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzSGVhZGVyID0gdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5nZXQoXG4gICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KHByZXZpb3VzSGVhZGVySW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgKTtcbiAgICAgIHByZXZpb3VzSGVhZGVyICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZKGxheW91dFkpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTY3JvbGwgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICB0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiYgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgfTtcblxuICBfaGFuZGxlTGF5b3V0ID0gKGU6IExheW91dENoYW5nZUV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bGF5b3V0SGVpZ2h0OiBlLm5hdGl2ZUV2ZW50LmxheW91dC5oZWlnaHR9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25MYXlvdXQpIHtcbiAgICAgIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgfVxuICB9O1xuXG4gIF9oYW5kbGVDb250ZW50T25MYXlvdXQgPSAoZTogTGF5b3V0Q2hhbmdlRXZlbnQpID0+IHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBlLm5hdGl2ZUV2ZW50LmxheW91dDtcbiAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgJiZcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfTtcblxuICBfaW5uZXJWaWV3OiBSZWZGb3J3YXJkZXI8SW5uZXJWaWV3SW5zdGFuY2UsIElubmVyVmlld0luc3RhbmNlPiA9XG4gICAgY3JlYXRlUmVmRm9yd2FyZGVyKFxuICAgICAgKGluc3RhbmNlOiBJbm5lclZpZXdJbnN0YW5jZSk6IElubmVyVmlld0luc3RhbmNlID0+IGluc3RhbmNlLFxuICAgICk7XG5cbiAgX3Njcm9sbFZpZXc6IFJlZkZvcndhcmRlcjxIb3N0SW5zdGFuY2UsIFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSB8IG51bGw+ID1cbiAgICBjcmVhdGVSZWZGb3J3YXJkZXIobmF0aXZlSW5zdGFuY2UgPT4ge1xuICAgICAgLy8gVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiAgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAgIC8vIGhvc3QgY29tcG9uZW50LiBIb3dldmVyLCBzaW5jZSBTY3JvbGxWaWV3IGhhcyBpdCdzIG93biBtZXRob2RzIHRoYXQgY2FuIGJlXG4gICAgICAvLyBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAvLyBtZXRob2RzIHdvdWxkbid0IGJlIGFjY2Vzc2libGUgYW5kIHRodXMgYmUgYSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAvL1xuICAgICAgLy8gVGhlcmVmb3JlIHdlIGVkaXQgcmVmIHRvIGluY2x1ZGUgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzIHNvIHRoYXRcbiAgICAgIC8vIHRoZXkgYXJlIGNhbGxhYmxlIGZyb20gdGhlIHJlZi5cblxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gS25vd24gaXNzdWUgd2l0aCBhcHBlbmRpbmcgY3VzdG9tIG1ldGhvZHMuXG4gICAgICAvLyAkRmxvd0ZpeE1lW3Vuc2FmZS1vYmplY3QtYXNzaWduXVxuICAgICAgY29uc3QgcHVibGljSW5zdGFuY2U6IFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIG5hdGl2ZUluc3RhbmNlLFxuICAgICAgICB7XG4gICAgICAgICAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiB0aGlzLmdldFNjcm9sbFJlc3BvbmRlcixcbiAgICAgICAgICBnZXRTY3JvbGxhYmxlTm9kZTogdGhpcy5nZXRTY3JvbGxhYmxlTm9kZSxcbiAgICAgICAgICBnZXRJbm5lclZpZXdOb2RlOiB0aGlzLmdldElubmVyVmlld05vZGUsXG4gICAgICAgICAgZ2V0SW5uZXJWaWV3UmVmOiB0aGlzLmdldElubmVyVmlld1JlZixcbiAgICAgICAgICBnZXROYXRpdmVTY3JvbGxSZWY6IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmLFxuICAgICAgICAgIHNjcm9sbFRvOiB0aGlzLnNjcm9sbFRvLFxuICAgICAgICAgIHNjcm9sbFRvRW5kOiB0aGlzLnNjcm9sbFRvRW5kLFxuICAgICAgICAgIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogdGhpcy5mbGFzaFNjcm9sbEluZGljYXRvcnMsXG4gICAgICAgICAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiB0aGlzLnNjcm9sbFJlc3BvbmRlclpvb21UbyxcbiAgICAgICAgICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOlxuICAgICAgICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkLFxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHB1YmxpY0luc3RhbmNlO1xuICAgIH0pO1xuXG4gIC8qKlxuICAgKiBXYXJuaW5nLCB0aGlzIG1heSBiZSBjYWxsZWQgc2V2ZXJhbCB0aW1lcyBmb3IgYSBzaW5nbGUga2V5Ym9hcmQgb3BlbmluZy5cbiAgICogSXQncyBiZXN0IHRvIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGlzIG1ldGhvZCBhbmQgdGhlbiB0YWtlIGFueSBhY3Rpb25cbiAgICogYXQgYSBsYXRlciBwb2ludCAoZWl0aGVyIGluIGBrZXlib2FyZERpZFNob3dgIG9yIG90aGVyKS5cbiAgICpcbiAgICogSGVyZSdzIHRoZSBvcmRlciB0aGF0IGV2ZW50cyBvY2N1ciBpbjpcbiAgICogLSBmb2N1c1xuICAgKiAtIHdpbGxTaG93IHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZFNob3cgc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGJsdXJcbiAgICogLSB3aWxsSGlkZSB7c3RhcnRDb29yZGluYXRlcywgZW5kQ29vcmRpbmF0ZXN9IHNldmVyYWwgdGltZXNcbiAgICogLSBkaWRIaWRlIHNldmVyYWwgdGltZXNcbiAgICpcbiAgICogVGhlIGBTY3JvbGxSZXNwb25kZXJgIG1vZHVsZSBjYWxsYmFja3MgZm9yIGVhY2ggb2YgdGhlc2UgZXZlbnRzLlxuICAgKiBFdmVuIHRob3VnaCBhbnkgdXNlciBjb3VsZCBoYXZlIGVhc2lseSBsaXN0ZW5lZCB0byBrZXlib2FyZCBldmVudHNcbiAgICogdGhlbXNlbHZlcywgdXNpbmcgdGhlc2UgYHByb3BzYCBjYWxsYmFja3MgZW5zdXJlcyB0aGF0IG9yZGVyaW5nIG9mIGV2ZW50c1xuICAgKiBpcyBjb25zaXN0ZW50IC0gYW5kIG5vdCBkZXBlbmRlbnQgb24gdGhlIG9yZGVyIHRoYXQgdGhlIGtleWJvYXJkIGV2ZW50cyBhcmVcbiAgICogc3Vic2NyaWJlZCB0by4gVGhpcyBtYXR0ZXJzIHdoZW4gdGVsbGluZyB0aGUgc2Nyb2xsIHZpZXcgdG8gc2Nyb2xsIHRvIHdoZXJlXG4gICAqIHRoZSBrZXlib2FyZCBpcyBoZWFkZWQgLSB0aGUgc2Nyb2xsIHJlc3BvbmRlciBiZXR0ZXIgaGF2ZSBiZWVuIG5vdGlmaWVkIG9mXG4gICAqIHRoZSBrZXlib2FyZCBkZXN0aW5hdGlvbiBiZWZvcmUgYmVpbmcgaW5zdHJ1Y3RlZCB0byBzY3JvbGwgdG8gd2hlcmUgdGhlXG4gICAqIGtleWJvYXJkIHdpbGwgYmUuIFN0aWNrIHRvIHRoZSBgU2Nyb2xsUmVzcG9uZGVyYCBjYWxsYmFja3MsIGFuZCBldmVyeXRoaW5nXG4gICAqIHdpbGwgd29yay5cbiAgICpcbiAgICogV0FSTklORzogVGhlc2UgY2FsbGJhY2tzIHdpbGwgZmlyZSBldmVuIGlmIGEga2V5Ym9hcmQgaXMgZGlzcGxheWVkIGluIGFcbiAgICogZGlmZmVyZW50IG5hdmlnYXRpb24gcGFuZS4gRmlsdGVyIG91dCB0aGUgZXZlbnRzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgKiByZWxldmFudCB0byB5b3UuIChGb3IgZXhhbXBsZSwgb25seSBpZiB5b3UgcmVjZWl2ZSB0aGVzZSBjYWxsYmFja3MgYWZ0ZXJcbiAgICogeW91IGhhZCBleHBsaWNpdGx5IGZvY3VzZWQgYSBub2RlIGV0YykuXG4gICAqL1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IGUuZW5kQ29vcmRpbmF0ZXM7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3cgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZSAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZShlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IGUuZW5kQ29vcmRpbmF0ZXM7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93KGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbjogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZDogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmVuZFNjcm9sbCgpO1xuICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5mb3J0dW5hdGVseSwgYG9uU2Nyb2xsQmVnaW5EcmFnYCBhbHNvIGZpcmVzIHdoZW4gKnN0b3BwaW5nKiB0aGUgc2Nyb2xsXG4gICAqIGFuaW1hdGlvbiwgYW5kIHRoZXJlJ3Mgbm90IGFuIGVhc3kgd2F5IHRvIGRpc3Rpbmd1aXNoIGEgZHJhZyB2cy4gc3RvcHBpbmdcbiAgICogbW9tZW50dW0uXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsQmVnaW5EcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxCZWdpbkRyYWc6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIEZyYW1lUmF0ZUxvZ2dlci5iZWdpblNjcm9sbCgpOyAvLyBUT0RPOiB0cmFjayBhbGwgc2Nyb2xscyBhZnRlciBpbXBsZW1lbnRpbmcgb25TY3JvbGxFbmRBbmltYXRpb25cblxuICAgIGlmIChcbiAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSA9PT0gJ29uLWRyYWcnXG4gICAgKSB7XG4gICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsRW5kRHJhZ2AgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsRW5kRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgLy8gLSBJZiB3ZSBhcmUgYW5pbWF0aW5nLCB0aGVuIHRoaXMgaXMgYSBcImRyYWdcIiB0aGF0IGlzIHN0b3BwaW5nIHRoZSBzY3JvbGx2aWV3IGFuZCBtb21lbnR1bSBlbmRcbiAgICAvLyAgIHdpbGwgZmlyZS5cbiAgICAvLyAtIElmIHZlbG9jaXR5IGlzIG5vbi16ZXJvLCB0aGVuIHRoZSBpbnRlcmFjdGlvbiB3aWxsIHN0b3Agd2hlbiBtb21lbnR1bSBzY3JvbGwgZW5kcyBvclxuICAgIC8vICAgYW5vdGhlciBkcmFnIHN0YXJ0cyBhbmQgZW5kcy5cbiAgICAvLyAtIElmIHdlIGRvbid0IGdldCB2ZWxvY2l0eSwgYmV0dGVyIHRvIHN0b3AgdGhlIGludGVyYWN0aW9uIHR3aWNlIHRoYW4gbm90IHN0b3AgaXQuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX2lzQW5pbWF0aW5nKCkgJiZcbiAgICAgICghdmVsb2NpdHkgfHwgKHZlbG9jaXR5LnggPT09IDAgJiYgdmVsb2NpdHkueSA9PT0gMCkpXG4gICAgKSB7XG4gICAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgdGhpcyBjbGFzcyB0aGF0IGxldHMgdXMgcXVpY2tseSBkZXRlcm1pbmUgaWYgdGhlXG4gICAqIHZpZXcgaXMgY3VycmVudGx5IGFuaW1hdGluZy4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIHRvIGtub3cgd2hlblxuICAgKiBhIHRvdWNoIGhhcyBqdXN0IHN0YXJ0ZWQgb3IgZW5kZWQuXG4gICAqL1xuICBfaXNBbmltYXRpbmc6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA9XG4gICAgICBub3cgLSB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lO1xuICAgIGNvbnN0IGlzQW5pbWF0aW5nID1cbiAgICAgIHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA8IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgfHxcbiAgICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPCB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWU7XG4gICAgcmV0dXJuIGlzQW5pbWF0aW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlckdyYW50YCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJHcmFudDogKGU6IEdlc3R1cmVSZXNwb25kZXJFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudCAmJiB0aGlzLnByb3BzLm9uUmVzcG9uZGVyR3JhbnQoZSk7XG4gICAgdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmcgPSB0aGlzLl9pc0FuaW1hdGluZygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlclJlamVjdGAgZXZlbnQuXG4gICAqXG4gICAqIFNvbWUgb3RoZXIgZWxlbWVudCBpcyBub3QgeWllbGRpbmcgaXRzIHJvbGUgYXMgcmVzcG9uZGVyLiBOb3JtYWxseSwgd2UnZFxuICAgKiBqdXN0IGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgLCBidXQgYSB0b3VjaCBoYXMgYWxyZWFkeSBiZWdhbiBvbiBpdCwgdGhlXG4gICAqIGBVSVNjcm9sbFZpZXdgIHdpbGwgbm90IGFjY2VwdCBiZWluZyBkaXNhYmxlZCBhZnRlciB0aGF0LiBUaGUgZWFzaWVzdFxuICAgKiBzb2x1dGlvbiBmb3Igbm93IGlzIHRvIGFjY2VwdCB0aGUgbGltaXRhdGlvbiBvZiBkaXNhbGxvd2luZyB0aGlzXG4gICAqIGFsdG9nZXRoZXIuIFRvIGltcHJvdmUgdGhpcywgZmluZCBhIHdheSB0byBkaXNhYmxlIHRoZSBgVUlTY3JvbGxWaWV3YCBhZnRlclxuICAgKiBhIHRvdWNoIGhhcyBhbHJlYWR5IHN0YXJ0ZWQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVqZWN0OiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZTogKGU6IEdlc3R1cmVSZXNwb25kZXJFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBlLm5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoICE9PSAwO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlKGUpO1xuXG4gICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCBzY3JvbGwgdmlld3Mgd2lsbCB1bmZvY3VzIGEgdGV4dEZpZWxkXG4gICAgLy8gaWYgYW5vdGhlciB0b3VjaCBvY2N1cnMgb3V0c2lkZSBvZiBpdFxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gdHJ1ZSAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyICYmXG4gICAgICAhdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmdcbiAgICApIHtcbiAgICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXZSB3aWxsIGFsbG93IHRoZSBzY3JvbGwgdmlldyB0byBnaXZlIHVwIGl0cyBsb2NrIGlmZiBpdCBhY3F1aXJlZCB0aGUgbG9ja1xuICAgKiBkdXJpbmcgYW4gYW5pbWF0aW9uLiBUaGlzIGlzIGEgdmVyeSB1c2VmdWwgZGVmYXVsdCB0aGF0IGhhcHBlbnMgdG8gc2F0aXNmeVxuICAgKiBtYW55IGNvbW1vbiB1c2VyIGV4cGVyaWVuY2VzLlxuICAgKlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgb24gdGhlIGxlZnQgZWRnZSwgdGhlbiB0dXJuIHRoYXQgaW50byBhbiBvdXRlciB2aWV3J3NcbiAgICogICBiYWNrc3dpcGUuXG4gICAqIC0gU3RvcCBhIHNjcm9sbCBtaWQtYm91bmNlIGF0IHRoZSB0b3AsIGNvbnRpbnVlIHB1bGxpbmcgdG8gaGF2ZSB0aGUgb3V0ZXJcbiAgICogICB2aWV3IGRpc21pc3MuXG4gICAqIC0gSG93ZXZlciwgd2l0aG91dCBjYXRjaGluZyB0aGUgc2Nyb2xsIHZpZXcgbWlkLWJvdW5jZSAod2hpbGUgaXQgaXNcbiAgICogICBtb3Rpb25sZXNzKSwgaWYgeW91IGRyYWcgZmFyIGVub3VnaCBmb3IgdGhlIHNjcm9sbCB2aWV3IHRvIGJlY29tZVxuICAgKiAgIHJlc3BvbmRlciAoYW5kIHRoZXJlZm9yZSBkcmFnIHRoZSBzY3JvbGwgdmlldyBhIGJpdCksIGFueSBiYWNrc3dpcGVcbiAgICogICBuYXZpZ2F0aW9uIG9mIGEgc3dpcGUgZ2VzdHVyZSBoaWdoZXIgaW4gdGhlIHZpZXcgaGllcmFyY2h5LCBzaG91bGQgYmVcbiAgICogICByZWplY3RlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuICF0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzVG91Y2hpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1lcmVseSB0b3VjaCBzdGFydGluZyBpcyBub3Qgc3VmZmljaWVudCBmb3IgYSBzY3JvbGwgdmlldyB0byBiZWNvbWUgdGhlXG4gICAqIHJlc3BvbmRlci4gQmVpbmcgdGhlIFwicmVzcG9uZGVyXCIgbWVhbnMgdGhhdCB0aGUgdmVyeSBuZXh0IHRvdWNoIG1vdmUvZW5kXG4gICAqIGV2ZW50IHdpbGwgcmVzdWx0IGluIGFuIGFjdGlvbi9tb3ZlbWVudC5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgZXZlbnQuXG4gICAqXG4gICAqIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCBpcyB1c2VkIHdoZW4gdGhlIG5leHQgbW92ZS9lbmQgd2lsbCB0cmlnZ2VyXG4gICAqIHNvbWUgVUkgbW92ZW1lbnQvYWN0aW9uLCBidXQgd2hlbiB5b3Ugd2FudCB0byB5aWVsZCBwcmlvcml0eSB0byB2aWV3c1xuICAgKiBuZXN0ZWQgaW5zaWRlIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBUaGVyZSBtYXkgYmUgc29tZSBjYXNlcyB3aGVyZSBzY3JvbGwgdmlld3MgYWN0dWFsbHkgc2hvdWxkIHJldHVybiBgdHJ1ZWBcbiAgICogZnJvbSBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmA6IEFueSB0aW1lIHdlIGFyZSBkZXRlY3RpbmcgYSBzdGFuZGFyZCB0YXBcbiAgICogdGhhdCBnaXZlcyBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MuXG4gICAqXG4gICAqIC0gSWYgYSBzaW5nbGUgdGFwIG9uIHRoZSBzY3JvbGwgdmlldyB0cmlnZ2VycyBhbiBhY3Rpb24gc3VjaCBhc1xuICAgKiAgIHJlY2VudGVyaW5nIGEgbWFwIHN0eWxlIHZpZXcgeWV0IHdhbnRzIHRvIGdpdmUgcHJpb3JpdHkgdG8gaW50ZXJhY3Rpb25cbiAgICogICB2aWV3cyBpbnNpZGUgKHN1Y2ggYXMgZHJvcHBlZCBwaW5zIG9yIGxhYmVscyksIHRoZW4gd2Ugd291bGQgcmV0dXJuIHRydWVcbiAgICogICBmcm9tIHRoaXMgbWV0aG9kIHdoZW4gdGhlcmUgaXMgYSBzaW5nbGUgdG91Y2guXG4gICAqXG4gICAqIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgY2FzZSwgaWYgYSB0d28gZmluZ2VyIFwidGFwXCIgc2hvdWxkIHRyaWdnZXIgYVxuICAgKiAgIHpvb20sIHdlIHdvdWxkIGNoZWNrIHRoZSBgdG91Y2hlc2AgY291bnQsIGFuZCBpZiBgPj0gMmAsIHdlIHdvdWxkIHJldHVyblxuICAgKiAgIHRydWUuXG4gICAqXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IChlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQpID0+IGJvb2xlYW4gPSAoXG4gICAgZTogR2VzdHVyZVJlc3BvbmRlckV2ZW50LFxuICApID0+IHtcbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ2hhbmRsZWQnICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT09IGN1cnJlbnRseUZvY3VzZWRJbnB1dFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlcmUgYXJlIHRpbWVzIHdoZW4gdGhlIHNjcm9sbCB2aWV3IHdhbnRzIHRvIGJlY29tZSB0aGUgcmVzcG9uZGVyXG4gICAqIChtZWFuaW5nIHJlc3BvbmQgdG8gdGhlIG5leHQgaW1tZWRpYXRlIGB0b3VjaFN0YXJ0L3RvdWNoRW5kYCksIGluIGEgd2F5XG4gICAqIHRoYXQgKmRvZXNuJ3QqIGdpdmUgcHJpb3JpdHkgdG8gbmVzdGVkIHZpZXdzIChoZW5jZSB0aGUgY2FwdHVyZSBwaGFzZSk6XG4gICAqXG4gICAqIC0gQ3VycmVudGx5IGFuaW1hdGluZy5cbiAgICogLSBUYXBwaW5nIGFueXdoZXJlIHRoYXQgaXMgbm90IGEgdGV4dCBpbnB1dCwgd2hpbGUgdGhlIGtleWJvYXJkIGlzXG4gICAqICAgdXAgKHdoaWNoIHNob3VsZCBkaXNtaXNzIHRoZSBrZXlib2FyZCkuXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmU6IChlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQpID0+IGJvb2xlYW4gPVxuICAgIChlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQpID0+IHtcbiAgICAgIC8vIFRoZSBzY3JvbGwgdmlldyBzaG91bGQgcmVjZWl2ZSB0YXBzIGluc3RlYWQgb2YgaXRzIGRlc2NlbmRhbnRzIGlmOlxuICAgICAgLy8gKiBpdCBpcyBhbHJlYWR5IGFuaW1hdGluZy9kZWNlbGVyYXRpbmdcbiAgICAgIGlmICh0aGlzLl9pc0FuaW1hdGluZygpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gKiB0aGUga2V5Ym9hcmQgaXMgdXAsIGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgaXMgJ25ldmVyJyAodGhlIGRlZmF1bHQpLFxuICAgICAgLy8gYW5kIGEgbmV3IHRvdWNoIHN0YXJ0cyB3aXRoIGEgbm9uLXRleHRpbnB1dCB0YXJnZXQgKGluIHdoaWNoIGNhc2UgdGhlXG4gICAgICAvLyBmaXJzdCB0YXAgc2hvdWxkIGJlIHNlbnQgdG8gdGhlIHNjcm9sbCB2aWV3IGFuZCBkaXNtaXNzIHRoZSBrZXlib2FyZCxcbiAgICAgIC8vIHRoZW4gdGhlIHNlY29uZCB0YXAgZ29lcyB0byB0aGUgYWN0dWFsIGludGVyaW9yIHZpZXcpXG4gICAgICBjb25zdCB7a2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwc30gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3Qga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzID1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtza2V0Y2h5LW51bGwtYm9vbF1cbiAgICAgICAgIWtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgfHwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ25ldmVyJztcblxuICAgICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIExldCBwcmVzc2VzIHRocm91Z2ggaWYgdGhlIHNvZnQga2V5Ym9hcmQgaXMgZGV0YWNoZWQgZnJvbSB0aGUgdmlld3BvcnRcbiAgICAgIGlmICh0aGlzLl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyAmJlxuICAgICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgICBlLnRhcmdldCAhPSBudWxsICYmXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICFUZXh0SW5wdXRTdGF0ZS5pc1RleHRJbnB1dChlLnRhcmdldClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIERvIHdlIGNvbnNpZGVyIHRoZXJlIHRvIGJlIGEgZGlzbWlzc2libGUgc29mdC1rZXlib2FyZCBvcGVuP1xuICAgKi9cbiAgX2tleWJvYXJkSXNEaXNtaXNzaWJsZTogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkSW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcblxuICAgIC8vIFdlIGNhbm5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZCB3aXRob3V0IGFuIGlucHV0IHRvIGJsdXIsIGV2ZW4gaWYgYSBzb2Z0XG4gICAgLy8ga2V5Ym9hcmQgaXMgb3BlbiAoZS5nLiB3aGVuIGtleWJvYXJkIGlzIG9wZW4gZHVlIHRvIGEgbmF0aXZlIGNvbXBvbmVudFxuICAgIC8vIG5vdCBwYXJ0aWNpcGF0aW5nIGluIFRleHRJbnB1dFN0YXRlKS4gSXQncyBhbHNvIHBvc3NpYmxlIHRoYXQgdGhlXG4gICAgLy8gY3VycmVudGx5IGZvY3VzZWQgaW5wdXQgaXNuJ3QgYSBUZXh0SW5wdXQgKHN1Y2ggYXMgYnkgY2FsbGluZyByZWYuZm9jdXNcbiAgICAvLyBvbiBhIG5vbi1UZXh0SW5wdXQpLlxuICAgIGNvbnN0IGhhc0ZvY3VzZWRUZXh0SW5wdXQgPVxuICAgICAgY3VycmVudGx5Rm9jdXNlZElucHV0ICE9IG51bGwgJiZcbiAgICAgIFRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRJbnB1dCk7XG5cbiAgICAvLyBFdmVuIGlmIGFuIGlucHV0IGlzIGZvY3VzZWQsIHdlIG1heSBub3QgaGF2ZSBhIGtleWJvYXJkIHRvIGRpc21pc3MuIEUuZ1xuICAgIC8vIHdoZW4gdXNpbmcgYSBwaHlzaWNhbCBrZXlib2FyZC4gRW5zdXJlIHdlIGhhdmUgYW4gZXZlbnQgZm9yIGFuIG9wZW5lZFxuICAgIC8vIGtleWJvYXJkLlxuICAgIGNvbnN0IHNvZnRLZXlib2FyZE1heUJlT3BlbiA9XG4gICAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgIT0gbnVsbCB8fCB0aGlzLl9rZXlib2FyZEV2ZW50c0FyZVVucmVsaWFibGUoKTtcblxuICAgIHJldHVybiBoYXNGb2N1c2VkVGV4dElucHV0ICYmIHNvZnRLZXlib2FyZE1heUJlT3BlbjtcbiAgfTtcblxuICAvKipcbiAgICogV2hldGhlciBhbiBvcGVuIHNvZnQga2V5Ym9hcmQgaXMgcHJlc2VudCB3aGljaCBkb2VzIG5vdCBvdmVybGFwIHRoZVxuICAgKiB2aWV3cG9ydC4gRS5nLiBmb3IgYSBWUiBzb2Z0LWtleWJvYXJkIHdoaWNoIGlzIGRldGFjaGVkIGZyb20gdGhlIGFwcFxuICAgKiB2aWV3cG9ydC5cbiAgICovXG4gIF9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9rZXlib2FyZE1ldHJpY3MgIT0gbnVsbCAmJiB0aGlzLl9rZXlib2FyZE1ldHJpY3MuaGVpZ2h0ID09PSAwO1xuICB9O1xuXG4gIF9rZXlib2FyZEV2ZW50c0FyZVVucmVsaWFibGU6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQW5kcm9pZCB2ZXJzaW9ucyBwcmlvciB0byBBUEkgMzAgcmVseSBvbiBvYnNlcnZpbmcgbGF5b3V0IGNoYW5nZXMgd2hlblxuICAgIC8vIGBhbmRyb2lkOndpbmRvd1NvZnRJbnB1dE1vZGVgIGlzIHNldCB0byBgYWRqdXN0UmVzaXplYCBvciBgYWRqdXN0UGFuYC5cbiAgICByZXR1cm4gUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBQbGF0Zm9ybS5WZXJzaW9uIDwgMzA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hFbmRgIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0dlc3R1cmVSZXNwb25kZXJFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaEVuZDogKGU6IEdlc3R1cmVSZXNwb25kZXJFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQsXG4gICkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUV2ZW50ID0gZS5uYXRpdmVFdmVudDtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gbmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG5cbiAgICBjb25zdCB7a2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwc30gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHMgPVxuICAgICAgLy8gJEZsb3dGaXhNZVtza2V0Y2h5LW51bGwtYm9vbF1cbiAgICAgICFrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIHx8IGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICduZXZlcic7XG5cbiAgICAvLyBEaXNtaXNzIHRoZSBrZXlib2FyZCBub3cgaWYgd2UgZGlkbid0IGJlY29tZSByZXNwb25kZXIgaW4gY2FwdHVyZSBwaGFzZVxuICAgIC8vIHRvIGVhdCBwcmVzc2VzLCBidXQgc3RpbGwgd2FudCB0byBkaXNtaXNzIG9uIGludGVyYWN0aW9uLlxuICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoZSB0YXJnZXQgb2YgdGhlIHRvdWNoIGV2ZW50IGlzIHRoZSBjdXJyZW50IGlucHV0LlxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICE9IG51bGwgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICB0aGlzLl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkKCkgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBrZXlib2FyZE5ldmVyUGVyc2lzdHNUYXBzXG4gICAgKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25Ub3VjaEVuZCAmJiB0aGlzLnByb3BzLm9uVG91Y2hFbmQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hDYW5jZWxgIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0dlc3R1cmVSZXNwb25kZXJFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaENhbmNlbDogKGU6IEdlc3R1cmVSZXNwb25kZXJFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwgJiYgdGhpcy5wcm9wcy5vblRvdWNoQ2FuY2VsKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoU3RhcnRgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7R2VzdHVyZVJlc3BvbmRlckV2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoU3RhcnQ6IChlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogR2VzdHVyZVJlc3BvbmRlckV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hTdGFydCAmJiB0aGlzLnByb3BzLm9uVG91Y2hTdGFydChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaE1vdmVgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7R2VzdHVyZVJlc3BvbmRlckV2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoTW92ZTogKGU6IEdlc3R1cmVSZXNwb25kZXJFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMucHJvcHMub25Ub3VjaE1vdmUgJiYgdGhpcy5wcm9wcy5vblRvdWNoTW92ZShlKTtcbiAgfTtcblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgY29uc3QgaG9yaXpvbnRhbCA9IHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZTtcblxuICAgIGNvbnN0IE5hdGl2ZVNjcm9sbFZpZXcgPSBob3Jpem9udGFsXG4gICAgICA/IEhTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50XG4gICAgICA6IFZTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuXG4gICAgY29uc3QgTmF0aXZlU2Nyb2xsQ29udGVudFZpZXcgPSBob3Jpem9udGFsXG4gICAgICA/IEhTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudFxuICAgICAgOiBWU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQ7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyU3R5bGUgPSBbXG4gICAgICBob3Jpem9udGFsICYmIHN0eWxlcy5jb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlLFxuICAgIF07XG4gICAgaWYgKF9fREVWX18gJiYgdGhpcy5wcm9wcy5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3VuZGVyY29uc3RyYWluZWQtaW1wbGljaXQtaW5zdGFudGlhdGlvbl1cbiAgICAgIGNvbnN0IHN0eWxlID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgY29uc3QgY2hpbGRMYXlvdXRQcm9wcyA9IChcbiAgICAgICAgWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlDb250ZW50J10gYXMgY29uc3RcbiAgICAgICkuZmlsdGVyKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgIHByb3AgPT4gc3R5bGUgJiYgc3R5bGVbcHJvcF0gIT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGNoaWxkTGF5b3V0UHJvcHMubGVuZ3RoID09PSAwLFxuICAgICAgICAnU2Nyb2xsVmlldyBjaGlsZCBsYXlvdXQgKCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGNoaWxkTGF5b3V0UHJvcHMpICtcbiAgICAgICAgICAnKSBtdXN0IGJlIGFwcGxpZWQgdGhyb3VnaCB0aGUgY29udGVudENvbnRhaW5lclN0eWxlIHByb3AuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9XG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgPT0gbnVsbFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlQ29udGVudE9uTGF5b3V0LFxuICAgICAgICAgIH07XG5cbiAgICBjb25zdCB7c3RpY2t5SGVhZGVySW5kaWNlc30gPSB0aGlzLnByb3BzO1xuICAgIGxldCBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gY2F1c2UgdW5uZWNlc3NhcnkgcmVtb3VudCB3aGVuIG5lc3RlZCBpbiBjb25kaXRpb25hbHMgYXMgaXQgY2F1c2VzIHJlbWFwIG9mIGNoaWxkcmVuIGtleXMuXG4gICAgICogaHR0cHM6Ly9yZWFjdC5kZXYvcmVmZXJlbmNlL3JlYWN0L0NoaWxkcmVuI2NoaWxkcmVuLXRvYXJyYXktY2F2ZWF0c1xuICAgICAqL1xuICAgIGNoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheTwkRmxvd0ZpeE1lPihjaGlsZHJlbik7XG5cbiAgICBpZiAoc3RpY2t5SGVhZGVySW5kaWNlcyAhPSBudWxsICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5tYXAoKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpbmRleE9mSW5kZXggPSBjaGlsZCA/IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCkgOiAtMTtcbiAgICAgICAgaWYgKGluZGV4T2ZJbmRleCA+IC0xKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4ICsgMV07XG4gICAgICAgICAgY29uc3QgU3RpY2t5SGVhZGVyQ29tcG9uZW50ID1cbiAgICAgICAgICAgIHRoaXMucHJvcHMuU3RpY2t5SGVhZGVyQ29tcG9uZW50IHx8IFNjcm9sbFZpZXdTdGlja3lIZWFkZXI7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTdGlja3lIZWFkZXJDb21wb25lbnRcbiAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMuX3NldFN0aWNreUhlYWRlclJlZihrZXksIHJlZil9XG4gICAgICAgICAgICAgIG5leHRIZWFkZXJMYXlvdXRZPXt0aGlzLl9oZWFkZXJMYXlvdXRZcy5nZXQoXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgobmV4dEluZGV4LCBjaGlsZHJlbiksXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG9uTGF5b3V0PXtldmVudCA9PiB0aGlzLl9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSl9XG4gICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGVkVmFsdWU9e3RoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9XG4gICAgICAgICAgICAgIGludmVydGVkPXt0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnN9XG4gICAgICAgICAgICAgIGhpZGRlbk9uU2Nyb2xsPXt0aGlzLnByb3BzLnN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsfVxuICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgIHtjaGlsZH1cbiAgICAgICAgICAgIDwvU3RpY2t5SGVhZGVyQ29tcG9uZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGRyZW4gPSAoXG4gICAgICA8U2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2hvcml6b250YWwgPyBIT1JJWk9OVEFMIDogVkVSVElDQUx9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1Njcm9sbFZpZXdDb250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG5cbiAgICBjb25zdCBoYXNTdGlja3lIZWFkZXJzID1cbiAgICAgIEFycmF5LmlzQXJyYXkoc3RpY2t5SGVhZGVySW5kaWNlcykgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwO1xuXG4gICAgLy8gU29tZSBTY3JvbGxWaWV3IG5hdGl2ZSBjb21wb25lbnQgYmVoYXZpb3JzIHJlbHkgb24gdXNpbmcgdGhlIG1ldHJpY3NcbiAgICAvLyBvZiBtb3VudGVkIHZpZXdzIGZvciBhbmNob3JpbmcuIE1ha2Ugc3VyZSBub3QgdG8gZmxhdHRlbiBjaGlsZHJlbiBpZlxuICAgIC8vIHRoaXMgaXMgdGhlIGNhc2UuXG4gICAgY29uc3QgcHJlc2VydmVDaGlsZHJlbiA9XG4gICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsIHx8XG4gICAgICAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiB0aGlzLnByb3BzLnNuYXBUb0FsaWdubWVudCAhPSBudWxsKTtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSAoXG4gICAgICA8TmF0aXZlU2Nyb2xsQ29udGVudFZpZXdcbiAgICAgICAgey4uLmNvbnRlbnRTaXplQ2hhbmdlUHJvcHN9XG4gICAgICAgIHJlZj17dGhpcy5faW5uZXJWaWV3LmdldEZvcndhcmRpbmdSZWYodGhpcy5wcm9wcy5pbm5lclZpZXdSZWYpfVxuICAgICAgICBzdHlsZT17Y29udGVudENvbnRhaW5lclN0eWxlfVxuICAgICAgICByZW1vdmVDbGlwcGVkU3Vidmlld3M9e1xuICAgICAgICAgIC8vIFN1YnZpZXcgY2xpcHBpbmcgY2F1c2VzIGlzc3VlcyB3aXRoIHN0aWNreSBoZWFkZXJzIG9uIEFuZHJvaWQgYW5kXG4gICAgICAgICAgLy8gd291bGQgYmUgaGFyZCB0byBmaXggcHJvcGVybHkgaW4gYSBwZXJmb3JtYW50IHdheS5cbiAgICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5yZW1vdmVDbGlwcGVkU3Vidmlld3NcbiAgICAgICAgfVxuICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9XG4gICAgICAgIGNvbGxhcHNhYmxlQ2hpbGRyZW49eyFwcmVzZXJ2ZUNoaWxkcmVufT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9OYXRpdmVTY3JvbGxDb250ZW50Vmlldz5cbiAgICApO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbFxuICAgICAgICA6IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZVZlcnRpY2FsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWxcbiAgICAgICAgOiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYmFzZVN0eWxlID0gaG9yaXpvbnRhbCA/IHN0eWxlcy5iYXNlSG9yaXpvbnRhbCA6IHN0eWxlcy5iYXNlVmVydGljYWw7XG5cbiAgICBjb25zdCB7ZXhwZXJpbWVudGFsX2VuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyLCAuLi5vdGhlclByb3BzfSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgLi4ub3RoZXJQcm9wcyxcbiAgICAgIGFsd2F5c0JvdW5jZUhvcml6b250YWwsXG4gICAgICBhbHdheXNCb3VuY2VWZXJ0aWNhbCxcbiAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCB0aGlzLnByb3BzLnN0eWxlKSxcbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBvbkNvbnRlbnRTaXplQ2hhbmdlIGZyb20gcHJvcHMsIHNpbmNlIHRoaXMgZXZlbnQgY2FuXG4gICAgICAvLyBidWJibGUgdXAgZnJvbSBUZXh0SW5wdXRzXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiBudWxsLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUxheW91dCxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy5faGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlclJlamVjdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyUmVqZWN0LFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9oYW5kbGVTY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEVuZERyYWcsXG4gICAgICBvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTpcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5faGFuZGxlVG91Y2hFbmQsXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5faGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5faGFuZGxlVG91Y2hDYW5jZWwsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgZW5kRHJhZ2dpbmdTZW5zaXRpdml0eU11bHRpcGxpZXI6XG4gICAgICAgIGV4cGVyaW1lbnRhbF9lbmREcmFnZ2luZ1NlbnNpdGl2aXR5TXVsdGlwbGllcixcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgPyAxXG4gICAgICAgIDogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgc2VuZE1vbWVudHVtRXZlbnRzOlxuICAgICAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiB8fCB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmRcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IGZhbHNlLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9TdGFydDogdGhpcy5wcm9wcy5zbmFwVG9TdGFydCAhPT0gZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb0VuZDogdGhpcy5wcm9wcy5zbmFwVG9FbmQgIT09IGZhbHNlLFxuICAgICAgLy8gcGFnaW5nRW5hYmxlZCBpcyBvdmVycmlkZGVuIGJ5IHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0c1xuICAgICAgcGFnaW5nRW5hYmxlZDogUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgLy8gb24gaU9TLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIGZhbHNlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgaW9zOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgPT0gbnVsbCAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyA9PSBudWxsLFxuICAgICAgICAvLyBvbiBBbmRyb2lkLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIHRydWUgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBhbmRyb2lkOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgIT0gbnVsbCB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyAhPSBudWxsLFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIGNvbnN0IHtkZWNlbGVyYXRpb25SYXRlfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRlY2VsZXJhdGlvblJhdGUgIT0gbnVsbCkge1xuICAgICAgcHJvcHMuZGVjZWxlcmF0aW9uUmF0ZSA9IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlKGRlY2VsZXJhdGlvblJhdGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlZnJlc2hDb250cm9sID0gdGhpcy5wcm9wcy5yZWZyZXNoQ29udHJvbDtcbiAgICBjb25zdCBzY3JvbGxWaWV3UmVmID0gdGhpcy5fc2Nyb2xsVmlldy5nZXRGb3J3YXJkaW5nUmVmKFxuICAgICAgdGhpcy5wcm9wcy5zY3JvbGxWaWV3UmVmLFxuICAgICk7XG5cbiAgICBpZiAocmVmcmVzaENvbnRyb2wgIT0gbnVsbCkge1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAvLyBPbiBpT1MgdGhlIFJlZnJlc2hDb250cm9sIGlzIGEgY2hpbGQgb2YgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBGbG93IG9ubHkga25vd3MgZWxlbWVudCByZWZzLlxuICAgICAgICAgIDxOYXRpdmVTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXtzY3JvbGxWaWV3UmVmfT5cbiAgICAgICAgICAgIHtyZWZyZXNoQ29udHJvbH1cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvTmF0aXZlU2Nyb2xsVmlldz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAvLyBPbiBBbmRyb2lkIHdyYXAgdGhlIFNjcm9sbFZpZXcgd2l0aCBhIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQuXG4gICAgICAgIC8vIFNpbmNlIHRoZSBTY3JvbGxWaWV3IGlzIHdyYXBwZWQgYWRkIHRoZSBzdHlsZSBwcm9wcyB0byB0aGVcbiAgICAgICAgLy8gQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dCBhbmQgdXNlIGZsZXg6IDEgZm9yIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICAvLyBOb3RlOiB3ZSBzaG91bGQgc3BsaXQgcHJvcHMuc3R5bGUgb24gdGhlIGlubmVyIGFuZCBvdXRlciBwcm9wc1xuICAgICAgICAvLyBob3dldmVyLCB0aGUgU2Nyb2xsVmlldyBzdGlsbCBuZWVkcyB0aGUgYmFzZVN0eWxlIHRvIGJlIHNjcm9sbGFibGVcbiAgICAgICAgY29uc3Qge291dGVyLCBpbm5lcn0gPSBzcGxpdExheW91dFByb3BzKGZsYXR0ZW5TdHlsZShwcm9wcy5zdHlsZSkpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXVxuICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KFxuICAgICAgICAgIHJlZnJlc2hDb250cm9sLFxuICAgICAgICAgIHtzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGJhc2VTdHlsZSwgb3V0ZXIpfSxcbiAgICAgICAgICA8TmF0aXZlU2Nyb2xsVmlld1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIGlubmVyKX1cbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gRmxvdyBvbmx5IGtub3dzIGVsZW1lbnQgcmVmcy5cbiAgICAgICAgICAgIHJlZj17c2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L05hdGl2ZVNjcm9sbFZpZXc+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBGbG93IG9ubHkga25vd3MgZWxlbWVudCByZWZzLlxuICAgICAgPE5hdGl2ZVNjcm9sbFZpZXcgey4uLnByb3BzfSByZWY9e3Njcm9sbFZpZXdSZWZ9PlxuICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgIDwvTmF0aXZlU2Nyb2xsVmlldz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZVZlcnRpY2FsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGJhc2VIb3Jpem9udGFsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG59KTtcblxudHlwZSBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+ID0ge1xuICBnZXRGb3J3YXJkaW5nUmVmOiAoXG4gICAgP1JlYWN0LlJlZlNldHRlcjxUUHVibGljSW5zdGFuY2U+LFxuICApID0+IChUTmF0aXZlSW5zdGFuY2UgfCBudWxsKSA9PiB2b2lkLFxuICBuYXRpdmVJbnN0YW5jZTogVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCxcbiAgcHVibGljSW5zdGFuY2U6IFRQdWJsaWNJbnN0YW5jZSB8IG51bGwsXG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGB1c2VDYWxsYmFja2AgYW5kIGB1c2VNZXJnZVJlZnNgXG4gKiBvbmNlIGBTY3JvbGxWaWV3YCBpcyByZWltcGxlbWVudGVkIGFzIGEgZnVuY3Rpb25hbCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4oXG4gIG11dGF0b3I6IFROYXRpdmVJbnN0YW5jZSA9PiBUUHVibGljSW5zdGFuY2UsXG4pOiBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+IHtcbiAgY29uc3Qgc3RhdGU6IFJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4gPSB7XG4gICAgZ2V0Rm9yd2FyZGluZ1JlZjogbWVtb2l6ZShmb3J3YXJkZWRSZWYgPT4ge1xuICAgICAgcmV0dXJuIChuYXRpdmVJbnN0YW5jZTogVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBwdWJsaWNJbnN0YW5jZSA9XG4gICAgICAgICAgbmF0aXZlSW5zdGFuY2UgPT0gbnVsbCA/IG51bGwgOiBtdXRhdG9yKG5hdGl2ZUluc3RhbmNlKTtcblxuICAgICAgICBzdGF0ZS5uYXRpdmVJbnN0YW5jZSA9IG5hdGl2ZUluc3RhbmNlO1xuICAgICAgICBzdGF0ZS5wdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlO1xuXG4gICAgICAgIGlmIChmb3J3YXJkZWRSZWYgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZm9yd2FyZGVkUmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmb3J3YXJkZWRSZWYocHVibGljSW5zdGFuY2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3J3YXJkZWRSZWYuY3VycmVudCA9IHB1YmxpY0luc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBuYXRpdmVJbnN0YW5jZTogbnVsbCxcbiAgICBwdWJsaWNJbnN0YW5jZTogbnVsbCxcbiAgfTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8vIE5PVEU6IFRoaXMgd3JhcHBlciBjb21wb25lbnQgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgYFNjcm9sbFZpZXdgIGlzIGEgY2xhc3Ncbi8vIGNvbXBvbmVudCBhbmQgd2UgbmVlZCB0byBtYXAgYHJlZmAgdG8gYSBkaWZmZXJlbnRseSBuYW1lZCBwcm9wLiBUaGlzIGNhbiBiZVxuLy8gcmVtb3ZlZCB3aGVuIGBTY3JvbGxWaWV3YCBpcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LlxuY29uc3QgU2Nyb2xsVmlld1dyYXBwZXI6IGNvbXBvbmVudChcbiAgcmVmPzogUmVhY3QuUmVmU2V0dGVyPFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZT4sXG4gIC4uLnByb3BzOiBTY3JvbGxWaWV3UHJvcHNcbikgPSBmdW5jdGlvbiBXcmFwcGVyKHtcbiAgcmVmLFxuICAuLi5wcm9wc1xufToge1xuICByZWY/OiBSZWFjdC5SZWZTZXR0ZXI8UHVibGljU2Nyb2xsVmlld0luc3RhbmNlPixcbiAgLi4uU2Nyb2xsVmlld1Byb3BzLFxufSk6IFJlYWN0Lk5vZGUge1xuICByZXR1cm4gcmVmID09IG51bGwgPyAoXG4gICAgPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPlxuICApIDogKFxuICAgIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gc2Nyb2xsVmlld1JlZj17cmVmfSAvPlxuICApO1xufTtcblNjcm9sbFZpZXdXcmFwcGVyLmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuLy8gJEZsb3dFeHBlY3RlZEVycm9yW3Byb3AtbWlzc2luZ11cblNjcm9sbFZpZXdXcmFwcGVyLkNvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcblxuZXhwb3J0IGRlZmF1bHQgKChTY3JvbGxWaWV3V3JhcHBlcjogJEZsb3dGaXhNZSk6IHR5cGVvZiBTY3JvbGxWaWV3V3JhcHBlciAmXG4gIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUF5QkEsSUFBQUEsNEJBQUEsR0FBQUMsT0FBQTtBQUlBLElBQUFDLDRCQUFBLEdBQUFELE9BQUE7QUFJQSxJQUFBRSx1QkFBQSxHQUFBQyxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksZ0JBQUEsR0FBQUQsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFLLGNBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFPLGFBQUEsR0FBQUosc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFRLGtCQUFBLEdBQUFMLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBUyxXQUFBLEdBQUFOLHNCQUFBLENBQUFI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