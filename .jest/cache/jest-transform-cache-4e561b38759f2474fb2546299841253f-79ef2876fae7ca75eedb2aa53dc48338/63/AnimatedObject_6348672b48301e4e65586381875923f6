bcdd7ec981543e43932117cf665cf9b6
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
exports.isPlainObject = isPlainObject;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _classPrivateFieldLooseBase2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseBase"));
var _classPrivateFieldLooseKey2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseKey"));
var _AnimatedNode = _interopRequireDefault(require("./AnimatedNode"));
var _AnimatedWithChildren2 = _interopRequireDefault(require("./AnimatedWithChildren"));
var _react = require("react");
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = (0, _get2.default)((0, _getPrototypeOf2.default)(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
var MAX_DEPTH = 5;
function isPlainObject(value) {
  return value !== null && typeof value === 'object' && Object.getPrototypeOf(value).isPrototypeOf(Object) && !(0, _react.isValidElement)(value);
}
function flatAnimatedNodes(value) {
  var nodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  if (depth >= MAX_DEPTH) {
    return nodes;
  }
  if (value instanceof _AnimatedNode.default) {
    nodes.push(value);
  } else if (Array.isArray(value)) {
    for (var ii = 0, length = value.length; ii < length; ii++) {
      var element = value[ii];
      flatAnimatedNodes(element, nodes, depth + 1);
    }
  } else if (isPlainObject(value)) {
    var keys = Object.keys(value);
    for (var _ii = 0, _length = keys.length; _ii < _length; _ii++) {
      var key = keys[_ii];
      flatAnimatedNodes(value[key], nodes, depth + 1);
    }
  }
  return nodes;
}
function mapAnimatedNodes(value, fn) {
  var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  if (depth >= MAX_DEPTH) {
    return value;
  }
  if (value instanceof _AnimatedNode.default) {
    return fn(value);
  } else if (Array.isArray(value)) {
    return value.map(function (element) {
      return mapAnimatedNodes(element, fn, depth + 1);
    });
  } else if (isPlainObject(value)) {
    var result = {};
    var keys = Object.keys(value);
    for (var ii = 0, length = keys.length; ii < length; ii++) {
      var key = keys[ii];
      result[key] = mapAnimatedNodes(value[key], fn, depth + 1);
    }
    return result;
  } else {
    return value;
  }
}
var _nodes = (0, _classPrivateFieldLooseKey2.default)("nodes");
var AnimatedObject = exports.default = function (_AnimatedWithChildren) {
  function AnimatedObject(nodes, value, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedObject);
    _this = _callSuper(this, AnimatedObject, [config]);
    Object.defineProperty(_this, _nodes, {
      writable: true,
      value: void 0
    });
    (0, _classPrivateFieldLooseBase2.default)(_this, _nodes)[_nodes] = nodes;
    _this._value = value;
    return _this;
  }
  (0, _inherits2.default)(AnimatedObject, _AnimatedWithChildren);
  return (0, _createClass2.default)(AnimatedObject, [{
    key: "__getValue",
    value: function __getValue() {
      return mapAnimatedNodes(this._value, function (node) {
        return node.__getValue();
      });
    }
  }, {
    key: "__getValueWithStaticObject",
    value: function __getValueWithStaticObject(staticObject) {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      var index = 0;
      return mapAnimatedNodes(staticObject, function () {
        return nodes[index++].__getValue();
      });
    }
  }, {
    key: "__getAnimatedValue",
    value: function __getAnimatedValue() {
      return mapAnimatedNodes(this._value, function (node) {
        return node.__getAnimatedValue();
      });
    }
  }, {
    key: "__attach",
    value: function __attach() {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__addChild(this);
      }
      _superPropGet(AnimatedObject, "__attach", this, 3)([]);
    }
  }, {
    key: "__detach",
    value: function __detach() {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__removeChild(this);
      }
      _superPropGet(AnimatedObject, "__detach", this, 3)([]);
    }
  }, {
    key: "__makeNative",
    value: function __makeNative(platformConfig) {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__makeNative(platformConfig);
      }
      _superPropGet(AnimatedObject, "__makeNative", this, 3)([platformConfig]);
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      return {
        type: 'object',
        value: mapAnimatedNodes(this._value, function (node) {
          return {
            nodeTag: node.__getNativeTag()
          };
        }),
        debugID: this.__getDebugID()
      };
    }
  }], [{
    key: "from",
    value: function from(value) {
      var nodes = flatAnimatedNodes(value);
      if (nodes.length === 0) {
        return null;
      }
      return new AnimatedObject(nodes, value);
    }
  }]);
}(_AnimatedWithChildren2.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsImlzUGxhaW5PYmplY3QiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfZ2V0MiIsIl9pbmhlcml0czIiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UyIiwiX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkyIiwiX0FuaW1hdGVkTm9kZSIsIl9BbmltYXRlZFdpdGhDaGlsZHJlbjIiLCJfcmVhY3QiLCJfY2FsbFN1cGVyIiwidCIsIm8iLCJlIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiX3N1cGVyUHJvcEdldCIsInIiLCJwIiwiTUFYX0RFUFRIIiwiZ2V0UHJvdG90eXBlT2YiLCJpc1Byb3RvdHlwZU9mIiwiaXNWYWxpZEVsZW1lbnQiLCJmbGF0QW5pbWF0ZWROb2RlcyIsIm5vZGVzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZGVwdGgiLCJBbmltYXRlZE5vZGUiLCJwdXNoIiwiQXJyYXkiLCJpc0FycmF5IiwiaWkiLCJlbGVtZW50Iiwia2V5cyIsImtleSIsIm1hcEFuaW1hdGVkTm9kZXMiLCJmbiIsIm1hcCIsInJlc3VsdCIsIl9ub2RlcyIsIkFuaW1hdGVkT2JqZWN0IiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuIiwiY29uZmlnIiwiX3RoaXMiLCJ3cml0YWJsZSIsIl92YWx1ZSIsIl9fZ2V0VmFsdWUiLCJub2RlIiwiX19nZXRWYWx1ZVdpdGhTdGF0aWNPYmplY3QiLCJzdGF0aWNPYmplY3QiLCJpbmRleCIsIl9fZ2V0QW5pbWF0ZWRWYWx1ZSIsIl9fYXR0YWNoIiwiX19hZGRDaGlsZCIsIl9fZGV0YWNoIiwiX19yZW1vdmVDaGlsZCIsIl9fbWFrZU5hdGl2ZSIsInBsYXRmb3JtQ29uZmlnIiwiX19nZXROYXRpdmVDb25maWciLCJ0eXBlIiwibm9kZVRhZyIsIl9fZ2V0TmF0aXZlVGFnIiwiZGVidWdJRCIsIl9fZ2V0RGVidWdJRCIsImZyb20iLCJBbmltYXRlZFdpdGhDaGlsZHJlbiJdLCJzb3VyY2VzIjpbIkFuaW1hdGVkT2JqZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHR5cGUge1BsYXRmb3JtQ29uZmlnfSBmcm9tICcuLi9BbmltYXRlZFBsYXRmb3JtQ29uZmlnJztcbmltcG9ydCB0eXBlIHtBbmltYXRlZE5vZGVDb25maWd9IGZyb20gJy4vQW5pbWF0ZWROb2RlJztcblxuaW1wb3J0IEFuaW1hdGVkTm9kZSBmcm9tICcuL0FuaW1hdGVkTm9kZSc7XG5pbXBvcnQgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4gZnJvbSAnLi9BbmltYXRlZFdpdGhDaGlsZHJlbic7XG5pbXBvcnQge2lzVmFsaWRFbGVtZW50fSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IE1BWF9ERVBUSCA9IDU7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KFxuICB2YWx1ZTogbWl4ZWQsXG4gIC8qICRGbG93SXNzdWVbaW5jb21wYXRpYmxlLXR5cGUtZ3VhcmRdIC0gRmxvdyBkb2VzIG5vdCBrbm93IHRoYXQgdGhlIHByb3RvdHlwZVxuICAgICBhbmQgUmVhY3RFbGVtZW50IGNoZWNrcyBwcmVzZXJ2ZSB0aGUgdHlwZSByZWZpbmVtZW50IG9mIGB2YWx1ZWAuICovXG4pOiB2YWx1ZSBpcyAkUmVhZE9ubHk8e1tzdHJpbmddOiBtaXhlZH0+IHtcbiAgcmV0dXJuIChcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWd1YXJkXVxuICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkuaXNQcm90b3R5cGVPZihPYmplY3QpICYmXG4gICAgIWlzVmFsaWRFbGVtZW50KHZhbHVlKVxuICApO1xufVxuXG5mdW5jdGlvbiBmbGF0QW5pbWF0ZWROb2RlcyhcbiAgdmFsdWU6IG1peGVkLFxuICBub2RlczogQXJyYXk8QW5pbWF0ZWROb2RlPiA9IFtdLFxuICBkZXB0aDogbnVtYmVyID0gMCxcbik6IEFycmF5PEFuaW1hdGVkTm9kZT4ge1xuICBpZiAoZGVwdGggPj0gTUFYX0RFUFRIKSB7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSkge1xuICAgIG5vZGVzLnB1c2godmFsdWUpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdmFsdWVbaWldO1xuICAgICAgZmxhdEFuaW1hdGVkTm9kZXMoZWxlbWVudCwgbm9kZXMsIGRlcHRoICsgMSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpaV07XG4gICAgICBmbGF0QW5pbWF0ZWROb2Rlcyh2YWx1ZVtrZXldLCBub2RlcywgZGVwdGggKyAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGVzO1xufVxuXG4vLyBSZXR1cm5zIGEgY29weSBvZiB2YWx1ZSB3aXRoIGEgdHJhbnNmb3JtYXRpb24gZm4gYXBwbGllZCB0byBhbnkgQW5pbWF0ZWROb2Rlc1xuZnVuY3Rpb24gbWFwQW5pbWF0ZWROb2Rlcyh2YWx1ZTogYW55LCBmbjogYW55ID0+IGFueSwgZGVwdGg6IG51bWJlciA9IDApOiBhbnkge1xuICBpZiAoZGVwdGggPj0gTUFYX0RFUFRIKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgcmV0dXJuIGZuKHZhbHVlKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoZWxlbWVudCA9PiBtYXBBbmltYXRlZE5vZGVzKGVsZW1lbnQsIGZuLCBkZXB0aCArIDEpKTtcbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgIGNvbnN0IHJlc3VsdDoge1tzdHJpbmddOiBhbnl9ID0ge307XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpaV07XG4gICAgICByZXN1bHRba2V5XSA9IG1hcEFuaW1hdGVkTm9kZXModmFsdWVba2V5XSwgZm4sIGRlcHRoICsgMSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuaW1hdGVkT2JqZWN0IGV4dGVuZHMgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4ge1xuICAjbm9kZXM6ICRSZWFkT25seUFycmF5PEFuaW1hdGVkTm9kZT47XG4gIF92YWx1ZTogbWl4ZWQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYEFuaW1hdGVkT2JqZWN0YCBpZiBgdmFsdWVgIGNvbnRhaW5zIGBBbmltYXRlZE5vZGVgIGluc3RhbmNlcy5cbiAgICogT3RoZXJ3aXNlLCByZXR1cm5zIGBudWxsYC5cbiAgICovXG4gIHN0YXRpYyBmcm9tKHZhbHVlOiBtaXhlZCk6ID9BbmltYXRlZE9iamVjdCB7XG4gICAgY29uc3Qgbm9kZXMgPSBmbGF0QW5pbWF0ZWROb2Rlcyh2YWx1ZSk7XG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRPYmplY3Qobm9kZXMsIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG91bGQgb25seSBiZSBjYWxsZWQgYnkgYEFuaW1hdGVkT2JqZWN0LmZyb21gLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgbm9kZXM6ICRSZWFkT25seUFycmF5PEFuaW1hdGVkTm9kZT4sXG4gICAgdmFsdWU6IG1peGVkLFxuICAgIGNvbmZpZz86ID9BbmltYXRlZE5vZGVDb25maWcsXG4gICkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgdGhpcy4jbm9kZXMgPSBub2RlcztcbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgX19nZXRWYWx1ZSgpOiBhbnkge1xuICAgIHJldHVybiBtYXBBbmltYXRlZE5vZGVzKHRoaXMuX3ZhbHVlLCBub2RlID0+IHtcbiAgICAgIHJldHVybiBub2RlLl9fZ2V0VmFsdWUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWVXaXRoU3RhdGljT2JqZWN0KHN0YXRpY09iamVjdDogbWl4ZWQpOiBhbnkge1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy4jbm9kZXM7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICAvLyBOT1RFOiBXZSBjYW4gZGVwZW5kIG9uIGB0aGlzLl92YWx1ZWAgYW5kIGBzdGF0aWNPYmplY3RgIHNoYXJpbmcgYVxuICAgIC8vIHN0cnVjdHVyZSBiZWNhdXNlIG9mIGB1c2VBbmltYXRlZFByb3BzTWVtb2AuXG4gICAgcmV0dXJuIG1hcEFuaW1hdGVkTm9kZXMoc3RhdGljT2JqZWN0LCAoKSA9PiBub2Rlc1tpbmRleCsrXS5fX2dldFZhbHVlKCkpO1xuICB9XG5cbiAgX19nZXRBbmltYXRlZFZhbHVlKCk6IGFueSB7XG4gICAgcmV0dXJuIG1hcEFuaW1hdGVkTm9kZXModGhpcy5fdmFsdWUsIG5vZGUgPT4ge1xuICAgICAgcmV0dXJuIG5vZGUuX19nZXRBbmltYXRlZFZhbHVlKCk7XG4gICAgfSk7XG4gIH1cblxuICBfX2F0dGFjaCgpOiB2b2lkIHtcbiAgICBjb25zdCBub2RlcyA9IHRoaXMuI25vZGVzO1xuICAgIGZvciAobGV0IGlpID0gMCwgbGVuZ3RoID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2lpXTtcbiAgICAgIG5vZGUuX19hZGRDaGlsZCh0aGlzKTtcbiAgICB9XG4gICAgc3VwZXIuX19hdHRhY2goKTtcbiAgfVxuXG4gIF9fZGV0YWNoKCk6IHZvaWQge1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy4jbm9kZXM7XG4gICAgZm9yIChsZXQgaWkgPSAwLCBsZW5ndGggPSBub2Rlcy5sZW5ndGg7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbaWldO1xuICAgICAgbm9kZS5fX3JlbW92ZUNoaWxkKHRoaXMpO1xuICAgIH1cbiAgICBzdXBlci5fX2RldGFjaCgpO1xuICB9XG5cbiAgX19tYWtlTmF0aXZlKHBsYXRmb3JtQ29uZmlnOiA/UGxhdGZvcm1Db25maWcpOiB2b2lkIHtcbiAgICBjb25zdCBub2RlcyA9IHRoaXMuI25vZGVzO1xuICAgIGZvciAobGV0IGlpID0gMCwgbGVuZ3RoID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2lpXTtcbiAgICAgIG5vZGUuX19tYWtlTmF0aXZlKHBsYXRmb3JtQ29uZmlnKTtcbiAgICB9XG4gICAgc3VwZXIuX19tYWtlTmF0aXZlKHBsYXRmb3JtQ29uZmlnKTtcbiAgfVxuXG4gIF9fZ2V0TmF0aXZlQ29uZmlnKCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgdmFsdWU6IG1hcEFuaW1hdGVkTm9kZXModGhpcy5fdmFsdWUsIG5vZGUgPT4ge1xuICAgICAgICByZXR1cm4ge25vZGVUYWc6IG5vZGUuX19nZXROYXRpdmVUYWcoKX07XG4gICAgICB9KSxcbiAgICAgIGRlYnVnSUQ6IHRoaXMuX19nZXREZWJ1Z0lEKCksXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFVQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsT0FBQTtBQUFBRixPQUFBLENBQUFHLGFBQUEsR0FBQUEsYUFBQTtBQUFBLElBQUFDLGdCQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUSxhQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUywyQkFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVUsZ0JBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFXLEtBQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFZLFVBQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFhLDRCQUFBLEdBQUFkLHNCQUFBLENB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