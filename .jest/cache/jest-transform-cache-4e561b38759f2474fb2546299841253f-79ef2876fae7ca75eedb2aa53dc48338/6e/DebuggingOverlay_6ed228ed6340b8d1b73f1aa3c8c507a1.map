{"version":3,"names":["_DebuggingOverlayNativeComponent","_interopRequireWildcard","require","_View","_interopRequireDefault","_UIManager","_StyleSheet","React","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","useRef","useImperativeHandle","isNativeComponentReady","UIManager","hasViewManagerConfig","DebuggingOverlay","_ref","ref","highlightTraceUpdates","updates","nonEmptyRectangles","filter","_ref2","rectangle","color","width","height","nativeComponentRef","current","Commands","highlightElements","elements","clearElementsHighlight","clearElementsHighlights","jsx","pointerEvents","style","styles","overlay","children","StyleSheet","create","position","top","bottom","left","right","_default","exports"],"sources":["DebuggingOverlay.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\nimport type {\n  ElementRectangle,\n  TraceUpdate,\n} from '../../src/private/specs_DEPRECATED/components/DebuggingOverlayNativeComponent';\n\nimport DebuggingOverlayNativeComponent, {\n  Commands,\n} from '../../src/private/specs_DEPRECATED/components/DebuggingOverlayNativeComponent';\nimport View from '../Components/View/View';\nimport UIManager from '../ReactNative/UIManager';\nimport StyleSheet from '../StyleSheet/StyleSheet';\nimport * as React from 'react';\n\nconst {useRef, useImperativeHandle} = React;\nconst isNativeComponentReady =\n  UIManager.hasViewManagerConfig('DebuggingOverlay');\n\ntype DebuggingOverlayHandle = {\n  highlightTraceUpdates(updates: $ReadOnlyArray<TraceUpdate>): void,\n  highlightElements(elements: $ReadOnlyArray<ElementRectangle>): void,\n  clearElementsHighlight(): void,\n};\n\nfunction DebuggingOverlay({\n  ref,\n}: {\n  ref: React.RefSetter<DebuggingOverlayHandle>,\n}): React.Node {\n  useImperativeHandle(\n    ref,\n    () => ({\n      highlightTraceUpdates(updates) {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        const nonEmptyRectangles = updates.filter(\n          ({rectangle, color}) => rectangle.width >= 0 && rectangle.height >= 0,\n        );\n\n        if (nativeComponentRef.current != null) {\n          Commands.highlightTraceUpdates(\n            nativeComponentRef.current,\n            nonEmptyRectangles,\n          );\n        }\n      },\n      highlightElements(elements) {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        if (nativeComponentRef.current != null) {\n          Commands.highlightElements(nativeComponentRef.current, elements);\n        }\n      },\n      clearElementsHighlight() {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        if (nativeComponentRef.current != null) {\n          Commands.clearElementsHighlights(nativeComponentRef.current);\n        }\n      },\n    }),\n    [],\n  );\n\n  const nativeComponentRef = useRef<React.ElementRef<\n    typeof DebuggingOverlayNativeComponent,\n  > | null>(null);\n\n  return (\n    isNativeComponentReady && (\n      <View pointerEvents=\"none\" style={styles.overlay}>\n        <DebuggingOverlayNativeComponent\n          ref={nativeComponentRef}\n          style={styles.overlay}\n        />\n      </View>\n    )\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n});\n\nexport default DebuggingOverlay as component(\n  ref: React.RefSetter<DebuggingOverlayHandle>,\n);\n"],"mappings":"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","ignoreList":[]}