{"version":3,"names":["_getJestObj","mock","getItem","jest","fn","setItem","CameraComponent","_ref","onPhotoTaken","onClose","latitude","longitude","_interopRequireDefault","require","_asyncToGenerator2","_reactNative","_asyncStorage","_native","_react","_Home","_jsxRuntime","_require","describe","beforeEach","clearAllMocks","it","_render","render","jsx","NavigationContainer","children","default","getByPlaceholderText","getByTestId","expect","toBeTruthy","_render2","themeButton","fireEvent","press","_render3","cameraButton","waitFor","AsyncStorage","toHaveBeenCalledTimes","toHaveBeenCalledWith","stringContaining"],"sources":["HomeScreen.test.tsx"],"sourcesContent":["import { fireEvent, render, waitFor } from '@testing-library/react-native';\n\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { NavigationContainer } from '@react-navigation/native';\nimport React from 'react';\nimport HomeScreen from '../src/screen/Home';\n\n// Mock do AsyncStorage\njest.mock('@react-native-async-storage/async-storage', () => ({\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n}));\n\n// Mock do CameraComponent\njest.mock('../src/components/', () => ({\n  CameraComponent: ({ onPhotoTaken, onClose }: any) => {\n    // Dispara onPhotoTaken imediatamente para testar a função\n    onPhotoTaken('fake-uri', { latitude: 10, longitude: 20 });\n    onClose && onClose();\n    return null;\n  },\n}));\n\ndescribe('HomeScreen', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should render search input and camera button', () => {\n    const { getByPlaceholderText, getByTestId } = render(\n      <NavigationContainer>\n        <HomeScreen />\n      </NavigationContainer>,\n    );\n\n    expect(getByPlaceholderText('Buscar por data...')).toBeTruthy();\n    expect(getByTestId('camera-button')).toBeTruthy();\n  });\n\n  it('should toggle dark mode', () => {\n    const { getByTestId } = render(\n      <NavigationContainer>\n        <HomeScreen />\n      </NavigationContainer>,\n    );\n\n    const themeButton = getByTestId('theme-button');\n\n    fireEvent.press(themeButton);\n    fireEvent.press(themeButton);\n  });\n\n  it('should open camera and handle photo taken', async () => {\n    const { getByTestId } = render(\n      <NavigationContainer>\n        <HomeScreen />\n      </NavigationContainer>,\n    );\n\n    const cameraButton = getByTestId('camera-button');\n\n    fireEvent.press(cameraButton);\n\n    // Espera o AsyncStorage.setItem ser chamado\n    await waitFor(() => {\n      expect(AsyncStorage.setItem).toHaveBeenCalledTimes(1);\n      expect(AsyncStorage.setItem).toHaveBeenCalledWith(\n        '@photos',\n        expect.stringContaining('fake-uri'),\n      );\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}