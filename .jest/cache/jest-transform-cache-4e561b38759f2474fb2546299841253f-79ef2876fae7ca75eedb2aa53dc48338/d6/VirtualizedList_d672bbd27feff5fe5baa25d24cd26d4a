bbbfe3327bc67636f54bf5666bb2a818
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _ListMetricsAggregator = _interopRequireDefault(require("./ListMetricsAggregator"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizedListProps = require("./VirtualizedListProps");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var _react = _interopRequireWildcard(require("react"));
var React = _react;
var _reactNative = require("react-native");
var ReactNativeFeatureFlags = _interopRequireWildcard(require("react-native/src/private/featureflags/ReactNativeFeatureFlags"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["onContentSizeChange"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
var VirtualizedList = function (_StateSafePureCompone) {
  function VirtualizedList(_props) {
    var _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _callSuper(this, VirtualizedList, [_props]);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _this;
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._cellRefs = {};
    _this._listMetrics = new _ListMetricsAggregator.default();
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._pendingViewabilityUpdate = false;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._updateCellsToRenderTimeoutID = null;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        var onContentSizeChange = props.onContentSizeChange,
          otherProps = (0, _objectWithoutProperties2.default)(props, _excluded);
        return (0, _jsxRuntime.jsx)(_reactNative.View, Object.assign({}, otherProps));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, cellIndex) {
      var layoutHasChanged = _this._listMetrics.notifyCellLayout({
        cellIndex: cellIndex,
        cellKey: cellKey,
        layout: e.nativeEvent.layout,
        orientation: _this._orientation()
      });
      if (layoutHasChanged) {
        _this._scheduleCellsToRenderUpdate();
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellFocusCapture = function (cellKey) {
      _this._lastFocusedCellKey = cellKey;
      if (ReactNativeFeatureFlags.deferFlatListFocusChangeRenderUpdate()) {
        _this._scheduleCellsToRenderUpdate();
      } else {
        _this._updateCellsToRender();
      }
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      _this._listMetrics.notifyCellUnmounted(cellKey);
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      _this._listMetrics.notifyListContentLayout({
        layout: {
          width: width,
          height: height
        },
        orientation: _this._orientation()
      });
      _this._maybeScrollToInitialScrollIndex(width, height);
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._listMetrics.getContentLength();
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._offsetFromScrollEvent(e);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._listMetrics.getContentLength() === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this._listMetrics.getCellMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this._listMetrics.getCellMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._listMetrics);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  return (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      this.scrollToOffset({
        animated: animated,
        offset: offset
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._listMetrics.getHighestMeasuredCellIndex()) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._listMetrics.getAverageCellLength(),
          highestMeasuredFrameIndex: this._listMetrics.getHighestMeasuredCellIndex(),
          index: index
        });
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._listMetrics.getCellOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      this.scrollToOffset({
        offset: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var index = 0; index < itemCount; index++) {
        if (getItem(data, index) === item) {
          this.scrollToIndex(Object.assign({}, params, {
            index: index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      var scrollRef = this._scrollRef;
      if (scrollRef == null) {
        return;
      }
      if (scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      var _this$_orientation = this._orientation(),
        horizontal = _this$_orientation.horizontal,
        rtl = _this$_orientation.rtl;
      if (horizontal && rtl && !this._listMetrics.hasContentLength()) {
        console.warn('scrollToOffset may not be called in RTL before content is laid out');
        return;
      }
      scrollRef.scrollTo(Object.assign({
        animated: animated
      }, this._scrollToParamsFromOffset(offset)));
    }
  }, {
    key: "_scrollToParamsFromOffset",
    value: function _scrollToParamsFromOffset(offset) {
      var _this$_orientation2 = this._orientation(),
        horizontal = _this$_orientation2.horizontal,
        rtl = _this$_orientation2.rtl;
      if (horizontal && rtl) {
        var cartOffset = this._listMetrics.cartesianOffset(offset + this._scrollMetrics.visibleLength);
        return horizontal ? {
          x: cartOffset
        } : {
          y: cartOffset
        };
      } else {
        return horizontal ? {
          x: offset
        } : {
          y: offset
        };
      }
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)((0, _VirtualizedListProps.windowSizeOrDefault)(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (__DEV__ && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var contentLength = this._listMetrics.getContentLength();
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch), (0, _VirtualizedListProps.windowSizeOrDefault)(props.windowSize), cellsAroundViewport, this._listMetrics, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      clearTimeout(this._updateCellsToRenderTimeoutID);
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, Object.assign({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: _this2._onCellFocusCapture,
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal));
    }
  }, {
    key: "_renderEmptyComponent",
    value: function _renderEmptyComponent(element, inversionStyle) {
      var _this3 = this;
      var isFragment = element.type === React.Fragment;
      if (isFragment) {
        return element;
      }
      return (0, _react.cloneElement)(element, {
        onLayout: function onLayout(event) {
          _this3._onLayoutEmpty(event);
          if (element.props.onLayout) {
            element.props.onLayout(event);
          }
        },
        style: _reactNative.StyleSheet.compose(inversionStyle, element.props.style)
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$scrollEve,
        _this4 = this;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var element = (0, _react.isValidElement)(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element = (0, _react.isValidElement)(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: this._renderEmptyComponent(_element, inversionStyle)
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastRegion = renderRegions[renderRegions.length - 1];
        var lastSpacer = lastRegion != null && lastRegion.isSpacer ? lastRegion : null;
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._listMetrics.getHighestMeasuredCellIndex()) : section.last;
            var firstMetrics = this._listMetrics.getCellMetricsApprox(section.first, this.props);
            var lastMetrics = this._listMetrics.getCellMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element2 = (0, _react.isValidElement)(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element2
          })
        }, "$footer"));
      }
      var scrollProps = Object.assign({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: (_this$props$scrollEve = this.props.scrollEventThrottle) != null ? _this$props$scrollEve : 0.0001,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? Object.assign({}, this.props.maintainVisibleContentPosition, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: (0, _react.cloneElement)((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !(0, _VirtualizedListProps.horizontalOrDefault)(_this4.props.horizontal) && !_this4._hasWarned.nesting && _this4.context == null && _this4.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this4._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData,
        getItemLayout = _this$props7.getItemLayout;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
      if (getItemLayout != null) {
        this._maybeCallOnEdgeReached();
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this5 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this5._offsetFromParentVirtualizedList = _this5._selectOffset({
            x: x,
            y: y
          });
          _this5._listMetrics.notifyListContentLayout({
            layout: {
              width: width,
              height: height
            },
            orientation: _this5._orientation()
          });
          var scrollMetrics = _this5._convertParentScrollMetrics(_this5.context.getScrollMetrics());
          var metricsChanged = _this5._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this5._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this5._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this5._scrollMetrics.offset = scrollMetrics.offset;
            _this5._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._listMetrics.getContentLength() || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._listMetrics.getCellMetricsApprox(ii, this.props);
        if (frame.isMounted) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !(0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(_ref3) {
      var x = _ref3.x,
        y = _ref3.y;
      return this._orientation().horizontal ? x : y;
    }
  }, {
    key: "_orientation",
    value: function _orientation() {
      return {
        horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
        rtl: _reactNative.I18nManager.isRTL
      };
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (!this._listMetrics.hasContentLength() || this._scrollMetrics.visibleLength === 0) {
        return;
      }
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = this._listMetrics.getContentLength() - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._listMetrics.getContentLength() !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._listMetrics.getContentLength();
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
      if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._listMetrics.getContentLength() !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._listMetrics.getContentLength();
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      }
      if (!isWithinStartThreshold) {
        this._sentStartForContentLength = 0;
      }
      if (!isWithinEndThreshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_maybeScrollToInitialScrollIndex",
    value: function _maybeScrollToInitialScrollIndex(contentWidth, contentHeight) {
      if (contentWidth > 0 && contentHeight > 0 && this.props.initialScrollIndex != null && this.props.initialScrollIndex > 0 && !this._hasTriggeredInitialScrollToIndex) {
        if (this.props.contentOffset == null) {
          if (this.props.initialScrollIndex < this.props.getItemCount(this.props.data)) {
            this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(this.props.initialScrollIndex)
            });
          } else {
            this.scrollToEnd({
              animated: false
            });
          }
        }
        this._hasTriggeredInitialScrollToIndex = true;
      }
    }
  }, {
    key: "unstable_onScroll",
    value: function unstable_onScroll(e) {
      this._onScroll(e);
    }
  }, {
    key: "_offsetFromScrollEvent",
    value: function _offsetFromScrollEvent(e) {
      var _e$nativeEvent = e.nativeEvent,
        contentOffset = _e$nativeEvent.contentOffset,
        contentSize = _e$nativeEvent.contentSize,
        layoutMeasurement = _e$nativeEvent.layoutMeasurement;
      var _this$_orientation3 = this._orientation(),
        horizontal = _this$_orientation3.horizontal,
        rtl = _this$_orientation3.rtl;
      if (horizontal && rtl) {
        return this._selectLength(contentSize) - (this._selectOffset(contentOffset) + this._selectLength(layoutMeasurement));
      } else {
        return this._selectOffset(contentOffset);
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this6 = this;
      if ((this._listMetrics.getAverageCellLength() > 0 || this.props.getItemLayout != null) && this._shouldRenderWithPriority() && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        if (this._updateCellsToRenderTimeoutID != null) {
          clearTimeout(this._updateCellsToRenderTimeoutID);
          this._updateCellsToRenderTimeoutID = null;
        }
        this._updateCellsToRender();
        return;
      } else {
        if (this._updateCellsToRenderTimeoutID == null) {
          var _this$props$updateCel;
          this._updateCellsToRenderTimeoutID = setTimeout(function () {
            _this6._updateCellsToRenderTimeoutID = null;
            _this6._updateCellsToRender();
          }, (_this$props$updateCel = this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
        }
      }
    }
  }, {
    key: "_shouldRenderWithPriority",
    value: function _shouldRenderWithPriority() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = (0, _VirtualizedListProps.onStartReachedThresholdOrDefault)(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this._listMetrics.getCellMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this._listMetrics.getCellMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      return hiPri;
    }
  }, {
    key: "unstable_onScrollBeginDrag",
    value: function unstable_onScrollBeginDrag(e) {
      this._onScrollBeginDrag(e);
    }
  }, {
    key: "unstable_onScrollEndDrag",
    value: function unstable_onScrollEndDrag(e) {
      this._onScrollEndDrag(e);
    }
  }, {
    key: "unstable_onMomentumScrollBegin",
    value: function unstable_onMomentumScrollBegin(e) {
      this._onMomentumScrollBegin(e);
    }
  }, {
    key: "unstable_onMomentumScrollEnd",
    value: function unstable_onMomentumScrollEnd(e) {
      this._onMomentumScrollEnd(e);
    }
  }, {
    key: "__getListMetrics",
    value: function __getListMetrics() {
      return this._listMetrics;
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this7 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this7._scrollMetrics.offset, _this7._scrollMetrics.visibleLength, _this7._listMetrics, _this7._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + (0, _VirtualizedListProps.initialNumToRenderOrDefault)(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var lastPossibleCellIndex = itemCount - 1;
      var maxToRenderPerBatch = (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch);
      var maxFirst = Math.max(0, lastPossibleCellIndex - maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, cells.first, maxFirst),
        last: Math.min(lastPossibleCellIndex, cells.last)
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
var _default = exports.default = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2xhbXAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX1N0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJfVmlld2FiaWxpdHlIZWxwZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyIiwiX1ZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJfVmlydHVhbGl6ZWRMaXN0UHJvcHMiLCJfVmlydHVhbGl6ZVV0aWxzIiwiX2ludmFyaWFudCIsIl9udWxsdGhyb3dzIiwiX3JlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJSZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIlJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzIiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9jYWxsU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJPTl9FREdFX1JFQUNIRURfRVBTSUxPTiIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiZ2V0U2Nyb2xsaW5nVGhyZXNob2xkIiwidGhyZXNob2xkIiwidmlzaWJsZUxlbmd0aCIsIlZpcnR1YWxpemVkTGlzdCIsIl9TdGF0ZVNhZmVQdXJlQ29tcG9uZSIsInByb3BzIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WMiIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9nZXRTY3JvbGxNZXRyaWNzIiwiX3Njcm9sbE1ldHJpY3MiLCJfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24iLCJjb250ZXh0IiwiZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJfbmVzdGVkQ2hpbGRMaXN0cyIsImFkZCIsInJlZiIsImNlbGxLZXkiLCJfaGFzSW50ZXJhY3RlZCIsInJlY29yZEludGVyYWN0aW9uIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwicmVtb3ZlIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsImtleXMiLCJuZXdQcm9wcyIsImZvckVhY2giLCJrZXkiLCJfY2VsbFJlZnMiLCJ1cGRhdGVTZXBhcmF0b3JQcm9wcyIsIl9nZXRTcGFjZXJLZXkiLCJpc1ZlcnRpY2FsIiwiX2xpc3RNZXRyaWNzIiwiTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX2Zvb3Rlckxlbmd0aCIsIl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCIsIl9oYXNNb3JlIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2luZGljZXNUb0tleXMiLCJNYXAiLCJfbGFzdEZvY3VzZWRDZWxsS2V5IiwiQ2hpbGRMaXN0Q29sbGVjdGlvbiIsIl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0IiwiX3BlbmRpbmdWaWV3YWJpbGl0eVVwZGF0ZSIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiZE9mZnNldCIsImR0Iiwib2Zmc2V0IiwidGltZXN0YW1wIiwidmVsb2NpdHkiLCJ6b29tU2NhbGUiLCJfc2Nyb2xsUmVmIiwiX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGgiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCIsIl92aWV3YWJpbGl0eVR1cGxlcyIsIl9jYXB0dXJlU2Nyb2xsUmVmIiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJvblJlZnJlc2giLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwib3RoZXJQcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJqc3giLCJWaWV3IiwiYXNzaWduIiwiX3Byb3BzJHJlZnJlc2hpbmciLCJpbnZhcmlhbnQiLCJyZWZyZXNoaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsIlNjcm9sbFZpZXciLCJyZWZyZXNoQ29udHJvbCIsIlJlZnJlc2hDb250cm9sIiwicHJvZ3Jlc3NWaWV3T2Zmc2V0IiwiX29uQ2VsbExheW91dCIsImNlbGxJbmRleCIsImxheW91dEhhc0NoYW5nZWQiLCJub3RpZnlDZWxsTGF5b3V0IiwibGF5b3V0IiwibmF0aXZlRXZlbnQiLCJvcmllbnRhdGlvbiIsIl9vcmllbnRhdGlvbiIsIl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUiLCJfdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwiLCJfY29tcHV0ZUJsYW5rbmVzcyIsIl91cGRhdGVWaWV3YWJsZUl0ZW1zIiwic3RhdGUiLCJjZWxsc0Fyb3VuZFZpZXdwb3J0IiwiX29uQ2VsbEZvY3VzQ2FwdHVyZSIsImRlZmVyRmxhdExpc3RGb2N1c0NoYW5nZVJlbmRlclVwZGF0ZSIsIl91cGRhdGVDZWxsc1RvUmVuZGVyIiwiX29uQ2VsbFVubW91bnQiLCJub3RpZnlDZWxsVW5tb3VudGVkIiwiX29uTGF5b3V0IiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIl9zZWxlY3RMZW5ndGgiLCJvbkxheW91dCIsIl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkIiwiX29uTGF5b3V0RW1wdHkiLCJfb25MYXlvdXRGb290ZXIiLCJfZ2V0Rm9vdGVyQ2VsbEtleSIsIl9vbkxheW91dEhlYWRlciIsIl9vbkNvbnRlbnRTaXplQ2hhbmdlIiwid2lkdGgiLCJoZWlnaHQiLCJub3RpZnlMaXN0Q29udGVudExheW91dCIsIl9tYXliZVNjcm9sbFRvSW5pdGlhbFNjcm9sbEluZGV4IiwiX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzIiwibWV0cmljcyIsImNvbnRlbnRMZW5ndGgiLCJnZXRDb250ZW50TGVuZ3RoIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwiX29mZnNldEZyb21TY3JvbGxFdmVudCIsIl90aGlzJF9jb252ZXJ0UGFyZW50UyIsIk1hdGgiLCJtYXgiLCJwZXJmIiwiaW5mb0xvZyIsInByZXZEdCIsInBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCIsInNldFN0YXRlIiwiX2ZpbGxSYXRlSGVscGVyIiwiYWN0aXZhdGUiLCJfb25TY3JvbGxCZWdpbkRyYWciLCJ0dXBsZSIsInZpZXdhYmlsaXR5SGVscGVyIiwib25TY3JvbGxCZWdpbkRyYWciLCJfb25TY3JvbGxFbmREcmFnIiwiX3NlbGVjdE9mZnNldCIsIm9uU2Nyb2xsRW5kRHJhZyIsIl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJfb25Nb21lbnR1bVNjcm9sbEVuZCIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJfYWRqdXN0Q2VsbHNBcm91bmRWaWV3cG9ydCIsInJlbmRlck1hc2siLCJfY3JlYXRlUmVuZGVyTWFzayIsIl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMiLCJmaXJzdCIsImxhc3QiLCJlcXVhbHMiLCJfY3JlYXRlVmlld1Rva2VuIiwiaW5kZXgiLCJpc1ZpZXdhYmxlIiwiZGF0YSIsImdldEl0ZW0iLCJpdGVtIiwiX2tleUV4dHJhY3RvciIsImxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyIiwiZm9jdXNlZENlbGxJbmRleCIsIml0ZW1Db3VudCIsImdldEl0ZW1Db3VudCIsIl9nZXRJdGVtS2V5IiwiaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQiLCJnZXRDZWxsTWV0cmljc0FwcHJveCIsImxlbmd0aCIsImhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQiLCJfY2hlY2tQcm9wcyIsIkZpbGxSYXRlSGVscGVyIiwidmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzIiwibWFwIiwicGFpciIsIlZpZXdhYmlsaXR5SGVscGVyIiwidmlld2FiaWxpdHlDb25maWciLCJvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIiwiX3RoaXMkcHJvcHMiLCJwdXNoIiwiaW5pdGlhbFJlbmRlclJlZ2lvbiIsIl9pbml0aWFsUmVuZGVyUmVnaW9uIiwibWluSW5kZXhGb3JWaXNpYmxlIiwibWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uIiwiZmlyc3RWaXNpYmxlSXRlbUtleSIsImluaXRpYWxTY3JvbGxJbmRleCIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwidmFsdWUiLCJzY3JvbGxUb0VuZCIsInBhcmFtcyIsImFuaW1hdGVkIiwidmVyeUxhc3QiLCJmcmFtZSIsInNjcm9sbFRvT2Zmc2V0Iiwic2Nyb2xsVG9JbmRleCIsIl90aGlzJHByb3BzMiIsImdldEl0ZW1MYXlvdXQiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiZ2V0SGlnaGVzdE1lYXN1cmVkQ2VsbEluZGV4IiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJnZXRBdmVyYWdlQ2VsbExlbmd0aCIsImhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgiLCJmbG9vciIsImdldENlbGxPZmZzZXRBcHByb3giLCJzY3JvbGxUb0l0ZW0iLCJfdGhpcyRwcm9wczMiLCJzY3JvbGxSZWYiLCJzY3JvbGxUbyIsImNvbnNvbGUiLCJ3YXJuIiwiX3RoaXMkX29yaWVudGF0aW9uIiwiaG9yaXpvbnRhbCIsInJ0bCIsImhhc0NvbnRlbnRMZW5ndGgiLCJfc2Nyb2xsVG9QYXJhbXNGcm9tT2Zmc2V0IiwiX3RoaXMkX29yaWVudGF0aW9uMiIsImNhcnRPZmZzZXQiLCJjYXJ0ZXNpYW5PZmZzZXQiLCJ4IiwieSIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJnZXRTY3JvbGxSZWYiLCJzZXROYXRpdmVQcm9wcyIsIl9nZXRDZWxsS2V5IiwiX3RoaXMkY29udGV4dCIsImhhc01vcmUiLCJ3aW5kb3dTaXplIiwiX19pc05hdGl2ZSIsIndpbmRvd1NpemVPckRlZmF1bHQiLCJfX0RFVl9fIiwiZmxleFdyYXAiLCJmbGF0U3R5bGVzIiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljcyIsImRpc3RhbmNlRnJvbUVuZCIsIl9jb25zdHJhaW5Ub0l0ZW1Db3VudCIsIm5ld0NlbGxzQXJvdW5kVmlld3BvcnQiLCJkaXNhYmxlVmlydHVhbGl6YXRpb24iLCJyZW5kZXJBaGVhZCIsIm1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwibWluIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwic2l6ZSIsImNoaWxkSWR4IiwiX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsImFueUluQ2VsbCIsImNvbXBvbmVudERpZE1vdW50IiwicmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImNsZWFyVGltZW91dCIsImRpc3Bvc2UiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJfcHVzaENlbGxzIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHM0IiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJMaXN0SXRlbUNvbXBvbmVudCIsImRlYnVnIiwicmVuZGVySXRlbSIsInN0aWNreU9mZnNldCIsImVuZCIsInByZXZDZWxsS2V5IiwiX2xvb3AiLCJzaG91bGRMaXN0ZW5Gb3JMYXlvdXQiLCJlbmFibGVkIiwidW5kZWZpbmVkIiwib25VcGRhdGVTZXBhcmF0b3JzIiwib25DZWxsRm9jdXNDYXB0dXJlIiwib25Vbm1vdW50Iiwib25DZWxsTGF5b3V0IiwibmVzdGVkQ29udGV4dCIsImhvcml6b250YWxPckRlZmF1bHQiLCJfcmVuZGVyRW1wdHlDb21wb25lbnQiLCJlbGVtZW50IiwiX3RoaXMzIiwiaXNGcmFnbWVudCIsInR5cGUiLCJGcmFnbWVudCIsImNsb25lRWxlbWVudCIsImV2ZW50Iiwic3R5bGUiLCJjb21wb3NlIiwicmVuZGVyIiwiX3RoaXMkcHJvcHMkc2Nyb2xsRXZlIiwiX3RoaXM0IiwiX3RoaXMkcHJvcHM1IiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsIl90aGlzJHByb3BzNiIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJTZXQiLCJpc1ZhbGlkRWxlbWVudCIsIlZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsImNvbGxhcHNhYmxlIiwiTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlIiwic3BhY2VyS2V5IiwicmVuZGVyUmVnaW9ucyIsImVudW1lcmF0ZVJlZ2lvbnMiLCJsYXN0UmVnaW9uIiwibGFzdFNwYWNlciIsImlzU3BhY2VyIiwic2VjdGlvbiIsImlzTGFzdFNwYWNlciIsImNvbnN0cmFpblRvTWVhc3VyZWQiLCJjbGFtcCIsImZpcnN0TWV0cmljcyIsImxhc3RNZXRyaWNzIiwic3BhY2VyU2l6ZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJMaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUiLCJzY3JvbGxQcm9wcyIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwiaXNJbnZlcnRlZFZpcnR1YWxpemVkTGlzdCIsImlubmVyUmV0IiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyIiwiZ2V0U2Nyb2xsTWV0cmljcyIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsInJldCIsIkNvbnRleHQiLCJDb25zdW1lciIsInNjcm9sbENvbnRleHQiLCJuZXN0aW5nIiwic2Nyb2xsRW5hYmxlZCIsImVycm9yIiwianN4cyIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJfdGhpcyRwcm9wczciLCJleHRyYURhdGEiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsImhpUHJpSW5Qcm9ncmVzcyIsImNvbXB1dGVCbGFua25lc3MiLCJmb3JFYWNoSW5DZWxsIiwiX3RoaXM1IiwibWVhc3VyZUxheW91dCIsInNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzQ2hhbmdlZCIsInN0YWNrIiwibm9ybWFsaXplIiwiZnJhbWVzSW5MYXlvdXQiLCJpc01vdW50ZWQiLCJ3aW5kb3dUb3AiLCJmcmFtZUxhc3QiLCJ3aW5kb3dMZW4iLCJ2aXNUb3AiLCJ2aXNMZW4iLCJkZWJ1Z092ZXJsYXlCYXNlIiwiZGVidWdPdmVybGF5IiwiZGVidWdPdmVybGF5RnJhbWUiLCJ0b3AiLCJkZWJ1Z092ZXJsYXlGcmFtZUxhc3QiLCJkZWJ1Z092ZXJsYXlGcmFtZVZpcyIsIl9yZWYzIiwiSTE4bk1hbmFnZXIiLCJpc1JUTCIsIl90aGlzJHByb3BzOCIsIm9uU3RhcnRSZWFjaGVkIiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGQiLCJvbkVuZFJlYWNoZWQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczIiLCJkaXN0YW5jZUZyb21TdGFydCIsIkRFRkFVTFRfVEhSRVNIT0xEX1BYIiwic3RhcnRUaHJlc2hvbGQiLCJlbmRUaHJlc2hvbGQiLCJpc1dpdGhpblN0YXJ0VGhyZXNob2xkIiwiaXNXaXRoaW5FbmRUaHJlc2hvbGQiLCJjb250ZW50V2lkdGgiLCJjb250ZW50SGVpZ2h0IiwiY29udGVudE9mZnNldCIsIm51bGx0aHJvd3MiLCJ1bnN0YWJsZV9vblNjcm9sbCIsIl9lJG5hdGl2ZUV2ZW50IiwiX3RoaXMkX29yaWVudGF0aW9uMyIsIl90aGlzNiIsIl9zaG91bGRSZW5kZXJXaXRoUHJpb3JpdHkiLCJfdGhpcyRwcm9wcyR1cGRhdGVDZWwiLCJzZXRUaW1lb3V0IiwidXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCIsIl90aGlzJHN0YXRlJGNlbGxzQXJvdSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMyIsImhpUHJpIiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInVuc3RhYmxlX29uU2Nyb2xsQmVnaW5EcmFnIiwidW5zdGFibGVfb25TY3JvbGxFbmREcmFnIiwidW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwidW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEVuZCIsIl9fZ2V0TGlzdE1ldHJpY3MiLCJfdGhpczciLCJvblVwZGF0ZSIsIl9maW5kSXRlbUluZGV4V2l0aEtleSIsImhpbnQiLCJjdXJLZXkiLCJhZGRpdGlvbmFsUmVnaW9ucyIsIkNlbGxSZW5kZXJNYXNrIiwiYWxsUmVnaW9ucyIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJyZWdpb24iLCJhZGRDZWxscyIsImluaXRpYWxSZWdpb24iLCJzdGlja3lJbmRpY2VzU2V0IiwiX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIiLCJfcHJvcHMkaW5pdGlhbFNjcm9sbEkiLCJmaXJzdENlbGxJbmRleCIsImxhc3RDZWxsSW5kZXgiLCJpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJjZWxsSWR4IiwiaXRlbUlkeCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByZXZTdGF0ZSIsIl9uZXdQcm9wcyRtYWludGFpblZpcyIsIl9uZXdQcm9wcyRtYWludGFpblZpczIiLCJudW1DZWxscyIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQiLCJwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSIsIm5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJmaXJzdFZpc2libGVJdGVtSW5kZXgiLCJjb25zdHJhaW5lZENlbGxzIiwibGFzdFBvc3NpYmxlQ2VsbEluZGV4IiwibWF4Rmlyc3QiLCJrZXlFeHRyYWN0b3IiLCJkZWZhdWx0S2V5RXh0cmFjdG9yIiwiU3RyaW5nIiwiZGlzcGxheU5hbWUiLCJTdGF0ZVNhZmVQdXJlQ29tcG9uZW50IiwiY29udGV4dFR5cGUiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0IiwiY3JlYXRlIiwiUGxhdGZvcm0iLCJPUyIsInRyYW5zZm9ybSIsInNjYWxlIiwic2NhbGVZIiwic2NhbGVYIiwiZmxleCIsInBvc2l0aW9uIiwicmlnaHQiLCJib3R0b20iLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwibGVmdCIsImJhY2tncm91bmRDb2xvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7Q2VsbE1ldHJpY1Byb3BzLCBMaXN0T3JpZW50YXRpb259IGZyb20gJy4vTGlzdE1ldHJpY3NBZ2dyZWdhdG9yJztcbmltcG9ydCB0eXBlIHtWaWV3VG9rZW59IGZyb20gJy4vVmlld2FiaWxpdHlIZWxwZXInO1xuaW1wb3J0IHR5cGUge1xuICBJdGVtLFxuICBMaXN0UmVuZGVySXRlbSxcbiAgTGlzdFJlbmRlckl0ZW1JbmZvLFxuICBTZXBhcmF0b3JzLFxuICBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RQcm9wcyc7XG5pbXBvcnQgdHlwZSB7XG4gIExheW91dENoYW5nZUV2ZW50LFxuICBTY3JvbGxFdmVudCxcbiAgU2Nyb2xsUmVzcG9uZGVyVHlwZSxcbiAgU3R5bGVQcm9wLFxuICBWaWV3U3R5bGUsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5cbmltcG9ydCBjbGFtcCBmcm9tICcuLi9VdGlsaXRpZXMvY2xhbXAnO1xuaW1wb3J0IGluZm9Mb2cgZnJvbSAnLi4vVXRpbGl0aWVzL2luZm9Mb2cnO1xuaW1wb3J0IHtDZWxsUmVuZGVyTWFza30gZnJvbSAnLi9DZWxsUmVuZGVyTWFzayc7XG5pbXBvcnQgQ2hpbGRMaXN0Q29sbGVjdGlvbiBmcm9tICcuL0NoaWxkTGlzdENvbGxlY3Rpb24nO1xuaW1wb3J0IEZpbGxSYXRlSGVscGVyIGZyb20gJy4vRmlsbFJhdGVIZWxwZXInO1xuaW1wb3J0IExpc3RNZXRyaWNzQWdncmVnYXRvciBmcm9tICcuL0xpc3RNZXRyaWNzQWdncmVnYXRvcic7XG5pbXBvcnQgU3RhdGVTYWZlUHVyZUNvbXBvbmVudCBmcm9tICcuL1N0YXRlU2FmZVB1cmVDb21wb25lbnQnO1xuaW1wb3J0IFZpZXdhYmlsaXR5SGVscGVyIGZyb20gJy4vVmlld2FiaWxpdHlIZWxwZXInO1xuaW1wb3J0IENlbGxSZW5kZXJlciBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdENlbGxSZW5kZXJlcic7XG5pbXBvcnQge1xuICBWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyLFxuICBWaXJ0dWFsaXplZExpc3RDb250ZXh0LFxuICBWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIsXG59IGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5qcyc7XG5pbXBvcnQge1xuICBob3Jpem9udGFsT3JEZWZhdWx0LFxuICBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQsXG4gIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQsXG4gIG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCxcbiAgb25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQsXG4gIHdpbmRvd1NpemVPckRlZmF1bHQsXG59IGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0UHJvcHMnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzLFxuICBrZXlFeHRyYWN0b3IgYXMgZGVmYXVsdEtleUV4dHJhY3Rvcixcbn0gZnJvbSAnLi9WaXJ0dWFsaXplVXRpbHMnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2Nsb25lRWxlbWVudCwgaXNWYWxpZEVsZW1lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIEkxOG5NYW5hZ2VyLFxuICBQbGF0Zm9ybSxcbiAgUmVmcmVzaENvbnRyb2wsXG4gIFNjcm9sbFZpZXcsXG4gIFN0eWxlU2hlZXQsXG4gIFZpZXcsXG4gIGZpbmROb2RlSGFuZGxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0ICogYXMgUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MgZnJvbSAncmVhY3QtbmF0aXZlL3NyYy9wcml2YXRlL2ZlYXR1cmVmbGFncy9SZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyc7XG5cbmV4cG9ydCB0eXBlIHtMaXN0UmVuZGVySXRlbUluZm8sIExpc3RSZW5kZXJJdGVtLCBTZXBhcmF0b3JzfTtcblxuY29uc3QgT05fRURHRV9SRUFDSEVEX0VQU0lMT04gPSAwLjAwMTtcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC4uLlxufTtcblxudHlwZSBTdGF0ZSA9IHtcbiAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAvLyBVc2VkIHRvIHRyYWNrIGl0ZW1zIGFkZGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgbGlzdCBmb3IgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLlxuICBmaXJzdFZpc2libGVJdGVtS2V5OiA/c3RyaW5nLFxuICAvLyBXaGVuID4gMCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGF2YWlsYWJsZSBpbiBKUyBpcyBjb25zaWRlcmVkIHN0YWxlIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxufTtcblxuZnVuY3Rpb24gZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKHRocmVzaG9sZDogbnVtYmVyLCB2aXNpYmxlTGVuZ3RoOiBudW1iZXIpIHtcbiAgcmV0dXJuICh0aHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoKSAvIDI7XG59XG5cbi8qKlxuICogQmFzZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIG1vcmUgY29udmVuaWVudCBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3Mvc2VjdGlvbmxpc3QpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIG9yIGBpZGAgcHJvcCBvbiBlYWNoIGl0ZW0gYW5kIHVzZXMgdGhhdCBmb3IgdGhlIFJlYWN0IGtleS5cbiAqICAgQWx0ZXJuYXRpdmVseSwgeW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBrZXlFeHRyYWN0b3JgIHByb3AuXG4gKiAtIEFzIGFuIGVmZm9ydCB0byByZW1vdmUgZGVmYXVsdFByb3BzLCB1c2UgaGVscGVyIGZ1bmN0aW9ucyB3aGVuIHJlZmVyZW5jaW5nIGNlcnRhaW4gcHJvcHNcbiAqXG4gKi9cbmNsYXNzIFZpcnR1YWxpemVkTGlzdCBleHRlbmRzIFN0YXRlU2FmZVB1cmVDb21wb25lbnQ8XG4gIFZpcnR1YWxpemVkTGlzdFByb3BzLFxuICBTdGF0ZSxcbj4ge1xuICBzdGF0aWMgY29udGV4dFR5cGU6IHR5cGVvZiBWaXJ0dWFsaXplZExpc3RDb250ZXh0ID0gVmlydHVhbGl6ZWRMaXN0Q29udGV4dDtcblxuICAvLyBzY3JvbGxUb0VuZCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9FbmQocGFyYW1zPzogP3thbmltYXRlZD86ID9ib29sZWFuLCAuLi59KSB7XG4gICAgY29uc3QgYW5pbWF0ZWQgPSBwYXJhbXMgPyBwYXJhbXMuYW5pbWF0ZWQgOiB0cnVlO1xuICAgIGNvbnN0IHZlcnlMYXN0ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG4gICAgaWYgKHZlcnlMYXN0IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KHZlcnlMYXN0LCB0aGlzLnByb3BzKTtcbiAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBmcmFtZS5vZmZzZXQgK1xuICAgICAgICBmcmFtZS5sZW5ndGggK1xuICAgICAgICB0aGlzLl9mb290ZXJMZW5ndGggLVxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgKTtcblxuICAgIC8vIFRPRE86IGNvbnNpZGVyIHVzaW5nIGByZWYuc2Nyb2xsVG9FbmRgIGRpcmVjdGx5XG4gICAgdGhpcy5zY3JvbGxUb09mZnNldCh7YW5pbWF0ZWQsIG9mZnNldH0pO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JbmRleCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9JbmRleChwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pOiAkRmxvd0ZpeE1lIHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50LCBnZXRJdGVtTGF5b3V0LCBvblNjcm9sbFRvSW5kZXhGYWlsZWR9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBpbmRleCwgdmlld09mZnNldCwgdmlld1Bvc2l0aW9ufSA9IHBhcmFtcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA+PSAwLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggJHtpbmRleH0gYnV0IG1pbmltdW0gaXMgMGAsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQoZGF0YSkgPj0gMSxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogaXRlbSBsZW5ndGggJHtnZXRJdGVtQ291bnQoXG4gICAgICAgIGRhdGEsXG4gICAgICApfSBidXQgbWluaW11bSBpcyAxYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggJHtpbmRleH0gaXMgb3V0IG9mIDAgdG8gJHtcbiAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMVxuICAgICAgfWAsXG4gICAgKTtcbiAgICBpZiAoXG4gICAgICAhZ2V0SXRlbUxheW91dCAmJlxuICAgICAgaW5kZXggPiB0aGlzLl9saXN0TWV0cmljcy5nZXRIaWdoZXN0TWVhc3VyZWRDZWxsSW5kZXgoKVxuICAgICkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICAgICAgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArXG4gICAgICAgICAgJ290aGVyd2lzZSB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB0aGUgbG9jYXRpb24gb2Ygb2Zmc2NyZWVuIGluZGljZXMgb3IgaGFuZGxlIGZhaWx1cmVzLicsXG4gICAgICApO1xuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkKHtcbiAgICAgICAgYXZlcmFnZUl0ZW1MZW5ndGg6IHRoaXMuX2xpc3RNZXRyaWNzLmdldEF2ZXJhZ2VDZWxsTGVuZ3RoKCksXG4gICAgICAgIGhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXg6XG4gICAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0SGlnaGVzdE1lYXN1cmVkQ2VsbEluZGV4KCksXG4gICAgICAgIGluZGV4LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICBNYXRoLmZsb29yKGluZGV4KSxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKTtcbiAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxPZmZzZXRBcHByb3goaW5kZXgsIHRoaXMucHJvcHMpIC1cbiAgICAgICAgICAodmlld1Bvc2l0aW9uIHx8IDApICpcbiAgICAgICAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggLSBmcmFtZS5sZW5ndGgpLFxuICAgICAgKSAtICh2aWV3T2Zmc2V0IHx8IDApO1xuXG4gICAgdGhpcy5zY3JvbGxUb09mZnNldCh7b2Zmc2V0LCBhbmltYXRlZH0pO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JdGVtIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcC4gUmVxdWlyZWQgbGluZWFyIHNjYW4gdGhyb3VnaCBpdGVtcyAtXG4gIC8vIHVzZSBzY3JvbGxUb0luZGV4IGluc3RlYWQgaWYgcG9zc2libGUuXG4gIHNjcm9sbFRvSXRlbShwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyLCAuLi59KSB7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBvZmZzZXR9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHNjcm9sbFJlZiA9IHRoaXMuX3Njcm9sbFJlZjtcblxuICAgIGlmIChzY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge2hvcml6b250YWwsIHJ0bH0gPSB0aGlzLl9vcmllbnRhdGlvbigpO1xuICAgIGlmIChob3Jpem9udGFsICYmIHJ0bCAmJiAhdGhpcy5fbGlzdE1ldHJpY3MuaGFzQ29udGVudExlbmd0aCgpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdzY3JvbGxUb09mZnNldCBtYXkgbm90IGJlIGNhbGxlZCBpbiBSVEwgYmVmb3JlIGNvbnRlbnQgaXMgbGFpZCBvdXQnLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXVxuICAgIHNjcm9sbFJlZi5zY3JvbGxUbyh7XG4gICAgICBhbmltYXRlZCxcbiAgICAgIC4uLnRoaXMuX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldChvZmZzZXQpLFxuICAgIH0pO1xuICB9XG5cbiAgX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldChvZmZzZXQ6IG51bWJlcik6IHt4PzogbnVtYmVyLCB5PzogbnVtYmVyfSB7XG4gICAgY29uc3Qge2hvcml6b250YWwsIHJ0bH0gPSB0aGlzLl9vcmllbnRhdGlvbigpO1xuICAgIGlmIChob3Jpem9udGFsICYmIHJ0bCkge1xuICAgICAgLy8gQWRkIHRoZSB2aXNpYmxlIGxlbmd0aCBvZiB0aGUgc2Nyb2xsdmlldyBzbyB0aGF0IHRoZSBvZmZzZXQgaXMgcmlnaHQtYWxpZ25lZFxuICAgICAgY29uc3QgY2FydE9mZnNldCA9IHRoaXMuX2xpc3RNZXRyaWNzLmNhcnRlc2lhbk9mZnNldChcbiAgICAgICAgb2Zmc2V0ICsgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBob3Jpem9udGFsID8ge3g6IGNhcnRPZmZzZXR9IDoge3k6IGNhcnRPZmZzZXR9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXR9IDoge3k6IG9mZnNldH07XG4gICAgfVxuICB9XG5cbiAgcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgfVxuXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBoYW5kbGUgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlci5cbiAgICogTm90ZSB0aGF0IGB0aGlzLl9zY3JvbGxSZWZgIG1pZ2h0IG5vdCBiZSBhIGBTY3JvbGxWaWV3YCwgc28gd2VcbiAgICogbmVlZCB0byBjaGVjayB0aGF0IGl0IHJlc3BvbmRzIHRvIGBnZXRTY3JvbGxSZXNwb25kZXJgIGJlZm9yZSBjYWxsaW5nIGl0LlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyKCk6ID9TY3JvbGxSZXNwb25kZXJUeXBlIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKTogP251bWJlciB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpbmROb2RlSGFuZGxlPCRGbG93Rml4TWU+KHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsUmVmKCk6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxWaWV3PiB7XG4gICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWZ1bmN0aW9uXVxuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZjtcbiAgICB9XG4gIH1cblxuICBzZXROYXRpdmVQcm9wcyhwcm9wczogT2JqZWN0KSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LmNlbGxLZXkgfHwgJ3Jvb3RMaXN0JztcbiAgfVxuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX2dldFNjcm9sbE1ldHJpY3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gIH07XG5cbiAgaGFzTW9yZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faGFzTW9yZTtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICB9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5hZGQoY2hpbGRMaXN0LnJlZiwgY2hpbGRMaXN0LmNlbGxLZXkpO1xuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtyZWY6IFZpcnR1YWxpemVkTGlzdH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnJlbW92ZShjaGlsZExpc3QucmVmKTtcbiAgfTtcblxuICBzdGF0ZTogU3RhdGU7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFZpcnR1YWxpemVkTGlzdFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2NoZWNrUHJvcHMocHJvcHMpO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIgPSBuZXcgRmlsbFJhdGVIZWxwZXIodGhpcy5fbGlzdE1ldHJpY3MpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtvblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCB2aWV3YWJpbGl0eUNvbmZpZ30gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKG9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcih2aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW5pdGlhbFJlbmRlclJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG5cbiAgICBjb25zdCBtaW5JbmRleEZvclZpc2libGUgPVxuICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGluaXRpYWxSZW5kZXJSZWdpb24sXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2socHJvcHMsIGluaXRpYWxSZW5kZXJSZWdpb24pLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTpcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSA+IG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHRoaXMucHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAvLyBXaGVuIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXgsIHdlIHdpbGwgcmVjZWl2ZSBhXG4gICAgICAvLyBzY3JvbGwgZXZlbnQgbGF0ZXIgc28gdGhpcyB3aWxsIHByZXZlbnQgdGhlIHdpbmRvdyBmcm9tIHVwZGF0aW5nXG4gICAgICAvLyB1bnRpbCB3ZSBnZXQgYSB2YWxpZCBvZmZzZXQuXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiAwLFxuICAgIH07XG4gIH1cblxuICBfY2hlY2tQcm9wcyhwcm9wczogVmlydHVhbGl6ZWRMaXN0UHJvcHMpIHtcbiAgICBjb25zdCB7b25TY3JvbGwsIHdpbmRvd1NpemUsIGdldEl0ZW1Db3VudCwgZGF0YSwgaW5pdGlhbFNjcm9sbEluZGV4fSA9XG4gICAgICBwcm9wcztcblxuICAgIGludmFyaWFudChcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgIW9uU2Nyb2xsIHx8ICFvblNjcm9sbC5fX2lzTmF0aXZlLFxuICAgICAgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgK1xuICAgICAgICAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZSkgPiAwLFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogVGhlIHdpbmRvd1NpemUgcHJvcCBtdXN0IGJlIHByZXNlbnQgYW5kIHNldCB0byBhIHZhbHVlIGdyZWF0ZXIgdGhhbiAwLicsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSBcImdldEl0ZW1Db3VudFwiIHByb3AgbXVzdCBiZSBwcm92aWRlZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcblxuICAgIGlmIChcbiAgICAgIGluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICAhdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggJiZcbiAgICAgIChpbml0aWFsU2Nyb2xsSW5kZXggPCAwIHx8XG4gICAgICAgIChpdGVtQ291bnQgPiAwICYmIGluaXRpYWxTY3JvbGxJbmRleCA+PSBpdGVtQ291bnQpKSAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYGluaXRpYWxTY3JvbGxJbmRleCBcIiR7aW5pdGlhbFNjcm9sbEluZGV4fVwiIGlzIG5vdCB2YWxpZCAobGlzdCBoYXMgJHtpdGVtQ291bnR9IGl0ZW1zKWAsXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLmluaXRpYWxTY3JvbGxJbmRleCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18gJiYgIXRoaXMuX2hhc1dhcm5lZC5mbGV4V3JhcCkge1xuICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gU3R5bGVTaGVldC5mbGF0dGVuKHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlKTtcbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAgICdDb25zaWRlciB1c2luZyBgbnVtQ29sdW1uc2Agd2l0aCBgRmxhdExpc3RgIGluc3RlYWQuJyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmZsZXhXcmFwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgIHByb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICBoaW50OiA/bnVtYmVyLFxuICApOiA/bnVtYmVyIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgaWYgKGhpbnQgIT0gbnVsbCAmJiBoaW50ID49IDAgJiYgaGludCA8IGl0ZW1Db3VudCkge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBoaW50KTtcbiAgICAgIGlmIChjdXJLZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gaGludDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBpaSk7XG4gICAgICBpZiAoY3VyS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBfZ2V0SXRlbUtleShcbiAgICBwcm9wczoge1xuICAgICAgZGF0YTogVmlydHVhbGl6ZWRMaXN0UHJvcHNbJ2RhdGEnXSxcbiAgICAgIGdldEl0ZW06IFZpcnR1YWxpemVkTGlzdFByb3BzWydnZXRJdGVtJ10sXG4gICAgICBrZXlFeHRyYWN0b3I6IFZpcnR1YWxpemVkTGlzdFByb3BzWydrZXlFeHRyYWN0b3InXSxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBpdGVtID0gcHJvcHMuZ2V0SXRlbShwcm9wcy5kYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyk7XG4gIH1cblxuICBzdGF0aWMgX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgcHJvcHM6IFZpcnR1YWxpemVkTGlzdFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIGFkZGl0aW9uYWxSZWdpb25zPzogPyRSZWFkT25seUFycmF5PHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9PixcbiAgKTogQ2VsbFJlbmRlck1hc2sge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPj0gMCAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCAtIDEgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50LFxuICAgICAgYEludmFsaWQgY2VsbHMgYXJvdW5kIHZpZXdwb3J0IFwiWyR7Y2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdH0sICR7Y2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0fV1cIiB3YXMgcGFzc2VkIHRvIFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFza2AsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBuZXcgQ2VsbFJlbmRlck1hc2soaXRlbUNvdW50KTtcblxuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBhbGxSZWdpb25zID0gW2NlbGxzQXJvdW5kVmlld3BvcnQsIC4uLihhZGRpdGlvbmFsUmVnaW9ucyA/PyBbXSldO1xuICAgICAgZm9yIChjb25zdCByZWdpb24gb2YgYWxsUmVnaW9ucykge1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKHJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbml0aWFsbHkgcmVuZGVyZWQgY2VsbHMgYXJlIHJldGFpbmVkIGFzIHBhcnQgb2YgdGhlXG4gICAgICAvLyBcInNjcm9sbC10by10b3BcIiBvcHRpbWl6YXRpb25cbiAgICAgIGlmIChwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPT0gbnVsbCB8fCBwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPD0gMCkge1xuICAgICAgICBjb25zdCBpbml0aWFsUmVnaW9uID0gVmlydHVhbGl6ZWRMaXN0Ll9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzKTtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhpbml0aWFsUmVnaW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGxheW91dCBjb29yZGluYXRlcyBvZiBzdGlja2VyIGhlYWRlcnMgbWF5IGJlIG9mZi1zY3JlZW4gd2hpbGUgdGhlXG4gICAgICAvLyBhY3R1YWwgaGVhZGVyIGlzIG9uLXNjcmVlbi4gS2VlcCB0aGUgbW9zdCByZWNlbnQgYmVmb3JlIHRoZSB2aWV3cG9ydFxuICAgICAgLy8gcmVuZGVyZWQsIGV2ZW4gaWYgaXRzIGxheW91dCBjb29yZGluYXRlcyBhcmUgbm90IGluIHZpZXdwb3J0LlxuICAgICAgY29uc3Qgc3RpY2t5SW5kaWNlc1NldCA9IG5ldyBTZXQocHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgICBWaXJ0dWFsaXplZExpc3QuX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGlja3lJbmRpY2VzU2V0LFxuICAgICAgICByZW5kZXJNYXNrLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyTWFzaztcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wczogVmlydHVhbGl6ZWRMaXN0UHJvcHMpOiB7XG4gICAgZmlyc3Q6IG51bWJlcixcbiAgICBsYXN0OiBudW1iZXIsXG4gIH0ge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIGNvbnN0IGZpcnN0Q2VsbEluZGV4ID0gTWF0aC5tYXgoXG4gICAgICAwLFxuICAgICAgTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgTWF0aC5mbG9vcihwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPz8gMCkpLFxuICAgICk7XG5cbiAgICBjb25zdCBsYXN0Q2VsbEluZGV4ID1cbiAgICAgIE1hdGgubWluKFxuICAgICAgICBpdGVtQ291bnQsXG4gICAgICAgIGZpcnN0Q2VsbEluZGV4ICsgaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KHByb3BzLmluaXRpYWxOdW1Ub1JlbmRlciksXG4gICAgICApIC0gMTtcblxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogZmlyc3RDZWxsSW5kZXgsXG4gICAgICBsYXN0OiBsYXN0Q2VsbEluZGV4LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIoXG4gICAgcHJvcHM6IFZpcnR1YWxpemVkTGlzdFByb3BzLFxuICAgIHN0aWNreUluZGljZXNTZXQ6IFNldDxudW1iZXI+LFxuICAgIHJlbmRlck1hc2s6IENlbGxSZW5kZXJNYXNrLFxuICAgIGNlbGxJZHg6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gcHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuXG4gICAgZm9yIChsZXQgaXRlbUlkeCA9IGNlbGxJZHggLSAxOyBpdGVtSWR4ID49IDA7IGl0ZW1JZHgtLSkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNTZXQuaGFzKGl0ZW1JZHggKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHJlbmRlck1hc2suYWRkQ2VsbHMoe2ZpcnN0OiBpdGVtSWR4LCBsYXN0OiBpdGVtSWR4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0KFxuICAgIHByb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6IG51bWJlcixcbiAgKToge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnR9ID0gcHJvcHM7XG4gICAgY29uc3Qgb25FbmRSZWFjaGVkVGhyZXNob2xkID0gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgcHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgY29uc3Qge29mZnNldCwgdmlzaWJsZUxlbmd0aH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCk7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG5cbiAgICAvLyBXYWl0IHVudGlsIHRoZSBzY3JvbGwgdmlldyBtZXRyaWNzIGhhdmUgYmVlbiBzZXQgdXAuIEFuZCB1bnRpbCB0aGVuLFxuICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciBzdWdnZXN0aW9uXG4gICAgaWYgKHZpc2libGVMZW5ndGggPD0gMCB8fCBjb250ZW50TGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gZ2V0SXRlbUNvdW50KGRhdGEpXG4gICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChjZWxsc0Fyb3VuZFZpZXdwb3J0LCBwcm9wcylcbiAgICAgICAgOiBjZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIH1cblxuICAgIGxldCBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfTtcbiAgICBpZiAocHJvcHMuZGlzYWJsZVZpcnR1YWxpemF0aW9uKSB7XG4gICAgICBjb25zdCByZW5kZXJBaGVhZCA9XG4gICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgICA/IG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQocHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaClcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQgPSB7XG4gICAgICAgIGZpcnN0OiAwLFxuICAgICAgICBsYXN0OiBNYXRoLm1pbihcbiAgICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgKyByZW5kZXJBaGVhZCxcbiAgICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxLFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZSwgd2Ugc2hvdWxkIG5vdCBhZGp1c3QgdGhlIHJlbmRlciB3aW5kb3cgYXMgaXRcbiAgICAgIC8vIG1pZ2h0IG92ZXJyaWRlIHRoZSBjb3JyZWN0IHdpbmRvdy5cbiAgICAgIGlmIChwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gZ2V0SXRlbUNvdW50KGRhdGEpXG4gICAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KGNlbGxzQXJvdW5kVmlld3BvcnQsIHByb3BzKVxuICAgICAgICAgIDogY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICAgIH1cblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydCA9IGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyhcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQocHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQocHJvcHMud2luZG93U2l6ZSksXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgICAnY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzKCkgc2hvdWxkIHJldHVybiByYW5nZSBpbi1ib3VuZHMnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zaXplKCkgPiAwKSB7XG4gICAgICAvLyBJZiBzb21lIGNlbGwgaW4gdGhlIG5ldyBzdGF0ZSBoYXMgYSBjaGlsZCBsaXN0IGluIGl0LCB3ZSBzaG91bGQgb25seSByZW5kZXJcbiAgICAgIC8vIHVwIHRocm91Z2ggdGhhdCBpdGVtLCBzbyB0aGF0IHdlIGdpdmUgdGhhdCBsaXN0IGEgY2hhbmNlIHRvIHJlbmRlci5cbiAgICAgIC8vIE90aGVyd2lzZSB0aGVyZSdzIGNodXJuIGZyb20gbXVsdGlwbGUgY2hpbGQgbGlzdHMgbW91bnRpbmcgYW5kIHVuLW1vdW50aW5nXG4gICAgICAvLyB0aGVpciBpdGVtcy5cblxuICAgICAgLy8gV2lsbCB0aGlzIHByZXZlbnQgcmVuZGVyaW5nIGlmIHRoZSBuZXN0ZWQgbGlzdCBkb2Vzbid0IHJlYWxpemUgdGhlIGVuZD9cbiAgICAgIGNvbnN0IGNoaWxkSWR4ID0gdGhpcy5fZmluZEZpcnN0Q2hpbGRXaXRoTW9yZShcbiAgICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0LFxuICAgICAgKTtcblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID0gY2hpbGRJZHggPz8gbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0O1xuICAgIH1cblxuICAgIHJldHVybiBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICB9XG5cbiAgX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUoZmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgZm9yIChsZXQgaWkgPSBmaXJzdDsgaWkgPD0gbGFzdDsgaWkrKykge1xuICAgICAgY29uc3QgY2VsbEtleUZvckluZGV4ID0gdGhpcy5faW5kaWNlc1RvS2V5cy5nZXQoaWkpO1xuICAgICAgaWYgKFxuICAgICAgICBjZWxsS2V5Rm9ySW5kZXggIT0gbnVsbCAmJlxuICAgICAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmFueUluQ2VsbChjZWxsS2V5Rm9ySW5kZXgsIGNoaWxkTGlzdCA9PlxuICAgICAgICAgIGNoaWxkTGlzdC5oYXNNb3JlKCksXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gaWk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC5yZWdpc3RlckFzTmVzdGVkQ2hpbGQoe1xuICAgICAgICByZWY6IHRoaXMsXG4gICAgICAgIGNlbGxLZXk6IHRoaXMuY29udGV4dC5jZWxsS2V5LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICB0aGlzLmNvbnRleHQudW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQoe3JlZjogdGhpc30pO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgIG5ld1Byb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgICBwcmV2U3RhdGU6IFN0YXRlLFxuICApOiBTdGF0ZSB7XG4gICAgLy8gZmlyc3QgYW5kIGxhc3QgY291bGQgYmUgc3RhbGUgKGUuZy4gaWYgYSBuZXcsIHNob3J0ZXIgaXRlbXMgcHJvcHMgaXMgcGFzc2VkIGluKSwgc28gd2UgbWFrZVxuICAgIC8vIHN1cmUgd2UncmUgcmVuZGVyaW5nIGEgcmVhc29uYWJsZSByYW5nZSBoZXJlLlxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IG5ld1Byb3BzLmdldEl0ZW1Db3VudChuZXdQcm9wcy5kYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID09PSBwcmV2U3RhdGUucmVuZGVyTWFzay5udW1DZWxscygpKSB7XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgIH1cblxuICAgIGxldCBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50OiA/bnVtYmVyID0gbnVsbDtcbiAgICBjb25zdCBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSA9IHByZXZTdGF0ZS5maXJzdFZpc2libGVJdGVtS2V5O1xuICAgIGNvbnN0IG1pbkluZGV4Rm9yVmlzaWJsZSA9XG4gICAgICBuZXdQcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuICAgIGNvbnN0IG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkgPVxuICAgICAgbmV3UHJvcHMuZ2V0SXRlbUNvdW50KG5ld1Byb3BzLmRhdGEpID4gbWluSW5kZXhGb3JWaXNpYmxlXG4gICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KG5ld1Byb3BzLCBtaW5JbmRleEZvclZpc2libGUpXG4gICAgICAgIDogbnVsbDtcbiAgICBpZiAoXG4gICAgICBuZXdQcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24gIT0gbnVsbCAmJlxuICAgICAgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkgIT0gbnVsbCAmJlxuICAgICAgbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSAhPSBudWxsXG4gICAgKSB7XG4gICAgICBpZiAobmV3Rmlyc3RWaXNpYmxlSXRlbUtleSAhPT0gcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoIGlmIGl0ZW1zIHdlcmUgYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LlxuICAgICAgICBjb25zdCBoaW50ID1cbiAgICAgICAgICBpdGVtQ291bnQgLSBwcmV2U3RhdGUucmVuZGVyTWFzay5udW1DZWxscygpICsgbWluSW5kZXhGb3JWaXNpYmxlO1xuICAgICAgICBjb25zdCBmaXJzdFZpc2libGVJdGVtSW5kZXggPSBWaXJ0dWFsaXplZExpc3QuX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIHByZXZGaXJzdFZpc2libGVJdGVtS2V5LFxuICAgICAgICAgIGhpbnQsXG4gICAgICAgICk7XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgPVxuICAgICAgICAgIGZpcnN0VmlzaWJsZUl0ZW1JbmRleCAhPSBudWxsXG4gICAgICAgICAgICA/IGZpcnN0VmlzaWJsZUl0ZW1JbmRleCAtIG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29uc3RyYWluZWRDZWxscyA9IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoXG4gICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ICE9IG51bGxcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBmaXJzdDpcbiAgICAgICAgICAgICAgcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgK1xuICAgICAgICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50LFxuICAgICAgICAgICAgbGFzdDpcbiAgICAgICAgICAgICAgcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCArXG4gICAgICAgICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQsXG4gICAgICAgICAgfVxuICAgICAgICA6IHByZXZTdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgbmV3UHJvcHMsXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiBjb25zdHJhaW5lZENlbGxzLFxuICAgICAgcmVuZGVyTWFzazogVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKG5ld1Byb3BzLCBjb25zdHJhaW5lZENlbGxzKSxcbiAgICAgIGZpcnN0VmlzaWJsZUl0ZW1LZXk6IG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXksXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgIT0gbnVsbFxuICAgICAgICAgID8gcHJldlN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCArIDFcbiAgICAgICAgICA6IHByZXZTdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQsXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogU3R5bGVQcm9wPFZpZXdTdHlsZT4sXG4gICkge1xuICAgIGNvbnN0IHtcbiAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICBMaXN0SGVhZGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEl0ZW1Db21wb25lbnQsXG4gICAgICBkYXRhLFxuICAgICAgZGVidWcsXG4gICAgICBnZXRJdGVtLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIGhvcml6b250YWwsXG4gICAgICByZW5kZXJJdGVtLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IExpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxO1xuICAgIGxldCBwcmV2Q2VsbEtleTtcbiAgICBsYXN0ID0gTWF0aC5taW4oZW5kLCBsYXN0KTtcblxuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIGNvbnN0IGtleSA9IFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGlpLCB0aGlzLnByb3BzKTtcblxuICAgICAgdGhpcy5faW5kaWNlc1RvS2V5cy5zZXQoaWksIGtleSk7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaChjZWxscy5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzaG91bGRMaXN0ZW5Gb3JMYXlvdXQgPVxuICAgICAgICBnZXRJdGVtTGF5b3V0ID09IG51bGwgfHwgZGVidWcgfHwgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZW5hYmxlZCgpO1xuXG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Q2VsbFJlbmRlcmVyXG4gICAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PXtDZWxsUmVuZGVyZXJDb21wb25lbnR9XG4gICAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17aWkgPCBlbmQgPyBJdGVtU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkfVxuICAgICAgICAgIExpc3RJdGVtQ29tcG9uZW50PXtMaXN0SXRlbUNvbXBvbmVudH1cbiAgICAgICAgICBjZWxsS2V5PXtrZXl9XG4gICAgICAgICAgaG9yaXpvbnRhbD17aG9yaXpvbnRhbH1cbiAgICAgICAgICBpbmRleD17aWl9XG4gICAgICAgICAgaW52ZXJzaW9uU3R5bGU9e2ludmVyc2lvblN0eWxlfVxuICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgcHJldkNlbGxLZXk9e3ByZXZDZWxsS2V5fVxuICAgICAgICAgIG9uVXBkYXRlU2VwYXJhdG9ycz17dGhpcy5fb25VcGRhdGVTZXBhcmF0b3JzfVxuICAgICAgICAgIG9uQ2VsbEZvY3VzQ2FwdHVyZT17dGhpcy5fb25DZWxsRm9jdXNDYXB0dXJlfVxuICAgICAgICAgIG9uVW5tb3VudD17dGhpcy5fb25DZWxsVW5tb3VudH1cbiAgICAgICAgICByZWY9e3JlZiA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jZWxsUmVmc1trZXldID0gcmVmO1xuICAgICAgICAgIH19XG4gICAgICAgICAgcmVuZGVySXRlbT17cmVuZGVySXRlbX1cbiAgICAgICAgICB7Li4uKHNob3VsZExpc3RlbkZvckxheW91dCAmJiB7XG4gICAgICAgICAgICBvbkNlbGxMYXlvdXQ6IHRoaXMuX29uQ2VsbExheW91dCxcbiAgICAgICAgICB9KX1cbiAgICAgICAgLz4sXG4gICAgICApO1xuICAgICAgcHJldkNlbGxLZXkgPSBrZXk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9jb25zdHJhaW5Ub0l0ZW1Db3VudChcbiAgICBjZWxsczoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICAgcHJvcHM6IFZpcnR1YWxpemVkTGlzdFByb3BzLFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuICAgIGNvbnN0IGxhc3RQb3NzaWJsZUNlbGxJbmRleCA9IGl0ZW1Db3VudCAtIDE7XG5cbiAgICAvLyBDb25zdHJhaW5pbmcgYGxhc3RgIG1heSBzaWduaWZpY2FudGx5IHNocmluayB0aGUgd2luZG93LiBBZGp1c3QgYGZpcnN0YFxuICAgIC8vIHRvIGV4cGFuZCB0aGUgd2luZG93IGlmIHRoZSBuZXcgYGxhc3RgIHJlc3VsdHMgaW4gYSBuZXcgd2luZG93IHNtYWxsZXJcbiAgICAvLyB0aGFuIHRoZSBudW1iZXIgb2YgY2VsbHMgcmVuZGVyZWQgcGVyIGJhdGNoLlxuICAgIGNvbnN0IG1heFRvUmVuZGVyUGVyQmF0Y2ggPSBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KFxuICAgICAgcHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCxcbiAgICApO1xuICAgIGNvbnN0IG1heEZpcnN0ID0gTWF0aC5tYXgoMCwgbGFzdFBvc3NpYmxlQ2VsbEluZGV4IC0gbWF4VG9SZW5kZXJQZXJCYXRjaCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGNsYW1wKDAsIGNlbGxzLmZpcnN0LCBtYXhGaXJzdCksXG4gICAgICBsYXN0OiBNYXRoLm1pbihsYXN0UG9zc2libGVDZWxsSW5kZXgsIGNlbGxzLmxhc3QpLFxuICAgIH07XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiZcbiAgICAgICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICApO1xuICB9XG5cbiAgX2dldFNwYWNlcktleSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogc3RyaW5nID0+XG4gICAgaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICBzdGF0aWMgX2tleUV4dHJhY3RvcihcbiAgICBpdGVtOiBJdGVtLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcHJvcHM6IHtcbiAgICAgIGtleUV4dHJhY3Rvcj86ID8oaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICAgICAgLi4uXG4gICAgfSxcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAocHJvcHMua2V5RXh0cmFjdG9yICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBwcm9wcy5rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IGRlZmF1bHRLZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIGlmIChrZXkgPT09IFN0cmluZyhpbmRleCkpIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSB0cnVlO1xuICAgICAgaWYgKGl0ZW0udHlwZSAmJiBpdGVtLnR5cGUuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9IGl0ZW0udHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIF9yZW5kZXJFbXB0eUNvbXBvbmVudChcbiAgICBlbGVtZW50OiBFeGFjdFJlYWN0RWxlbWVudF9ERVBSRUNBVEVEPGFueT4sXG4gICAgaW52ZXJzaW9uU3R5bGU6IFN0eWxlUHJvcDxWaWV3U3R5bGU+LFxuICApOiBSZWFjdC5Ob2RlIHtcbiAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gUmVhY3QuRWxlbWVudCBpbnRlcm5hbCBpbnNwZWN0aW9uXG4gICAgY29uc3QgaXNGcmFnbWVudCA9IGVsZW1lbnQudHlwZSA9PT0gUmVhY3QuRnJhZ21lbnQ7XG5cbiAgICBpZiAoaXNGcmFnbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICBvbkxheW91dDogKGV2ZW50OiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLl9vbkxheW91dEVtcHR5KGV2ZW50KTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIFJlYWN0LkVsZW1lbnQgaW50ZXJuYWwgaW5zcGVjdGlvblxuICAgICAgICBpZiAoZWxlbWVudC5wcm9wcy5vbkxheW91dCkge1xuICAgICAgICAgIGVsZW1lbnQucHJvcHMub25MYXlvdXQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIFJlYWN0LkVsZW1lbnQgaW50ZXJuYWwgaW5zcGVjdGlvblxuICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShpbnZlcnNpb25TdHlsZSwgZWxlbWVudC5wcm9wcy5zdHlsZSksXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgdGhpcy5fY2hlY2tQcm9wcyh0aGlzLnByb3BzKTtcbiAgICBjb25zdCB7TGlzdEVtcHR5Q29tcG9uZW50LCBMaXN0Rm9vdGVyQ29tcG9uZW50LCBMaXN0SGVhZGVyQ29tcG9uZW50fSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtkYXRhLCBob3Jpem9udGFsfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW52ZXJzaW9uU3R5bGUgPSB0aGlzLnByb3BzLmludmVydGVkXG4gICAgICA/IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgICA/IHN0eWxlcy5ob3Jpem9udGFsbHlJbnZlcnRlZFxuICAgICAgICA6IHN0eWxlcy52ZXJ0aWNhbGx5SW52ZXJ0ZWRcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjZWxsczogQXJyYXk8YW55IHwgUmVhY3QuTm9kZT4gPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcblxuICAgIC8vIDEuIEFkZCBjZWxsIGZvciBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RIZWFkZXJDb21wb25lbnQpIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcygwKSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RIZWFkZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJ31cbiAgICAgICAgICBrZXk9XCIkaGVhZGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIC8vIFdlIGV4cGVjdCB0aGF0IGhlYWRlciBjb21wb25lbnQgd2lsbCBiZSBhIHNpbmdsZSBuYXRpdmUgdmlldyBzbyBtYWtlIGl0XG4gICAgICAgICAgICAvLyBub3QgY29sbGFwc2FibGUgdG8gYXZvaWQgdGhpcyB2aWV3IGJlaW5nIGZsYXR0ZW5lZCBhbmQgbWFrZSB0aGlzIGFzc3VtcHRpb25cbiAgICAgICAgICAgIC8vIG5vIGxvbmdlciB0cnVlLlxuICAgICAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAyYS4gQWRkIGEgY2VsbCBmb3IgTGlzdEVtcHR5Q29tcG9uZW50IGlmIGFwcGxpY2FibGVcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID09PSAwICYmIExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudDogRXhhY3RSZWFjdEVsZW1lbnRfREVQUkVDQVRFRDxhbnk+ID0gKChpc1ZhbGlkRWxlbWVudChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgKSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICkpOiBhbnkpO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWVtcHR5J31cbiAgICAgICAgICBrZXk9XCIkZW1wdHlcIj5cbiAgICAgICAgICB7dGhpcy5fcmVuZGVyRW1wdHlDb21wb25lbnQoZWxlbWVudCwgaW52ZXJzaW9uU3R5bGUpfVxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAyYi4gQWRkIGNlbGxzIGFuZCBzcGFjZXJzIGZvciBlYWNoIGl0ZW1cbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xuICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuICAgICAgY29uc3Qgc3BhY2VyS2V5ID0gdGhpcy5fZ2V0U3BhY2VyS2V5KCFob3Jpem9udGFsKTtcblxuICAgICAgY29uc3QgcmVuZGVyUmVnaW9ucyA9IHRoaXMuc3RhdGUucmVuZGVyTWFzay5lbnVtZXJhdGVSZWdpb25zKCk7XG4gICAgICBjb25zdCBsYXN0UmVnaW9uID0gcmVuZGVyUmVnaW9uc1tyZW5kZXJSZWdpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgbGFzdFNwYWNlciA9IGxhc3RSZWdpb24/LmlzU3BhY2VyID8gbGFzdFJlZ2lvbiA6IG51bGw7XG5cbiAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiByZW5kZXJSZWdpb25zKSB7XG4gICAgICAgIGlmIChzZWN0aW9uLmlzU3BhY2VyKSB7XG4gICAgICAgICAgLy8gTGVnYWN5IGJlaGF2aW9yIGlzIHRvIGF2b2lkIHNwYWNlcnMgd2hlbiB2aXJ0dWFsaXphdGlvbiBpc1xuICAgICAgICAgIC8vIGRpc2FibGVkIChpbmNsdWRpbmcgaGVhZCBzcGFjZXJzIG9uIGluaXRpYWwgcmVuZGVyKS5cbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFdpdGhvdXQgZ2V0SXRlbUxheW91dCwgd2UgbGltaXQgb3VyIHRhaWwgc3BhY2VyIHRvIHRoZSBfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCB0b1xuICAgICAgICAgIC8vIHByZXZlbnQgdGhlIHVzZXIgZm9yIGh5cGVyc2Nyb2xsaW5nIGludG8gdW4tbWVhc3VyZWQgYXJlYSBiZWNhdXNlIG90aGVyd2lzZSBjb250ZW50IHdpbGxcbiAgICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgY29uc3QgaXNMYXN0U3BhY2VyID0gc2VjdGlvbiA9PT0gbGFzdFNwYWNlcjtcbiAgICAgICAgICBjb25zdCBjb25zdHJhaW5Ub01lYXN1cmVkID0gaXNMYXN0U3BhY2VyICYmICF0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQ7XG4gICAgICAgICAgY29uc3QgbGFzdCA9IGNvbnN0cmFpblRvTWVhc3VyZWRcbiAgICAgICAgICAgID8gY2xhbXAoXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5maXJzdCAtIDEsXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5sYXN0LFxuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCgpLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IHNlY3Rpb24ubGFzdDtcblxuICAgICAgICAgIGNvbnN0IGZpcnN0TWV0cmljcyA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICAgICAgc2VjdGlvbi5maXJzdCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBsYXN0TWV0cmljcyA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICAgICAgbGFzdCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBzcGFjZXJTaXplID1cbiAgICAgICAgICAgIGxhc3RNZXRyaWNzLm9mZnNldCArIGxhc3RNZXRyaWNzLmxlbmd0aCAtIGZpcnN0TWV0cmljcy5vZmZzZXQ7XG4gICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICAgIGtleT17YCRzcGFjZXItJHtzZWN0aW9uLmZpcnN0fWB9XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICAgICAgIHN0eWxlPXt7W3NwYWNlcktleV06IHNwYWNlclNpemV9fVxuICAgICAgICAgICAgLz4sXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgICAgICBjZWxscyxcbiAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICAgICAgc2VjdGlvbi5maXJzdCxcbiAgICAgICAgICAgIHNlY3Rpb24ubGFzdCxcbiAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWQua2V5cyAmJiBfdXNlZEluZGV4Rm9yS2V5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBtaXNzaW5nIGtleXMgZm9yIGl0ZW1zLCBtYWtlIHN1cmUgdG8gc3BlY2lmeSBhIGtleSBvciBpZCBwcm9wZXJ0eSBvbiBlYWNoICcgK1xuICAgICAgICAgICAgJ2l0ZW0gb3IgcHJvdmlkZSBhIGN1c3RvbSBrZXlFeHRyYWN0b3IuJyxcbiAgICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9oYXNXYXJuZWQua2V5cyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMy4gQWRkIGNlbGwgZm9yIExpc3RGb290ZXJDb21wb25lbnRcbiAgICBpZiAoTGlzdEZvb3RlckNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGlzVmFsaWRFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQpID8gKFxuICAgICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0Rm9vdGVyQ29tcG9uZW50IC8+XG4gICAgICApO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRGb290ZXJDZWxsS2V5KCl9XG4gICAgICAgICAga2V5PVwiJGZvb3RlclwiPlxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRGb290ZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDQuIFJlbmRlciB0aGUgU2Nyb2xsVmlld1xuICAgIGNvbnN0IHNjcm9sbFByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IHRoaXMuX29uQ29udGVudFNpemVDaGFuZ2UsXG4gICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXQsXG4gICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX29uU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIC8vIGlPUy9tYWNPUyByZXF1aXJlcyBhIG5vbi16ZXJvIHNjcm9sbEV2ZW50VGhyb3R0bGUgdG8gZmlyZSBtb3JlIHRoYW4gYVxuICAgICAgLy8gc2luZ2xlIG5vdGlmaWNhdGlvbiB3aGlsZSBzY3JvbGxpbmcuIFRoaXMgd2lsbCBvdGhlcndpc2Ugbm8tb3AuXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUgPz8gMC4wMDAxLFxuICAgICAgaW52ZXJ0U3RpY2t5SGVhZGVyczpcbiAgICAgICAgdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc1xuICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcbiAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICBzdHlsZTogaW52ZXJzaW9uU3R5bGVcbiAgICAgICAgPyBbaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdXG4gICAgICAgIDogdGhpcy5wcm9wcy5zdHlsZSxcbiAgICAgIGlzSW52ZXJ0ZWRWaXJ0dWFsaXplZExpc3Q6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb246XG4gICAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uICE9IG51bGxcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgLi4udGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24sXG4gICAgICAgICAgICAgIC8vIEFkanVzdCBpbmRleCB0byBhY2NvdW50IGZvciBMaXN0SGVhZGVyQ29tcG9uZW50LlxuICAgICAgICAgICAgICBtaW5JbmRleEZvclZpc2libGU6XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24ubWluSW5kZXhGb3JWaXNpYmxlICtcbiAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDApLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH07XG5cbiAgICB0aGlzLl9oYXNNb3JlID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBpdGVtQ291bnQgLSAxO1xuXG4gICAgY29uc3QgaW5uZXJSZXQgPSAoXG4gICAgICA8VmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyXG4gICAgICAgIHZhbHVlPXt7XG4gICAgICAgICAgY2VsbEtleTogbnVsbCxcbiAgICAgICAgICBnZXRTY3JvbGxNZXRyaWNzOiB0aGlzLl9nZXRTY3JvbGxNZXRyaWNzLFxuICAgICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSxcbiAgICAgICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiB0aGlzLl9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmLFxuICAgICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fcmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgfX0+XG4gICAgICAgIHtjbG9uZUVsZW1lbnQoXG4gICAgICAgICAgKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZW5kZXJTY3JvbGxDb21wb25lbnQgfHxcbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnRcbiAgICAgICAgICApKFxuICAgICAgICAgICAgLy8gJEZsb3dFeHBlY3RlZEVycm9yW3Byb3AtbWlzc2luZ10gc2Nyb2xsUHJvcHMgaXMgYSBzdXBlcnNldCBvZiBTY3JvbGxWaWV3UHJvcHNcbiAgICAgICAgICAgIHNjcm9sbFByb3BzLFxuICAgICAgICAgICkgYXMgRXhhY3RSZWFjdEVsZW1lbnRfREVQUkVDQVRFRDxhbnk+LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogdGhpcy5fY2FwdHVyZVNjcm9sbFJlZixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbGxzLFxuICAgICAgICApfVxuICAgICAgPC9WaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXI+XG4gICAgKTtcbiAgICBsZXQgcmV0OiBSZWFjdC5Ob2RlID0gaW5uZXJSZXQ7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIHJldCA9IChcbiAgICAgICAgPFNjcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICB7c2Nyb2xsQ29udGV4dCA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNjcm9sbENvbnRleHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAhc2Nyb2xsQ29udGV4dC5ob3Jpem9udGFsID09PVxuICAgICAgICAgICAgICAgICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCkgJiZcbiAgICAgICAgICAgICAgIXRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nICYmXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9PSBudWxsICYmXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRW5hYmxlZCAhPT0gZmFsc2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHNob3VsZCBuZXZlciBiZSBuZXN0ZWQgaW5zaWRlIHBsYWluIFNjcm9sbFZpZXdzIHdpdGggdGhlIHNhbWUgJyArXG4gICAgICAgICAgICAgICAgICAnb3JpZW50YXRpb24gYmVjYXVzZSBpdCBjYW4gYnJlYWsgd2luZG93aW5nIGFuZCBvdGhlciBmdW5jdGlvbmFsaXR5IC0gdXNlIGFub3RoZXIgJyArXG4gICAgICAgICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0LWJhY2tlZCBjb250YWluZXIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9oYXNXYXJuZWQubmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJSZXQ7XG4gICAgICAgICAgfX1cbiAgICAgICAgPC9TY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5kZWJ1Zykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5kZWJ1Z30+XG4gICAgICAgICAge3JldH1cbiAgICAgICAgICB7dGhpcy5fcmVuZGVyRGVidWdPdmVybGF5KCl9XG4gICAgICAgIDwvVmlldz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogVmlydHVhbGl6ZWRMaXN0UHJvcHMpIHtcbiAgICBjb25zdCB7ZGF0YSwgZXh0cmFEYXRhLCBnZXRJdGVtTGF5b3V0fSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRhdGEgIT09IHByZXZQcm9wcy5kYXRhIHx8IGV4dHJhRGF0YSAhPT0gcHJldlByb3BzLmV4dHJhRGF0YSkge1xuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBUaGUgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgaXMgZ3VhcmFudGVlaW5nIGEgaGlQcmkgY2VsbCB1cGRhdGUgd2lsbCBvbmx5IGhhcHBlblxuICAgIC8vIG9uY2UgcGVyIGZpYmVyIHVwZGF0ZS4gVGhlIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIHNldCBpdCB0byB0cnVlXG4gICAgLy8gaWYgYSBoaVByaSB1cGRhdGUgbmVlZHMgdG8gcGVyZm9ybS4gSWYgYGNvbXBvbmVudERpZFVwZGF0ZWAgaXMgdHJpZ2dlcmVkIHdpdGhcbiAgICAvLyBgdGhpcy5faGlQcmlJblByb2dyZXNzPXRydWVgLCBtZWFucyBpdCdzIHRyaWdnZXJlZCBieSB0aGUgaGlQcmkgdXBkYXRlLiBUaGVcbiAgICAvLyBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBjaGVjayB0aGlzIGNvbmRpdGlvbiBhbmQgbm90IHBlcmZvcm1cbiAgICAvLyBhbm90aGVyIGhpUHJpIHVwZGF0ZS5cbiAgICBjb25zdCBoaVByaUluUHJvZ3Jlc3MgPSB0aGlzLl9oaVByaUluUHJvZ3Jlc3M7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgLy8gTWFrZSBzdXJlIHNldHRpbmcgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgYmFjayB0byBmYWxzZSBhZnRlciBgY29tcG9uZW50RGlkVXBkYXRlYFxuICAgIC8vIGlzIHRyaWdnZXJlZCB3aXRoIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlYFxuICAgIGlmIChoaVByaUluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFdlIG9ubHkgY2FsbCBgb25FbmRSZWFjaGVkYCBhZnRlciB3ZSByZW5kZXIgdGhlIGxhc3QgY2VsbCwgYnV0IHdoZW5cbiAgICAvLyBnZXRJdGVtTGF5b3V0IGlzIHByZXNlbnQsIHdlIGNhbiBzY3JvbGwgcGFzdCB0aGUgbGFzdCByZW5kZXJlZCBjZWxsLCBhbmRcbiAgICAvLyBuZXZlciB0cmlnZ2VyIGEgbmV3IGxheW91dCBvciBib3VuZHMgY2hhbmdlLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGFnYWluXG4gICAgLy8gYWZ0ZXIgcmVuZGVyaW5nIG1vcmUgY2VsbHMuXG4gICAgaWYgKGdldEl0ZW1MYXlvdXQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICAgIH1cbiAgfVxuXG4gIF9jZWxsUmVmczoge1tzdHJpbmddOiBudWxsIHwgQ2VsbFJlbmRlcmVyPGFueT59ID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9saXN0TWV0cmljczogTGlzdE1ldHJpY3NBZ2dyZWdhdG9yID0gbmV3IExpc3RNZXRyaWNzQWdncmVnYXRvcigpO1xuICBfZm9vdGVyTGVuZ3RoID0gMDtcbiAgLy8gVXNlZCBmb3IgcHJldmVudGluZyBzY3JvbGxUb0luZGV4IGZyb20gYmVpbmcgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGZvciBpbml0aWFsU2Nyb2xsSW5kZXhcbiAgX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ID0gZmFsc2U7XG4gIF9oYXNJbnRlcmFjdGVkID0gZmFsc2U7XG4gIF9oYXNNb3JlID0gZmFsc2U7XG4gIF9oYXNXYXJuZWQ6IHtbc3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcbiAgX2hlYWRlckxlbmd0aCA9IDA7XG4gIF9oaVByaUluUHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZTsgLy8gZmxhZyB0byBwcmV2ZW50IGluZmluaXRlIGhpUHJpIGNlbGwgbGltaXQgdXBkYXRlXG4gIF9pbmRpY2VzVG9LZXlzOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuICBfbGFzdEZvY3VzZWRDZWxsS2V5OiA/c3RyaW5nID0gbnVsbDtcbiAgX25lc3RlZENoaWxkTGlzdHM6IENoaWxkTGlzdENvbGxlY3Rpb248VmlydHVhbGl6ZWRMaXN0PiA9XG4gICAgbmV3IENoaWxkTGlzdENvbGxlY3Rpb24oKTtcbiAgX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q6IG51bWJlciA9IDA7XG4gIF9wZW5kaW5nVmlld2FiaWxpdHlVcGRhdGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX3ByZXZQYXJlbnRPZmZzZXQ6IG51bWJlciA9IDA7XG4gIF9zY3JvbGxNZXRyaWNzOiB7XG4gICAgZE9mZnNldDogbnVtYmVyLFxuICAgIGR0OiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgdGltZXN0YW1wOiBudW1iZXIsXG4gICAgdmVsb2NpdHk6IG51bWJlcixcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgem9vbVNjYWxlOiBudW1iZXIsXG4gIH0gPSB7XG4gICAgZE9mZnNldDogMCxcbiAgICBkdDogMTAsXG4gICAgb2Zmc2V0OiAwLFxuICAgIHRpbWVzdGFtcDogMCxcbiAgICB2ZWxvY2l0eTogMCxcbiAgICB2aXNpYmxlTGVuZ3RoOiAwLFxuICAgIHpvb21TY2FsZTogMSxcbiAgfTtcbiAgX3Njcm9sbFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+ID0gbnVsbDtcbiAgX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRDogP1RpbWVvdXRJRCA9IG51bGw7XG4gIF92aWV3YWJpbGl0eVR1cGxlczogQXJyYXk8Vmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlPiA9IFtdO1xuXG4gIF9jYXB0dXJlU2Nyb2xsUmVmID0gKHJlZjogP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+KSA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsUmVmID0gcmVmO1xuICB9O1xuXG4gIF9jb21wdXRlQmxhbmtuZXNzKCkge1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmNvbXB1dGVCbGFua25lc3MoXG4gICAgICB0aGlzLnByb3BzLFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICApO1xuICB9XG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyBQcmV2ZW50IFZpcnR1YWxpemVkTGlzdC5fb25Db250ZW50U2l6ZUNoYW5nZSBmcm9tIGJlaW5nIHRyaWdnZXJlZCBieSBhIGJ1YmJsaW5nIG9uQ29udGVudFNpemVDaGFuZ2UgZXZlbnQuXG4gICAgICAvLyBUaGlzIGNvdWxkIGxlYWQgdG8gaW50ZXJuYWwgaW5jb25zaXN0ZW5jaWVzIHdpdGhpbiBWaXJ0dWFsaXplZExpc3QuXG4gICAgICBjb25zdCB7b25Db250ZW50U2l6ZUNoYW5nZSwgLi4ub3RoZXJQcm9wc30gPSBwcm9wcztcbiAgICAgIHJldHVybiA8VmlldyB7Li4ub3RoZXJQcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcgPz8gJ3VuZGVmaW5lZCcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgIDxTY3JvbGxWaWV3XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZnJlc2hDb250cm9sPXtcbiAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sID09IG51bGwgPyAoXG4gICAgICAgICAgICAgIDxSZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgcmV0dXJuIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfVxuICB9O1xuXG4gIF9vbkNlbGxMYXlvdXQgPSAoXG4gICAgZTogTGF5b3V0Q2hhbmdlRXZlbnQsXG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGNlbGxJbmRleDogbnVtYmVyLFxuICApOiB2b2lkID0+IHtcbiAgICBjb25zdCBsYXlvdXRIYXNDaGFuZ2VkID0gdGhpcy5fbGlzdE1ldHJpY3Mubm90aWZ5Q2VsbExheW91dCh7XG4gICAgICBjZWxsSW5kZXgsXG4gICAgICBjZWxsS2V5LFxuICAgICAgbGF5b3V0OiBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgIG9yaWVudGF0aW9uOiB0aGlzLl9vcmllbnRhdGlvbigpLFxuICAgIH0pO1xuXG4gICAgaWYgKGxheW91dEhhc0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKGNlbGxLZXkpO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG4gIH07XG5cbiAgX29uQ2VsbEZvY3VzQ2FwdHVyZSA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXkgPSBjZWxsS2V5O1xuICAgIGlmIChSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncy5kZWZlckZsYXRMaXN0Rm9jdXNDaGFuZ2VSZW5kZXJVcGRhdGUoKSkge1xuICAgICAgLy8gU2NoZWR1bGUgdGhlIGNlbGxzIHRvIHJlbmRlciB1cGRhdGUgdGhlIHNhbWUgd2F5IHdlIGhhbmRsZSBzY3JvbGwgb3IgbGF5b3V0IGV2ZW50cy5cbiAgICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gIF9vbkNlbGxVbm1vdW50ID0gKGNlbGxLZXk6IHN0cmluZykgPT4ge1xuICAgIGRlbGV0ZSB0aGlzLl9jZWxsUmVmc1tjZWxsS2V5XTtcbiAgICB0aGlzLl9saXN0TWV0cmljcy5ub3RpZnlDZWxsVW5tb3VudGVkKGNlbGxLZXkpO1xuICB9O1xuXG4gIF90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2hJbkNlbGwoY2VsbEtleSwgY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSk7XG4gIH1cblxuICBtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk6IHZvaWQge1xuICAgIC8vIFRPRE8gKFQzNTU3NDUzOCk6IGZpbmROb2RlSGFuZGxlIHNvbWV0aW1lcyBjcmFzaGVzIHdpdGggXCJVbmFibGUgdG8gZmluZFxuICAgIC8vIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudFwiIGR1cmluZyBzY3JvbGxpbmdcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpLFxuICAgICAgICAoeCwgeSwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICAgIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSB0aGlzLl9zZWxlY3RPZmZzZXQoe3gsIHl9KTtcbiAgICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5ub3RpZnlMaXN0Q29udGVudExheW91dCh7XG4gICAgICAgICAgICBsYXlvdXQ6IHt3aWR0aCwgaGVpZ2h0fSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB0aGlzLl9vcmllbnRhdGlvbigpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHNjcm9sbE1ldHJpY3MgPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyhcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nZXRTY3JvbGxNZXRyaWNzKCksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IG1ldHJpY3NDaGFuZ2VkID1cbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAhPT0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCAhPT0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICBpZiAobWV0cmljc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHNjcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICAgIC8vIElmIG1ldHJpY3Mgb2YgdGhlIHNjcm9sbFZpZXcgY2hhbmdlZCwgdGhlbiB3ZSB0cmlnZ2VyZWQgcmVtZWFzdXJlIGZvciBjaGlsZCBsaXN0XG4gICAgICAgICAgICAvLyB0byBlbnN1cmUgVmlydHVhbGl6ZWRMaXN0IGhhcyB0aGUgcmlnaHQgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgICAgICAgICAgY2hpbGRMaXN0Lm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiVmlydHVhbGl6ZWRMaXN0OiBFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBtZWFzdXJpbmcgYSBsaXN0J3NcIiArXG4gICAgICAgICAgICAgICcgb2Zmc2V0IGZyb20gaXRzIGNvbnRhaW5pbmcgVmlydHVhbGl6ZWRMaXN0LicsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ21lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QgdGhyZXcgYW4gZXJyb3InLFxuICAgICAgICBlcnJvci5zdGFjayxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX29uTGF5b3V0ID0gKGU6IExheW91dENoYW5nZUV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkanVzdCBvdXIgc2Nyb2xsIG1ldHJpY3MgdG8gYmUgcmVsYXRpdmUgdG8gb3VyIGNvbnRhaW5pbmdcbiAgICAgIC8vIFZpcnR1YWxpemVkTGlzdCBiZWZvcmUgd2UgY2FuIG1ha2UgY2xhaW1zIGFib3V0IGxpc3QgaXRlbSB2aWV3YWJpbGl0eVxuICAgICAgdGhpcy5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChcbiAgICAgICAgZS5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICB9O1xuXG4gIF9vbkxheW91dEVtcHR5ID0gKGU6IExheW91dENoYW5nZUV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICB9O1xuXG4gIF9nZXRGb290ZXJDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENlbGxLZXkoKSArICctZm9vdGVyJztcbiAgfVxuXG4gIF9vbkxheW91dEZvb3RlciA9IChlOiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4ge1xuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKHRoaXMuX2dldEZvb3RlckNlbGxLZXkoKSk7XG4gICAgdGhpcy5fZm9vdGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfb25MYXlvdXRIZWFkZXIgPSAoZTogTGF5b3V0Q2hhbmdlRXZlbnQpID0+IHtcbiAgICB0aGlzLl9oZWFkZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC9cbiAgICAgICh0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgfHwgMSk7XG4gICAgY29uc3QgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goaWksIHRoaXMucHJvcHMpO1xuICAgICAgaWYgKGZyYW1lLmlzTW91bnRlZCkge1xuICAgICAgICBmcmFtZXNJbkxheW91dC5wdXNoKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd2luZG93VG9wID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICkub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lTGFzdCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICk7XG4gICAgY29uc3Qgd2luZG93TGVuID0gZnJhbWVMYXN0Lm9mZnNldCArIGZyYW1lTGFzdC5sZW5ndGggLSB3aW5kb3dUb3A7XG4gICAgY29uc3QgdmlzVG9wID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgdmlzTGVuID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHN0eWxlPXtbc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsIHN0eWxlcy5kZWJ1Z092ZXJsYXldfT5cbiAgICAgICAge2ZyYW1lc0luTGF5b3V0Lm1hcCgoZiwgaWkpID0+IChcbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAga2V5PXsnZicgKyBpaX1cbiAgICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWUsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3A6IGYub2Zmc2V0ICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZi5sZW5ndGggKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZUxhc3QsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvcDogd2luZG93VG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHdpbmRvd0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgLz5cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVWaXMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvcDogdmlzVG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHZpc0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgLz5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9XG5cbiAgX3NlbGVjdExlbmd0aChcbiAgICBtZXRyaWNzOiAkUmVhZE9ubHk8e1xuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfT4sXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgID8gbWV0cmljcy5oZWlnaHRcbiAgICAgIDogbWV0cmljcy53aWR0aDtcbiAgfVxuXG4gIF9zZWxlY3RPZmZzZXQoe3gsIHl9OiAkUmVhZE9ubHk8e3g6IG51bWJlciwgeTogbnVtYmVyLCAuLi59Pik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uKCkuaG9yaXpvbnRhbCA/IHggOiB5O1xuICB9XG5cbiAgX29yaWVudGF0aW9uKCk6IExpc3RPcmllbnRhdGlvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSxcbiAgICAgIHJ0bDogSTE4bk1hbmFnZXIuaXNSVEwsXG4gICAgfTtcbiAgfVxuXG4gIF9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvblN0YXJ0UmVhY2hlZCxcbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLFxuICAgICAgb25FbmRSZWFjaGVkLFxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIFdhaXQgdW50aWwgd2UgaGF2ZSByZWFsIG1ldHJpY3NcbiAgICBpZiAoXG4gICAgICAhdGhpcy5fbGlzdE1ldHJpY3MuaGFzQ29udGVudExlbmd0aCgpIHx8XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGFueSBwZW5kaW5nIHNjcm9sbCB1cGRhdGVzIGl0IG1lYW5zIHRoYXQgdGhlIHNjcm9sbCBtZXRyaWNzXG4gICAgLy8gYXJlIG91dCBvZiBkYXRlIGFuZCB3ZSBzaG91bGQgbm90IGNhbGwgYW55IG9mIHRoZSBlZGdlIHJlYWNoZWQgY2FsbGJhY2tzLlxuICAgIGlmICh0aGlzLnN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7dmlzaWJsZUxlbmd0aCwgb2Zmc2V0fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgbGV0IGRpc3RhbmNlRnJvbVN0YXJ0ID0gb2Zmc2V0O1xuICAgIGxldCBkaXN0YW5jZUZyb21FbmQgPVxuICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcblxuICAgIC8vIEVzcGVjaWFsbHkgd2hlbiBvRVJUIGlzIHplcm8gaXQncyBuZWNlc3NhcnkgdG8gJ2Zsb29yJyB2ZXJ5IHNtYWxsIGRpc3RhbmNlIHZhbHVlcyB0byBiZSAwXG4gICAgLy8gc2luY2UgZGVib3VuY2luZyBjYXVzZXMgdXMgdG8gbm90IGZpcmUgdGhpcyBldmVudCBmb3IgZXZlcnkgc2luZ2xlIFwicGl4ZWxcIiB3ZSBzY3JvbGwgYW5kIGNhbiB0aHVzXG4gICAgLy8gYmUgYXQgdGhlIGVkZ2Ugb2YgdGhlIGxpc3Qgd2l0aCBhIGRpc3RhbmNlIGFwcHJveGltYXRpbmcgMCBidXQgbm90IHF1aXRlIHRoZXJlLlxuICAgIGlmIChkaXN0YW5jZUZyb21TdGFydCA8IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OKSB7XG4gICAgICBkaXN0YW5jZUZyb21TdGFydCA9IDA7XG4gICAgfVxuICAgIGlmIChkaXN0YW5jZUZyb21FbmQgPCBPTl9FREdFX1JFQUNIRURfRVBTSUxPTikge1xuICAgICAgZGlzdGFuY2VGcm9tRW5kID0gMDtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBUMTIxMTcyMTcyIExvb2sgaW50byB3aHkgd2UncmUgXCJkZWZhdWx0aW5nXCIgdG8gYSB0aHJlc2hvbGQgb2YgMnB4XG4gICAgLy8gd2hlbiBvRVJUIGlzIG5vdCBwcmVzZW50IChkaWZmZXJlbnQgZnJvbSAyIHZpZXdwb3J0cyB1c2VkIGVsc2V3aGVyZSlcbiAgICBjb25zdCBERUZBVUxUX1RIUkVTSE9MRF9QWCA9IDI7XG5cbiAgICBjb25zdCBzdGFydFRocmVzaG9sZCA9XG4gICAgICBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCAhPSBudWxsXG4gICAgICAgID8gb25TdGFydFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgIDogREVGQVVMVF9USFJFU0hPTERfUFg7XG4gICAgY29uc3QgZW5kVGhyZXNob2xkID1cbiAgICAgIG9uRW5kUmVhY2hlZFRocmVzaG9sZCAhPSBudWxsXG4gICAgICAgID8gb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICA6IERFRkFVTFRfVEhSRVNIT0xEX1BYO1xuICAgIGNvbnN0IGlzV2l0aGluU3RhcnRUaHJlc2hvbGQgPSBkaXN0YW5jZUZyb21TdGFydCA8PSBzdGFydFRocmVzaG9sZDtcbiAgICBjb25zdCBpc1dpdGhpbkVuZFRocmVzaG9sZCA9IGRpc3RhbmNlRnJvbUVuZCA8PSBlbmRUaHJlc2hvbGQ7XG5cbiAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgdXNlciBqdXN0IHNjcm9sbGVkIHdpdGhpbiB0aGUgZW5kIHRocmVzaG9sZFxuICAgIC8vIGFuZCBjYWxsIG9uRW5kUmVhY2hlZCBvbmx5IG9uY2UgZm9yIGEgZ2l2ZW4gY29udGVudCBsZW5ndGgsXG4gICAgLy8gYW5kIG9ubHkgaWYgb25TdGFydFJlYWNoZWQgaXMgbm90IGJlaW5nIGV4ZWN1dGVkXG4gICAgaWYgKFxuICAgICAgb25FbmRSZWFjaGVkICYmXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9PT0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAmJlxuICAgICAgaXNXaXRoaW5FbmRUaHJlc2hvbGQgJiZcbiAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSAhPT0gdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpO1xuICAgICAgb25FbmRSZWFjaGVkKHtkaXN0YW5jZUZyb21FbmR9KTtcbiAgICB9XG5cbiAgICAvLyBOZXh0IGNoZWNrIGlmIHRoZSB1c2VyIGp1c3Qgc2Nyb2xsZWQgd2l0aGluIHRoZSBzdGFydCB0aHJlc2hvbGRcbiAgICAvLyBhbmQgY2FsbCBvblN0YXJ0UmVhY2hlZCBvbmx5IG9uY2UgZm9yIGEgZ2l2ZW4gY29udGVudCBsZW5ndGgsXG4gICAgLy8gYW5kIG9ubHkgaWYgb25FbmRSZWFjaGVkIGlzIG5vdCBiZWluZyBleGVjdXRlZFxuICAgIGlmIChcbiAgICAgIG9uU3RhcnRSZWFjaGVkICE9IG51bGwgJiZcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCA9PT0gMCAmJlxuICAgICAgaXNXaXRoaW5TdGFydFRocmVzaG9sZCAmJlxuICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpICE9PSB0aGlzLl9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoXG4gICAgKSB7XG4gICAgICB0aGlzLl9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpO1xuICAgICAgb25TdGFydFJlYWNoZWQoe2Rpc3RhbmNlRnJvbVN0YXJ0fSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHVzZXIgc2Nyb2xscyBhd2F5IGZyb20gdGhlIHN0YXJ0IG9yIGVuZCBhbmQgYmFjayBhZ2FpbixcbiAgICAvLyBjYXVzZSBvblN0YXJ0UmVhY2hlZCBvciBvbkVuZFJlYWNoZWQgdG8gYmUgdHJpZ2dlcmVkIGFnYWluXG4gICAgaWYgKCFpc1dpdGhpblN0YXJ0VGhyZXNob2xkKSB7XG4gICAgICB0aGlzLl9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgICB9XG4gICAgaWYgKCFpc1dpdGhpbkVuZFRocmVzaG9sZCkge1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNvbnRlbnRTaXplQ2hhbmdlID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5fbGlzdE1ldHJpY3Mubm90aWZ5TGlzdENvbnRlbnRMYXlvdXQoe1xuICAgICAgbGF5b3V0OiB7d2lkdGgsIGhlaWdodH0sXG4gICAgICBvcmllbnRhdGlvbjogdGhpcy5fb3JpZW50YXRpb24oKSxcbiAgICB9KTtcblxuICAgIHRoaXMuX21heWJlU2Nyb2xsVG9Jbml0aWFsU2Nyb2xsSW5kZXgod2lkdGgsIGhlaWdodCk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgc3BlY2lmaWVkIGBpbml0aWFsU2Nyb2xsSW5kZXhgIHByb3AgYWZ0ZXIgdGhlIFNjcm9sbFZpZXdcbiAgICogY29udGVudCBoYXMgYmVlbiBsYWlkIG91dCwgaWYgaXQgaXMgc3RpbGwgdmFsaWQuIE9ubHkgYSBzaW5nbGUgc2Nyb2xsIGlzXG4gICAqIHRyaWdnZXJlZCB0aHJvdWdob3V0IHRoZSBsaWZldGltZSBvZiB0aGUgbGlzdC5cbiAgICovXG4gIF9tYXliZVNjcm9sbFRvSW5pdGlhbFNjcm9sbEluZGV4KFxuICAgIGNvbnRlbnRXaWR0aDogbnVtYmVyLFxuICAgIGNvbnRlbnRIZWlnaHQ6IG51bWJlcixcbiAgKSB7XG4gICAgaWYgKFxuICAgICAgY29udGVudFdpZHRoID4gMCAmJlxuICAgICAgY29udGVudEhlaWdodCA+IDAgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID4gMCAmJlxuICAgICAgIXRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4XG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0ID09IG51bGwpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IDxcbiAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7XG4gICAgICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgICAgICBpbmRleDogbnVsbHRocm93cyh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKiBUcmFuc2xhdGVzIG1ldHJpY3MgZnJvbSBhIHNjcm9sbCBldmVudCBpbiBhIHBhcmVudCBWaXJ0dWFsaXplZExpc3QgaW50b1xuICAgKiBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgY2hpbGQgbGlzdC5cbiAgICovXG4gIF9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyA9IChtZXRyaWNzOiB7XG4gICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIC4uLlxuICB9KTogJEZsb3dGaXhNZSA9PiB7XG4gICAgLy8gT2Zmc2V0IG9mIHRoZSB0b3Agb2YgdGhlIG5lc3RlZCBsaXN0IHJlbGF0aXZlIHRvIHRoZSB0b3Agb2YgaXRzIHBhcmVudCdzIHZpZXdwb3J0XG4gICAgY29uc3Qgb2Zmc2V0ID0gbWV0cmljcy5vZmZzZXQgLSB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0O1xuICAgIC8vIENoaWxkJ3MgdmlzaWJsZSBsZW5ndGggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzXG4gICAgY29uc3QgdmlzaWJsZUxlbmd0aCA9IG1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICBjb25zdCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKTtcblxuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIG9mZnNldCxcbiAgICAgIGRPZmZzZXQsXG4gICAgfTtcbiAgfTtcblxuICB1bnN0YWJsZV9vblNjcm9sbChlOiBPYmplY3QpIHtcbiAgICB0aGlzLl9vblNjcm9sbChlKTtcbiAgfVxuXG4gIF9vblNjcm9sbCA9IChlOiBPYmplY3QpID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGwoZSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGUudGltZVN0YW1wO1xuICAgIGxldCB2aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuICAgIGxldCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQuY29udGVudFNpemUpO1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLl9vZmZzZXRGcm9tU2Nyb2xsRXZlbnQoZSk7XG4gICAgbGV0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgaWYgKHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAvLyBJZ25vcmUgc2Nyb2xsIGV2ZW50cyB1bnRpbCBvbkxheW91dCBoYXMgYmVlbiBjYWxsZWQgYW5kIHdlXG4gICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICh7dmlzaWJsZUxlbmd0aCwgY29udGVudExlbmd0aCwgb2Zmc2V0LCBkT2Zmc2V0fSA9XG4gICAgICAgIHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKHtcbiAgICAgICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGR0ID0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXBcbiAgICAgID8gTWF0aC5tYXgoMSwgdGltZXN0YW1wIC0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXApXG4gICAgICA6IDE7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBkT2Zmc2V0IC8gZHQ7XG5cbiAgICBpZiAoXG4gICAgICBkdCA+IDUwMCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCA+IDUwMCAmJlxuICAgICAgY29udGVudExlbmd0aCA+IDUgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAhdGhpcy5faGFzV2FybmVkLnBlcmZcbiAgICApIHtcbiAgICAgIGluZm9Mb2coXG4gICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFlvdSBoYXZlIGEgbGFyZ2UgbGlzdCB0aGF0IGlzIHNsb3cgdG8gdXBkYXRlIC0gbWFrZSBzdXJlIHlvdXIgJyArXG4gICAgICAgICAgJ3JlbmRlckl0ZW0gZnVuY3Rpb24gcmVuZGVycyBjb21wb25lbnRzIHRoYXQgZm9sbG93IFJlYWN0IHBlcmZvcm1hbmNlIGJlc3QgcHJhY3RpY2VzICcgK1xuICAgICAgICAgICdsaWtlIFB1cmVDb21wb25lbnQsIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgZXRjLicsXG4gICAgICAgIHtkdCwgcHJldkR0OiB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0LCBjb250ZW50TGVuZ3RofSxcbiAgICAgICk7XG4gICAgICB0aGlzLl9oYXNXYXJuZWQucGVyZiA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRm9yIGludmFsaWQgbmVnYXRpdmUgdmFsdWVzICh3LyBSVEwpLCBzZXQgdGhpcyB0byAxLlxuICAgIGNvbnN0IHpvb21TY2FsZSA9IGUubmF0aXZlRXZlbnQuem9vbVNjYWxlIDwgMCA/IDEgOiBlLm5hdGl2ZUV2ZW50Lnpvb21TY2FsZTtcbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzID0ge1xuICAgICAgZHQsXG4gICAgICBkT2Zmc2V0LFxuICAgICAgb2Zmc2V0LFxuICAgICAgdGltZXN0YW1wLFxuICAgICAgdmVsb2NpdHksXG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgem9vbVNjYWxlLFxuICAgIH07XG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZTwncGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50Jz4oc3RhdGUgPT4gKHtcbiAgICAgICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OiBzdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgLSAxLFxuICAgICAgfSkpO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG4gICAgaWYgKCF0aGlzLnByb3BzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKTtcbiAgICBpZiAodmVsb2NpdHkgIT09IDApIHtcbiAgICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmFjdGl2YXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgfTtcblxuICBfb2Zmc2V0RnJvbVNjcm9sbEV2ZW50KGU6IFNjcm9sbEV2ZW50KTogbnVtYmVyIHtcbiAgICBjb25zdCB7Y29udGVudE9mZnNldCwgY29udGVudFNpemUsIGxheW91dE1lYXN1cmVtZW50fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgY29uc3Qge2hvcml6b250YWwsIHJ0bH0gPSB0aGlzLl9vcmllbnRhdGlvbigpO1xuICAgIGlmIChob3Jpem9udGFsICYmIHJ0bCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fc2VsZWN0TGVuZ3RoKGNvbnRlbnRTaXplKSAtXG4gICAgICAgICh0aGlzLl9zZWxlY3RPZmZzZXQoY29udGVudE9mZnNldCkgK1xuICAgICAgICAgIHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXRNZWFzdXJlbWVudCkpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2VsZWN0T2Zmc2V0KGNvbnRlbnRPZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKSB7XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICAodGhpcy5fbGlzdE1ldHJpY3MuZ2V0QXZlcmFnZUNlbGxMZW5ndGgoKSA+IDAgfHxcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0ICE9IG51bGwpICYmXG4gICAgICB0aGlzLl9zaG91bGRSZW5kZXJXaXRoUHJpb3JpdHkoKSAmJlxuICAgICAgIXRoaXMuX2hpUHJpSW5Qcm9ncmVzc1xuICAgICkge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIC8vIERvbid0IHdvcnJ5IGFib3V0IGludGVyYWN0aW9ucyB3aGVuIHNjcm9sbGluZyBxdWlja2x5OyBmb2N1cyBvbiBmaWxsaW5nIGNvbnRlbnQgYXMgZmFzdFxuICAgICAgLy8gYXMgcG9zc2libGUuXG4gICAgICBpZiAodGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCAhPSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyVGltZW91dElEKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyVGltZW91dElEID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJUaW1lb3V0SUQgPSBudWxsO1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgICAgfSwgdGhpcy5wcm9wcy51cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kID8/IDUwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfc2hvdWxkUmVuZGVyV2l0aFByaW9yaXR5KCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQ7XG4gICAgY29uc3Qge29mZnNldCwgdmlzaWJsZUxlbmd0aCwgdmVsb2NpdHl9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGxldCBoaVByaSA9IGZhbHNlO1xuICAgIGNvbnN0IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkID0gb25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICB0aGlzLnByb3BzLm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgY29uc3Qgb25FbmRSZWFjaGVkVGhyZXNob2xkID0gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgdGhpcy5wcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIHN0YXJ0IG9mIHRoZSBmaXJzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGJlZm9yZSB0aGUgZmlyc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmIChmaXJzdCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc3RUb3AgPVxuICAgICAgICBvZmZzZXQgLVxuICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChmaXJzdCwgdGhpcy5wcm9wcykub2Zmc2V0O1xuICAgICAgaGlQcmkgPVxuICAgICAgICBkaXN0VG9wIDwgMCB8fFxuICAgICAgICAodmVsb2NpdHkgPCAtMiAmJlxuICAgICAgICAgIGRpc3RUb3AgPFxuICAgICAgICAgICAgZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLCB2aXNpYmxlTGVuZ3RoKSk7XG4gICAgfVxuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgZW5kIG9mIHRoZSBsYXN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYWZ0ZXIgdGhlIGxhc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmICghaGlQcmkgJiYgbGFzdCA+PSAwICYmIGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICBjb25zdCBkaXN0Qm90dG9tID1cbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3gobGFzdCwgdGhpcy5wcm9wcykub2Zmc2V0IC1cbiAgICAgICAgKG9mZnNldCArIHZpc2libGVMZW5ndGgpO1xuICAgICAgaGlQcmkgPVxuICAgICAgICBkaXN0Qm90dG9tIDwgMCB8fFxuICAgICAgICAodmVsb2NpdHkgPiAyICYmXG4gICAgICAgICAgZGlzdEJvdHRvbSA8XG4gICAgICAgICAgICBnZXRTY3JvbGxpbmdUaHJlc2hvbGQob25FbmRSZWFjaGVkVGhyZXNob2xkLCB2aXNpYmxlTGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhpUHJpO1xuICB9XG5cbiAgdW5zdGFibGVfb25TY3JvbGxCZWdpbkRyYWcoZTogU2Nyb2xsRXZlbnQpIHtcbiAgICB0aGlzLl9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfVxuXG4gIF9vblNjcm9sbEJlZ2luRHJhZyA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIHVuc3RhYmxlX29uU2Nyb2xsRW5kRHJhZyhlOiBTY3JvbGxFdmVudCkge1xuICAgIHRoaXMuX29uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfVxuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGxFbmREcmFnKGUpO1xuICAgIH0pO1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IHRoaXMuX3NlbGVjdE9mZnNldCh2ZWxvY2l0eSk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICB1bnN0YWJsZV9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZTogU2Nyb2xsRXZlbnQpIHtcbiAgICB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH1cblxuICBfb25Nb21lbnR1bVNjcm9sbEJlZ2luID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgfTtcblxuICB1bnN0YWJsZV9vbk1vbWVudHVtU2Nyb2xsRW5kKGU6IFNjcm9sbEV2ZW50KSB7XG4gICAgdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfVxuXG4gIF9vbk1vbWVudHVtU2Nyb2xsRW5kID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH07XG5cbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZTwnY2VsbHNBcm91bmRWaWV3cG9ydCcgfCAncmVuZGVyTWFzayc+KChzdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxzQXJvdW5kVmlld3BvcnQgPSB0aGlzLl9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0KFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlbmRlck1hc2sgPSBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgICAgIHByb3BzLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMocHJvcHMpLFxuICAgICAgKTtcblxuICAgICAgaWYgKFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9PT0gc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICYmXG4gICAgICAgIHJlbmRlck1hc2suZXF1YWxzKHN0YXRlLnJlbmRlck1hc2spXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7Y2VsbHNBcm91bmRWaWV3cG9ydCwgcmVuZGVyTWFza307XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGlzVmlld2FibGU6IGJvb2xlYW4sXG4gICAgcHJvcHM6IENlbGxNZXRyaWNQcm9wcyxcbiAgICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gICkgPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtfSA9IHByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXgsXG4gICAgICBpdGVtLFxuICAgICAga2V5OiBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpbmRleCwgcHJvcHMpLFxuICAgICAgaXNWaWV3YWJsZSxcbiAgICB9O1xuICB9O1xuXG4gIF9fZ2V0TGlzdE1ldHJpY3MoKTogTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIHtcbiAgICByZXR1cm4gdGhpcy5fbGlzdE1ldHJpY3M7XG4gIH1cblxuICBfZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zID0gKFxuICAgIHByb3BzOiBDZWxsTWV0cmljUHJvcHMsXG4gICk6ICRSZWFkT25seUFycmF5PHtcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgfT4gPT4ge1xuICAgIC8vIEtlZXAgYSB2aWV3cG9ydCdzIHdvcnRoIG9mIGNvbnRlbnQgYXJvdW5kIHRoZSBsYXN0IGZvY3VzZWQgY2VsbCB0byBhbGxvd1xuICAgIC8vIHJhbmRvbSBuYXZpZ2F0aW9uIGFyb3VuZCBpdCB3aXRob3V0IGFueSBibGFua2luZy4gRS5nLiB0YWJiaW5nIGZyb20gb25lXG4gICAgLy8gZm9jdXNlZCBpdGVtIG91dCBvZiB2aWV3cG9ydCB0byBhbm90aGVyLlxuICAgIGlmIChcbiAgICAgICEodGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ICYmIHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdEZvY3VzZWRDZWxsUmVuZGVyZXIgPSB0aGlzLl9jZWxsUmVmc1t0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXldO1xuICAgIGNvbnN0IGZvY3VzZWRDZWxsSW5kZXggPSBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlci5wcm9wcy5pbmRleDtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICAvLyBUaGUgbGFzdCBjZWxsIHdlIHJlbmRlcmVkIG1heSBiZSBhdCBhIG5ldyBpbmRleC4gQmFpbCBpZiB3ZSBkb24ndCBrbm93XG4gICAgLy8gd2hlcmUgaXQgaXMuXG4gICAgaWYgKFxuICAgICAgZm9jdXNlZENlbGxJbmRleCA+PSBpdGVtQ291bnQgfHxcbiAgICAgIFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgZm9jdXNlZENlbGxJbmRleCkgIT09XG4gICAgICAgIHRoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleVxuICAgICkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGxldCBmaXJzdCA9IGZvY3VzZWRDZWxsSW5kZXg7XG4gICAgbGV0IGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSBmaXJzdCAtIDE7XG4gICAgICBpID49IDAgJiYgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgPCB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICBpLS1cbiAgICApIHtcbiAgICAgIGZpcnN0LS07XG4gICAgICBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCArPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApLmxlbmd0aDtcbiAgICB9XG5cbiAgICBsZXQgbGFzdCA9IGZvY3VzZWRDZWxsSW5kZXg7XG4gICAgbGV0IGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgPSAwO1xuICAgIGZvciAoXG4gICAgICBsZXQgaSA9IGxhc3QgKyAxO1xuICAgICAgaSA8IGl0ZW1Db3VudCAmJlxuICAgICAgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCA8IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIGkrK1xuICAgICkge1xuICAgICAgbGFzdCsrO1xuICAgICAgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCArPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gW3tmaXJzdCwgbGFzdH1dO1xuICB9O1xuXG4gIF91cGRhdGVWaWV3YWJsZUl0ZW1zKFxuICAgIHByb3BzOiBDZWxsTWV0cmljUHJvcHMsXG4gICAgY2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICkge1xuICAgIC8vIElmIHdlIGhhdmUgYW55IHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZXMgaXQgbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIG1ldHJpY3NcbiAgICAvLyBhcmUgb3V0IG9mIGRhdGUgYW5kIHdlIHNob3VsZCBub3QgY2FsbCBhbnkgb2YgdGhlIHZpc2liaWxpdHkgY2FsbGJhY2tzLlxuICAgIGlmICh0aGlzLnN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5vblVwZGF0ZShcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0LFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLFxuICAgICAgICB0aGlzLl9jcmVhdGVWaWV3VG9rZW4sXG4gICAgICAgIHR1cGxlLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgdmVydGljYWxseUludmVydGVkOlxuICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICAgID8ge3RyYW5zZm9ybTogW3tzY2FsZTogLTF9XX1cbiAgICAgIDoge3RyYW5zZm9ybTogW3tzY2FsZVk6IC0xfV19LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVg6IC0xfV0sXG4gIH0sXG4gIGRlYnVnOiB7XG4gICAgZmxleDogMSxcbiAgfSxcbiAgZGVidWdPdmVybGF5QmFzZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgfSxcbiAgZGVidWdPdmVybGF5OiB7XG4gICAgYm90dG9tOiAwLFxuICAgIHdpZHRoOiAyMCxcbiAgICBib3JkZXJDb2xvcjogJ2JsdWUnLFxuICAgIGJvcmRlcldpZHRoOiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZToge1xuICAgIGxlZnQ6IDAsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnb3JhbmdlJyxcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVMYXN0OiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVWaXM6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAncmVkJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBWaXJ0dWFsaXplZExpc3Q7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUEyQkEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsZUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsb0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLGVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLHNCQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSx1QkFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sa0JBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLDRCQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyx1QkFBQSxHQUFBVCxPQUFBO0FBS0EsSUFBQVUscUJBQUEsR0FBQVYsT0FBQTtBQVFBLElBQUFXLGdCQUFBLEdBQUFYLE9BQUE7QUFJQSxJQUFBWSxVQUFBLEdBQUFiLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYSxXQUFBLEdBQUFkLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYyxNQUFBLEdBQUFDLHVCQUFBLENBQUFmLE9BQUE7QUFBK0IsSUFBQWdCLEtBQUEsR0FBQUYsTUFBQTtBQUUvQixJQUFBRyxZQUFBLEdBQUFqQixPQUFBO0FBU0EsSUFBQWtCLHVCQUFBLEdBQUFILHVCQUFBLENBQUFmLE9BQUE7QUFBeUcsSUFBQW1CLFdBQUEsR0FBQW5CLE9BQUE7QUFBQSxJQUFBb0IsU0FBQTtBQUFBLFNBQUFMLHdCQUFBTSxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBUix1QkFBQSxZQUFBQSx3QkFBQU0sQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxTQUFBUSxDQUFBLE1BQUFGLENBQUEsR0FBQUwsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsUUFBQUcsQ0FBQSxDQUFBSyxHQUFBLENBQUFYLENBQUEsVUFBQU0sQ0FBQSxDQUFBTSxHQUFBLENBQUFaLENBQUEsR0FBQU0sQ0FBQSxDQUFBTyxHQUFBLENBQUFiLENBQUEsRUFBQVEsQ0FBQSxjQUFBTSxFQUFBLElBQUFkLENBQUEsZ0JBQUFjLEVBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLEVBQUEsT0FBQVAsQ0FBQSxJQUFBRCxDQUFBLEdBQUFXLE1BQUEsQ0FBQUMsY0FBQSxLQUFBRCxNQUFBLENBQUFFLHdCQUFBLENBQUFuQixDQUFBLEVBQUFjLEVBQUEsT0FBQVAsQ0FBQSxDQUFBSyxHQUFBLElBQUFMLENBQUEsQ0FBQU0sR0FBQSxJQUFBUCxDQUFBLENBQUFFLENBQUEsRUFBQU0sRUFBQSxFQUFBUCxDQUFBLElBQUFDLENBQUEsQ0FBQU0sRUFBQSxJQUFBZCxDQUFBLENBQUFjLEVBQUEsV0FBQU4sQ0FBQSxLQUFBUixDQUFBLEVBQUFDLENBQUE7QUFBQSxTQUFBbUIsV0FBQW5CLENBQUEsRUFBQUssQ0FBQSxFQUFBTixDQUFBLFdBQUFNLENBQUEsT0FBQWUsZ0JBQUEsQ0FBQVgsT0FBQSxFQUFBSixDQUFBLE9BQUFnQiwyQkFBQSxDQUFBWixPQUFBLEVBQUFULENBQUEsRUFBQXNCLHlCQUFBLEtBQUFDLE9BQUEsQ0FBQUMsU0FBQSxDQUFBbkIsQ0FBQSxFQUFBTixDQUFBLFlBQUFxQixnQkFBQSxDQUFBWCxPQUFBLEVBQUFULENBQUEsRUFBQXlCLFdBQUEsSUFBQXBCLENBQUEsQ0FBQXFCLEtBQUEsQ0FBQTFCLENBQUEsRUFBQUQsQ0FBQTtBQUFBLFNBQUF1QiwwQkFBQSxjQUFBdEIsQ0FBQSxJQUFBMkIsT0FBQSxDQUFBQyxTQUFBLENBQUFDLE9BQUEsQ0FBQWQsSUFBQSxDQUFBUSxPQUFBLENBQUFDLFNBQUEsQ0FBQUcsT0FBQSxpQ0FBQTNCLENBQUEsYUFBQXNCLHlCQUFBLFlBQUFBLDBCQUFBLGFBQUF0QixDQUFBO0FBSXpHLElBQU04Qix1QkFBdUIsR0FBRyxLQUFLO0FBRXJDLElBQUlDLGdCQUFnQixHQUFHLEtBQUs7QUFDNUIsSUFBSUMseUJBQWlDLEdBQUcsRUFBRTtBQXFCMUMsU0FBU0MscUJBQXFCQSxDQUFDQyxTQUFpQixFQUFFQyxhQUFxQixFQUFFO0VBQ3ZFLE9BQVFELFNBQVMsR0FBR0MsYUFBYSxHQUFJLENBQUM7QUFDeEM7QUFBQyxJQStCS0MsZUFBZSxhQUFBQyxxQkFBQTtFQTJQbkIsU0FBQUQsZ0JBQVlFLE1BQTJCLEVBQUU7SUFBQSxJQUFBQyxxQkFBQSxFQUFBQyxzQkFBQTtJQUFBLElBQUFDLEtBQUE7SUFBQSxJQUFBQyxnQkFBQSxDQUFBakMsT0FBQSxRQUFBMkIsZUFBQTtJQUN2Q0ssS0FBQSxHQUFBdEIsVUFBQSxPQUFBaUIsZUFBQSxHQUFNRSxNQUFLO0lBQUVHLEtBQUEsQ0FsQ2ZFLGlCQUFpQixHQUFHLFlBQU07TUFDeEIsT0FBT0YsS0FBQSxDQUFLRyxjQUFjO0lBQzVCLENBQUM7SUFBQUgsS0FBQSxDQU9ESSwwQkFBMEIsR0FBRyxZQUFNO01BQ2pDLElBQUlKLEtBQUEsQ0FBS0ssNEJBQTRCLENBQUMsQ0FBQyxFQUFFO1FBQ3ZDLE9BQU9MLEtBQUEsQ0FBS00sT0FBTyxDQUFDQyx5QkFBeUIsQ0FBQyxDQUFDO01BQ2pELENBQUMsTUFBTTtRQUNMLE9BQUFQLEtBQUE7TUFDRjtJQUNGLENBQUM7SUFBQUEsS0FBQSxDQUVEUSxzQkFBc0IsR0FBRyxVQUFDQyxTQUd6QixFQUFXO01BQ1ZULEtBQUEsQ0FBS1UsaUJBQWlCLENBQUNDLEdBQUcsQ0FBQ0YsU0FBUyxDQUFDRyxHQUFHLEVBQUVILFNBQVMsQ0FBQ0ksT0FBTyxDQUFDO01BQzVELElBQUliLEtBQUEsQ0FBS2MsY0FBYyxFQUFFO1FBQ3ZCTCxTQUFTLENBQUNHLEdBQUcsQ0FBQ0csaUJBQWlCLENBQUMsQ0FBQztNQUNuQztJQUNGLENBQUM7SUFBQWYsS0FBQSxDQUVEZ0Isd0JBQXdCLEdBQUcsVUFBQ1AsU0FBaUMsRUFBVztNQUN0RVQsS0FBQSxDQUFLVSxpQkFBaUIsQ0FBQ08sTUFBTSxDQUFDUixTQUFTLENBQUNHLEdBQUcsQ0FBQztJQUM5QyxDQUFDO0lBQUFaLEtBQUEsQ0FpZURrQixtQkFBbUIsR0FBRyxVQUFDQyxJQUFvQixFQUFFQyxRQUFnQixFQUFLO01BQ2hFRCxJQUFJLENBQUNFLE9BQU8sQ0FBQyxVQUFBQyxHQUFHLEVBQUk7UUFDbEIsSUFBTVYsR0FBRyxHQUFHVSxHQUFHLElBQUksSUFBSSxJQUFJdEIsS0FBQSxDQUFLdUIsU0FBUyxDQUFDRCxHQUFHLENBQUM7UUFDOUNWLEdBQUcsSUFBSUEsR0FBRyxDQUFDWSxvQkFBb0IsQ0FBQ0osUUFBUSxDQUFDO01BQzNDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFBQXBCLEtBQUEsQ0FVRHlCLGFBQWEsR0FBRyxVQUFDQyxVQUFtQjtNQUFBLE9BQ2xDQSxVQUFVLEdBQUcsUUFBUSxHQUFHLE9BQU87SUFBQTtJQUFBMUIsS0FBQSxDQTBWakN1QixTQUFTLEdBQXlDLENBQUMsQ0FBQztJQUFBdkIsS0FBQSxDQUVwRDJCLFlBQVksR0FBMEIsSUFBSUMsOEJBQXFCLENBQUMsQ0FBQztJQUFBNUIsS0FBQSxDQUNqRTZCLGFBQWEsR0FBRyxDQUFDO0lBQUE3QixLQUFBLENBRWpCOEIsaUNBQWlDLEdBQUcsS0FBSztJQUFBOUIsS0FBQSxDQUN6Q2MsY0FBYyxHQUFHLEtBQUs7SUFBQWQsS0FBQSxDQUN0QitCLFFBQVEsR0FBRyxLQUFLO0lBQUEvQixLQUFBLENBQ2hCZ0MsVUFBVSxHQUF3QixDQUFDLENBQUM7SUFBQWhDLEtBQUEsQ0FDcENpQyxhQUFhLEdBQUcsQ0FBQztJQUFBakMsS0FBQSxDQUNqQmtDLGdCQUFnQixHQUFZLEtBQUs7SUFBQWxDLEtBQUEsQ0FDakNtQyxjQUFjLEdBQXdCLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0lBQUFwQyxLQUFBLENBQy9DcUMsbUJBQW1CLEdBQVksSUFBSTtJQUFBckMsS0FBQSxDQUNuQ1UsaUJBQWlCLEdBQ2YsSUFBSTRCLDRCQUFtQixDQUFDLENBQUM7SUFBQXRDLEtBQUEsQ0FDM0J1QyxnQ0FBZ0MsR0FBVyxDQUFDO0lBQUF2QyxLQUFBLENBQzVDd0MseUJBQXlCLEdBQVksS0FBSztJQUFBeEMsS0FBQSxDQUMxQ3lDLGlCQUFpQixHQUFXLENBQUM7SUFBQXpDLEtBQUEsQ0FDN0JHLGNBQWMsR0FRVjtNQUNGdUMsT0FBTyxFQUFFLENBQUM7TUFDVkMsRUFBRSxFQUFFLEVBQUU7TUFDTkMsTUFBTSxFQUFFLENBQUM7TUFDVEMsU0FBUyxFQUFFLENBQUM7TUFDWkMsUUFBUSxFQUFFLENBQUM7TUFDWHBELGFBQWEsRUFBRSxDQUFDO01BQ2hCcUQsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUFBL0MsS0FBQSxDQUNEZ0QsVUFBVSxHQUF5QyxJQUFJO0lBQUFoRCxLQUFBLENBQ3ZEaUQsMEJBQTBCLEdBQUcsQ0FBQztJQUFBakQsS0FBQSxDQUM5QmtELHdCQUF3QixHQUFHLENBQUM7SUFBQWxELEtBQUEsQ0FDNUJtRCw2QkFBNkIsR0FBZSxJQUFJO0lBQUFuRCxLQUFBLENBQ2hEb0Qsa0JBQWtCLEdBQTBDLEVBQUU7SUFBQXBELEtBQUEsQ0FFOURxRCxpQkFBaUIsR0FBRyxVQUFDekMsR0FBeUMsRUFBSztNQUNqRVosS0FBQSxDQUFLZ0QsVUFBVSxHQUFHcEMsR0FBRztJQUN2QixDQUFDO0lBQUFaLEtBQUEsQ0FZRHNELDZCQUE2QixHQUFHLFVBQUF6RCxLQUFLLEVBQUk7TUFDdkMsSUFBTTBELFNBQVMsR0FBRzFELEtBQUssQ0FBQzBELFNBQVM7TUFDakMsSUFBSXZELEtBQUEsQ0FBS0ssNEJBQTRCLENBQUMsQ0FBQyxFQUFFO1FBR3ZDLElBQU9tRCxtQkFBbUIsR0FBbUIzRCxLQUFLLENBQTNDMkQsbUJBQW1CO1VBQUtDLFVBQVUsT0FBQUMseUJBQUEsQ0FBQTFGLE9BQUEsRUFBSTZCLEtBQUssRUFBQXhDLFNBQUE7UUFDbEQsT0FBTyxJQUFBRCxXQUFBLENBQUF1RyxHQUFBLEVBQUN6RyxZQUFBLENBQUEwRyxJQUFJLEVBQUFyRixNQUFBLENBQUFzRixNQUFBLEtBQUtKLFVBQVUsQ0FBRyxDQUFDO01BQ2pDLENBQUMsTUFBTSxJQUFJRixTQUFTLEVBQUU7UUFBQSxJQUFBTyxpQkFBQTtRQUNwQixJQUFBQyxrQkFBUyxFQUNQLE9BQU9sRSxLQUFLLENBQUNtRSxVQUFVLEtBQUssU0FBUyxFQUNyQyxtRkFBbUYsR0FDakZDLElBQUksQ0FBQ0MsU0FBUyxFQUFBSixpQkFBQSxHQUFDakUsS0FBSyxDQUFDbUUsVUFBVSxZQUFBRixpQkFBQSxHQUFJLFdBQVcsQ0FBQyxHQUMvQyxHQUNKLENBQUM7UUFDRCxPQUdFLElBQUExRyxXQUFBLENBQUF1RyxHQUFBLEVBQUN6RyxZQUFBLENBQUFpSCxVQUFVLEVBQUE1RixNQUFBLENBQUFzRixNQUFBLEtBQ0xoRSxLQUFLO1VBQ1R1RSxjQUFjLEVBQ1p2RSxLQUFLLENBQUN1RSxjQUFjLElBQUksSUFBSSxHQUMxQixJQUFBaEgsV0FBQSxDQUFBdUcsR0FBQSxFQUFDekcsWUFBQSxDQUFBbUgsY0FBYztZQUViTCxVQUFVLEVBQUVuRSxLQUFLLENBQUNtRSxVQUFXO1lBQzdCVCxTQUFTLEVBQUVBLFNBQVU7WUFDckJlLGtCQUFrQixFQUFFekUsS0FBSyxDQUFDeUU7VUFBbUIsQ0FDOUMsQ0FBQyxHQUVGekUsS0FBSyxDQUFDdUU7UUFFVCxFQUNGLENBQUM7TUFFTixDQUFDLE1BQU07UUFHTCxPQUFPLElBQUFoSCxXQUFBLENBQUF1RyxHQUFBLEVBQUN6RyxZQUFBLENBQUFpSCxVQUFVLEVBQUE1RixNQUFBLENBQUFzRixNQUFBLEtBQUtoRSxLQUFLLENBQUcsQ0FBQztNQUNsQztJQUNGLENBQUM7SUFBQUcsS0FBQSxDQUVEdUUsYUFBYSxHQUFHLFVBQ2RqSCxDQUFvQixFQUNwQnVELE9BQWUsRUFDZjJELFNBQWlCLEVBQ1I7TUFDVCxJQUFNQyxnQkFBZ0IsR0FBR3pFLEtBQUEsQ0FBSzJCLFlBQVksQ0FBQytDLGdCQUFnQixDQUFDO1FBQzFERixTQUFTLEVBQVRBLFNBQVM7UUFDVDNELE9BQU8sRUFBUEEsT0FBTztRQUNQOEQsTUFBTSxFQUFFckgsQ0FBQyxDQUFDc0gsV0FBVyxDQUFDRCxNQUFNO1FBQzVCRSxXQUFXLEVBQUU3RSxLQUFBLENBQUs4RSxZQUFZLENBQUM7TUFDakMsQ0FBQyxDQUFDO01BRUYsSUFBSUwsZ0JBQWdCLEVBQUU7UUFDcEJ6RSxLQUFBLENBQUsrRSw0QkFBNEIsQ0FBQyxDQUFDO01BQ3JDO01BRUEvRSxLQUFBLENBQUtnRixvQ0FBb0MsQ0FBQ25FLE9BQU8sQ0FBQztNQUNsRGIsS0FBQSxDQUFLaUYsaUJBQWlCLENBQUMsQ0FBQztNQUN4QmpGLEtBQUEsQ0FBS2tGLG9CQUFvQixDQUFDbEYsS0FBQSxDQUFLSCxLQUFLLEVBQUVHLEtBQUEsQ0FBS21GLEtBQUssQ0FBQ0MsbUJBQW1CLENBQUM7SUFDdkUsQ0FBQztJQUFBcEYsS0FBQSxDQUVEcUYsbUJBQW1CLEdBQUcsVUFBQ3hFLE9BQWUsRUFBSztNQUN6Q2IsS0FBQSxDQUFLcUMsbUJBQW1CLEdBQUd4QixPQUFPO01BQ2xDLElBQUkxRCx1QkFBdUIsQ0FBQ21JLG9DQUFvQyxDQUFDLENBQUMsRUFBRTtRQUVsRXRGLEtBQUEsQ0FBSytFLDRCQUE0QixDQUFDLENBQUM7TUFDckMsQ0FBQyxNQUFNO1FBQ0wvRSxLQUFBLENBQUt1RixvQkFBb0IsQ0FBQyxDQUFDO01BQzdCO0lBQ0YsQ0FBQztJQUFBdkYsS0FBQSxDQUVEd0YsY0FBYyxHQUFHLFVBQUMzRSxPQUFlLEVBQUs7TUFDcEMsT0FBT2IsS0FBQSxDQUFLdUIsU0FBUyxDQUFDVixPQUFPLENBQUM7TUFDOUJiLEtBQUEsQ0FBSzJCLFlBQVksQ0FBQzhELG1CQUFtQixDQUFDNUUsT0FBTyxDQUFDO0lBQ2hELENBQUM7SUFBQWIsS0FBQSxDQTJERDBGLFNBQVMsR0FBRyxVQUFDcEksQ0FBb0IsRUFBSztNQUNwQyxJQUFJMEMsS0FBQSxDQUFLSyw0QkFBNEIsQ0FBQyxDQUFDLEVBQUU7UUFHdkNMLEtBQUEsQ0FBSzJGLHFDQUFxQyxDQUFDLENBQUM7TUFDOUMsQ0FBQyxNQUFNO1FBQ0wzRixLQUFBLENBQUtHLGNBQWMsQ0FBQ1QsYUFBYSxHQUFHTSxLQUFBLENBQUs0RixhQUFhLENBQ3BEdEksQ0FBQyxDQUFDc0gsV0FBVyxDQUFDRCxNQUNoQixDQUFDO01BQ0g7TUFDQTNFLEtBQUEsQ0FBS0gsS0FBSyxDQUFDZ0csUUFBUSxJQUFJN0YsS0FBQSxDQUFLSCxLQUFLLENBQUNnRyxRQUFRLENBQUN2SSxDQUFDLENBQUM7TUFDN0MwQyxLQUFBLENBQUsrRSw0QkFBNEIsQ0FBQyxDQUFDO01BQ25DL0UsS0FBQSxDQUFLOEYsdUJBQXVCLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBQUE5RixLQUFBLENBRUQrRixjQUFjLEdBQUcsVUFBQ3pJLENBQW9CLEVBQUs7TUFDekMwQyxLQUFBLENBQUtILEtBQUssQ0FBQ2dHLFFBQVEsSUFBSTdGLEtBQUEsQ0FBS0gsS0FBSyxDQUFDZ0csUUFBUSxDQUFDdkksQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFBQTBDLEtBQUEsQ0FNRGdHLGVBQWUsR0FBRyxVQUFDMUksQ0FBb0IsRUFBSztNQUMxQzBDLEtBQUEsQ0FBS2dGLG9DQUFvQyxDQUFDaEYsS0FBQSxDQUFLaUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO01BQ25FakcsS0FBQSxDQUFLNkIsYUFBYSxHQUFHN0IsS0FBQSxDQUFLNEYsYUFBYSxDQUFDdEksQ0FBQyxDQUFDc0gsV0FBVyxDQUFDRCxNQUFNLENBQUM7SUFDL0QsQ0FBQztJQUFBM0UsS0FBQSxDQUVEa0csZUFBZSxHQUFHLFVBQUM1SSxDQUFvQixFQUFLO01BQzFDMEMsS0FBQSxDQUFLaUMsYUFBYSxHQUFHakMsS0FBQSxDQUFLNEYsYUFBYSxDQUFDdEksQ0FBQyxDQUFDc0gsV0FBVyxDQUFDRCxNQUFNLENBQUM7SUFDL0QsQ0FBQztJQUFBM0UsS0FBQSxDQWtMRG1HLG9CQUFvQixHQUFHLFVBQUNDLEtBQWEsRUFBRUMsTUFBYyxFQUFLO01BQ3hEckcsS0FBQSxDQUFLMkIsWUFBWSxDQUFDMkUsdUJBQXVCLENBQUM7UUFDeEMzQixNQUFNLEVBQUU7VUFBQ3lCLEtBQUssRUFBTEEsS0FBSztVQUFFQyxNQUFNLEVBQU5BO1FBQU0sQ0FBQztRQUN2QnhCLFdBQVcsRUFBRTdFLEtBQUEsQ0FBSzhFLFlBQVksQ0FBQztNQUNqQyxDQUFDLENBQUM7TUFFRjlFLEtBQUEsQ0FBS3VHLGdDQUFnQyxDQUFDSCxLQUFLLEVBQUVDLE1BQU0sQ0FBQztNQUVwRCxJQUFJckcsS0FBQSxDQUFLSCxLQUFLLENBQUMyRCxtQkFBbUIsRUFBRTtRQUNsQ3hELEtBQUEsQ0FBS0gsS0FBSyxDQUFDMkQsbUJBQW1CLENBQUM0QyxLQUFLLEVBQUVDLE1BQU0sQ0FBQztNQUMvQztNQUNBckcsS0FBQSxDQUFLK0UsNEJBQTRCLENBQUMsQ0FBQztNQUNuQy9FLEtBQUEsQ0FBSzhGLHVCQUF1QixDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUFBOUYsS0FBQSxDQXNDRHdHLDJCQUEyQixHQUFHLFVBQUNDLE9BSTlCLEVBQWlCO01BRWhCLElBQU03RCxNQUFNLEdBQUc2RCxPQUFPLENBQUM3RCxNQUFNLEdBQUc1QyxLQUFBLENBQUt1QyxnQ0FBZ0M7TUFFckUsSUFBTTdDLGFBQWEsR0FBRytHLE9BQU8sQ0FBQy9HLGFBQWE7TUFDM0MsSUFBTWdELE9BQU8sR0FBR0UsTUFBTSxHQUFHNUMsS0FBQSxDQUFLRyxjQUFjLENBQUN5QyxNQUFNO01BQ25ELElBQU04RCxhQUFhLEdBQUcxRyxLQUFBLENBQUsyQixZQUFZLENBQUNnRixnQkFBZ0IsQ0FBQyxDQUFDO01BRTFELE9BQU87UUFDTGpILGFBQWEsRUFBYkEsYUFBYTtRQUNiZ0gsYUFBYSxFQUFiQSxhQUFhO1FBQ2I5RCxNQUFNLEVBQU5BLE1BQU07UUFDTkYsT0FBTyxFQUFQQTtNQUNGLENBQUM7SUFDSCxDQUFDO0lBQUExQyxLQUFBLENBTUQ0RyxTQUFTLEdBQUcsVUFBQ3RKLENBQVMsRUFBSztNQUN6QjBDLEtBQUEsQ0FBS1UsaUJBQWlCLENBQUNXLE9BQU8sQ0FBQyxVQUFBWixTQUFTLEVBQUk7UUFDMUNBLFNBQVMsQ0FBQ21HLFNBQVMsQ0FBQ3RKLENBQUMsQ0FBQztNQUN4QixDQUFDLENBQUM7TUFDRixJQUFJMEMsS0FBQSxDQUFLSCxLQUFLLENBQUNnSCxRQUFRLEVBQUU7UUFDdkI3RyxLQUFBLENBQUtILEtBQUssQ0FBQ2dILFFBQVEsQ0FBQ3ZKLENBQUMsQ0FBQztNQUN4QjtNQUNBLElBQU11RixTQUFTLEdBQUd2RixDQUFDLENBQUN3SixTQUFTO01BQzdCLElBQUlwSCxhQUFhLEdBQUdNLEtBQUEsQ0FBSzRGLGFBQWEsQ0FBQ3RJLENBQUMsQ0FBQ3NILFdBQVcsQ0FBQ21DLGlCQUFpQixDQUFDO01BQ3ZFLElBQUlMLGFBQWEsR0FBRzFHLEtBQUEsQ0FBSzRGLGFBQWEsQ0FBQ3RJLENBQUMsQ0FBQ3NILFdBQVcsQ0FBQ29DLFdBQVcsQ0FBQztNQUNqRSxJQUFJcEUsTUFBTSxHQUFHNUMsS0FBQSxDQUFLaUgsc0JBQXNCLENBQUMzSixDQUFDLENBQUM7TUFDM0MsSUFBSW9GLE9BQU8sR0FBR0UsTUFBTSxHQUFHNUMsS0FBQSxDQUFLRyxjQUFjLENBQUN5QyxNQUFNO01BRWpELElBQUk1QyxLQUFBLENBQUtLLDRCQUE0QixDQUFDLENBQUMsRUFBRTtRQUN2QyxJQUFJTCxLQUFBLENBQUsyQixZQUFZLENBQUNnRixnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFO1VBRzlDO1FBQ0Y7UUFBQyxJQUFBTyxxQkFBQSxHQUVDbEgsS0FBQSxDQUFLd0csMkJBQTJCLENBQUM7VUFDL0I5RyxhQUFhLEVBQWJBLGFBQWE7VUFDYmtELE1BQU0sRUFBTkE7UUFDRixDQUFDLENBQUM7UUFKRmxELGFBQWEsR0FBQXdILHFCQUFBLENBQWJ4SCxhQUFhO1FBQUVnSCxhQUFhLEdBQUFRLHFCQUFBLENBQWJSLGFBQWE7UUFBRTlELE1BQU0sR0FBQXNFLHFCQUFBLENBQU50RSxNQUFNO1FBQUVGLE9BQU8sR0FBQXdFLHFCQUFBLENBQVB4RSxPQUFPO01BS2pEO01BRUEsSUFBTUMsRUFBRSxHQUFHM0MsS0FBQSxDQUFLRyxjQUFjLENBQUMwQyxTQUFTLEdBQ3BDc0UsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxFQUFFdkUsU0FBUyxHQUFHN0MsS0FBQSxDQUFLRyxjQUFjLENBQUMwQyxTQUFTLENBQUMsR0FDdEQsQ0FBQztNQUNMLElBQU1DLFFBQVEsR0FBR0osT0FBTyxHQUFHQyxFQUFFO01BRTdCLElBQ0VBLEVBQUUsR0FBRyxHQUFHLElBQ1IzQyxLQUFBLENBQUtHLGNBQWMsQ0FBQ3dDLEVBQUUsR0FBRyxHQUFHLElBQzVCK0QsYUFBYSxHQUFHLENBQUMsR0FBR2hILGFBQWEsSUFDakMsQ0FBQ00sS0FBQSxDQUFLZ0MsVUFBVSxDQUFDcUYsSUFBSSxFQUNyQjtRQUNBLElBQUFDLGdCQUFPLEVBQ0wsaUZBQWlGLEdBQy9FLHNGQUFzRixHQUN0RixpREFBaUQsRUFDbkQ7VUFBQzNFLEVBQUUsRUFBRkEsRUFBRTtVQUFFNEUsTUFBTSxFQUFFdkgsS0FBQSxDQUFLRyxjQUFjLENBQUN3QyxFQUFFO1VBQUUrRCxhQUFhLEVBQWJBO1FBQWEsQ0FDcEQsQ0FBQztRQUNEMUcsS0FBQSxDQUFLZ0MsVUFBVSxDQUFDcUYsSUFBSSxHQUFHLElBQUk7TUFDN0I7TUFHQSxJQUFNdEUsU0FBUyxHQUFHekYsQ0FBQyxDQUFDc0gsV0FBVyxDQUFDN0IsU0FBUyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUd6RixDQUFDLENBQUNzSCxXQUFXLENBQUM3QixTQUFTO01BQzNFL0MsS0FBQSxDQUFLRyxjQUFjLEdBQUc7UUFDcEJ3QyxFQUFFLEVBQUZBLEVBQUU7UUFDRkQsT0FBTyxFQUFQQSxPQUFPO1FBQ1BFLE1BQU0sRUFBTkEsTUFBTTtRQUNOQyxTQUFTLEVBQVRBLFNBQVM7UUFDVEMsUUFBUSxFQUFSQSxRQUFRO1FBQ1JwRCxhQUFhLEVBQWJBLGFBQWE7UUFDYnFELFNBQVMsRUFBVEE7TUFDRixDQUFDO01BQ0QsSUFBSS9DLEtBQUEsQ0FBS21GLEtBQUssQ0FBQ3FDLHdCQUF3QixHQUFHLENBQUMsRUFBRTtRQUMzQ3hILEtBQUEsQ0FBS3lILFFBQVEsQ0FBNkIsVUFBQXRDLEtBQUs7VUFBQSxPQUFLO1lBQ2xEcUMsd0JBQXdCLEVBQUVyQyxLQUFLLENBQUNxQyx3QkFBd0IsR0FBRztVQUM3RCxDQUFDO1FBQUEsQ0FBQyxDQUFDO01BQ0w7TUFDQXhILEtBQUEsQ0FBS2tGLG9CQUFvQixDQUFDbEYsS0FBQSxDQUFLSCxLQUFLLEVBQUVHLEtBQUEsQ0FBS21GLEtBQUssQ0FBQ0MsbUJBQW1CLENBQUM7TUFDckUsSUFBSSxDQUFDcEYsS0FBQSxDQUFLSCxLQUFLLEVBQUU7UUFDZjtNQUNGO01BQ0FHLEtBQUEsQ0FBSzhGLHVCQUF1QixDQUFDLENBQUM7TUFDOUIsSUFBSWhELFFBQVEsS0FBSyxDQUFDLEVBQUU7UUFDbEI5QyxLQUFBLENBQUswSCxlQUFlLENBQUNDLFFBQVEsQ0FBQyxDQUFDO01BQ2pDO01BQ0EzSCxLQUFBLENBQUtpRixpQkFBaUIsQ0FBQyxDQUFDO01BQ3hCakYsS0FBQSxDQUFLK0UsNEJBQTRCLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBQUEvRSxLQUFBLENBNEZENEgsa0JBQWtCLEdBQUcsVUFBQ3RLLENBQWMsRUFBVztNQUM3QzBDLEtBQUEsQ0FBS1UsaUJBQWlCLENBQUNXLE9BQU8sQ0FBQyxVQUFBWixTQUFTLEVBQUk7UUFDMUNBLFNBQVMsQ0FBQ21ILGtCQUFrQixDQUFDdEssQ0FBQyxDQUFDO01BQ2pDLENBQUMsQ0FBQztNQUNGMEMsS0FBQSxDQUFLb0Qsa0JBQWtCLENBQUMvQixPQUFPLENBQUMsVUFBQXdHLEtBQUssRUFBSTtRQUN2Q0EsS0FBSyxDQUFDQyxpQkFBaUIsQ0FBQy9HLGlCQUFpQixDQUFDLENBQUM7TUFDN0MsQ0FBQyxDQUFDO01BQ0ZmLEtBQUEsQ0FBS2MsY0FBYyxHQUFHLElBQUk7TUFDMUJkLEtBQUEsQ0FBS0gsS0FBSyxDQUFDa0ksaUJBQWlCLElBQUkvSCxLQUFBLENBQUtILEtBQUssQ0FBQ2tJLGlCQUFpQixDQUFDekssQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFBQTBDLEtBQUEsQ0FNRGdJLGdCQUFnQixHQUFHLFVBQUMxSyxDQUFjLEVBQVc7TUFDM0MwQyxLQUFBLENBQUtVLGlCQUFpQixDQUFDVyxPQUFPLENBQUMsVUFBQVosU0FBUyxFQUFJO1FBQzFDQSxTQUFTLENBQUN1SCxnQkFBZ0IsQ0FBQzFLLENBQUMsQ0FBQztNQUMvQixDQUFDLENBQUM7TUFDRixJQUFPd0YsUUFBUSxHQUFJeEYsQ0FBQyxDQUFDc0gsV0FBVyxDQUF6QjlCLFFBQVE7TUFDZixJQUFJQSxRQUFRLEVBQUU7UUFDWjlDLEtBQUEsQ0FBS0csY0FBYyxDQUFDMkMsUUFBUSxHQUFHOUMsS0FBQSxDQUFLaUksYUFBYSxDQUFDbkYsUUFBUSxDQUFDO01BQzdEO01BQ0E5QyxLQUFBLENBQUtpRixpQkFBaUIsQ0FBQyxDQUFDO01BQ3hCakYsS0FBQSxDQUFLSCxLQUFLLENBQUNxSSxlQUFlLElBQUlsSSxLQUFBLENBQUtILEtBQUssQ0FBQ3FJLGVBQWUsQ0FBQzVLLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBQUEwQyxLQUFBLENBTURtSSxzQkFBc0IsR0FBRyxVQUFDN0ssQ0FBYyxFQUFXO01BQ2pEMEMsS0FBQSxDQUFLVSxpQkFBaUIsQ0FBQ1csT0FBTyxDQUFDLFVBQUFaLFNBQVMsRUFBSTtRQUMxQ0EsU0FBUyxDQUFDMEgsc0JBQXNCLENBQUM3SyxDQUFDLENBQUM7TUFDckMsQ0FBQyxDQUFDO01BQ0YwQyxLQUFBLENBQUtILEtBQUssQ0FBQ3VJLHFCQUFxQixJQUFJcEksS0FBQSxDQUFLSCxLQUFLLENBQUN1SSxxQkFBcUIsQ0FBQzlLLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQUEwQyxLQUFBLENBTURxSSxvQkFBb0IsR0FBRyxVQUFDL0ssQ0FBYyxFQUFXO01BQy9DMEMsS0FBQSxDQUFLVSxpQkFBaUIsQ0FBQ1csT0FBTyxDQUFDLFVBQUFaLFNBQVMsRUFBSTtRQUMxQ0EsU0FBUyxDQUFDNEgsb0JBQW9CLENBQUMvSyxDQUFDLENBQUM7TUFDbkMsQ0FBQyxDQUFDO01BQ0YwQyxLQUFBLENBQUtHLGNBQWMsQ0FBQzJDLFFBQVEsR0FBRyxDQUFDO01BQ2hDOUMsS0FBQSxDQUFLaUYsaUJBQWlCLENBQUMsQ0FBQztNQUN4QmpGLEtBQUEsQ0FBS0gsS0FBSyxDQUFDeUksbUJBQW1CLElBQUl0SSxLQUFBLENBQUtILEtBQUssQ0FBQ3lJLG1CQUFtQixDQUFDaEwsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFBQTBDLEtBQUEsQ0FFRHVGLG9CQUFvQixHQUFHLFlBQU07TUFDM0J2RixLQUFBLENBQUtrRixvQkFBb0IsQ0FBQ2xGLEtBQUEsQ0FBS0gsS0FBSyxFQUFFRyxLQUFBLENBQUttRixLQUFLLENBQUNDLG1CQUFtQixDQUFDO01BRXJFcEYsS0FBQSxDQUFLeUgsUUFBUSxDQUF1QyxVQUFDdEMsS0FBSyxFQUFFdEYsS0FBSyxFQUFLO1FBQ3BFLElBQU11RixtQkFBbUIsR0FBR3BGLEtBQUEsQ0FBS3VJLDBCQUEwQixDQUN6RDFJLEtBQUssRUFDTHNGLEtBQUssQ0FBQ0MsbUJBQW1CLEVBQ3pCRCxLQUFLLENBQUNxQyx3QkFDUixDQUFDO1FBQ0QsSUFBTWdCLFVBQVUsR0FBRzdJLGVBQWUsQ0FBQzhJLGlCQUFpQixDQUNsRDVJLEtBQUssRUFDTHVGLG1CQUFtQixFQUNuQnBGLEtBQUEsQ0FBSzBJLDRCQUE0QixDQUFDN0ksS0FBSyxDQUN6QyxDQUFDO1FBRUQsSUFDRXVGLG1CQUFtQixDQUFDdUQsS0FBSyxLQUFLeEQsS0FBSyxDQUFDQyxtQkFBbUIsQ0FBQ3VELEtBQUssSUFDN0R2RCxtQkFBbUIsQ0FBQ3dELElBQUksS0FBS3pELEtBQUssQ0FBQ0MsbUJBQW1CLENBQUN3RCxJQUFJLElBQzNESixVQUFVLENBQUNLLE1BQU0sQ0FBQzFELEtBQUssQ0FBQ3FELFVBQVUsQ0FBQyxFQUNuQztVQUNBLE9BQU8sSUFBSTtRQUNiO1FBRUEsT0FBTztVQUFDcEQsbUJBQW1CLEVBQW5CQSxtQkFBbUI7VUFBRW9ELFVBQVUsRUFBVkE7UUFBVSxDQUFDO01BQzFDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFBQXhJLEtBQUEsQ0FFRDhJLGdCQUFnQixHQUFHLFVBQ2pCQyxLQUFhLEVBQ2JDLFVBQW1CLEVBQ25CbkosS0FBc0IsRUFFbkI7TUFDSCxJQUFPb0osSUFBSSxHQUFhcEosS0FBSyxDQUF0Qm9KLElBQUk7UUFBRUMsT0FBTyxHQUFJckosS0FBSyxDQUFoQnFKLE9BQU87TUFDcEIsSUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUNELElBQUksRUFBRUYsS0FBSyxDQUFDO01BQ2pDLE9BQU87UUFDTEEsS0FBSyxFQUFMQSxLQUFLO1FBQ0xJLElBQUksRUFBSkEsSUFBSTtRQUNKN0gsR0FBRyxFQUFFM0IsZUFBZSxDQUFDeUosYUFBYSxDQUFDRCxJQUFJLEVBQUVKLEtBQUssRUFBRWxKLEtBQUssQ0FBQztRQUN0RG1KLFVBQVUsRUFBVkE7TUFDRixDQUFDO0lBQ0gsQ0FBQztJQUFBaEosS0FBQSxDQU1EMEksNEJBQTRCLEdBQUcsVUFDN0I3SSxLQUFzQixFQUlsQjtNQUlKLElBQ0UsRUFBRUcsS0FBQSxDQUFLcUMsbUJBQW1CLElBQUlyQyxLQUFBLENBQUt1QixTQUFTLENBQUN2QixLQUFBLENBQUtxQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQ3ZFO1FBQ0EsT0FBTyxFQUFFO01BQ1g7TUFFQSxJQUFNZ0gsdUJBQXVCLEdBQUdySixLQUFBLENBQUt1QixTQUFTLENBQUN2QixLQUFBLENBQUtxQyxtQkFBbUIsQ0FBQztNQUN4RSxJQUFNaUgsZ0JBQWdCLEdBQUdELHVCQUF1QixDQUFDeEosS0FBSyxDQUFDa0osS0FBSztNQUM1RCxJQUFNUSxTQUFTLEdBQUcxSixLQUFLLENBQUMySixZQUFZLENBQUMzSixLQUFLLENBQUNvSixJQUFJLENBQUM7TUFJaEQsSUFDRUssZ0JBQWdCLElBQUlDLFNBQVMsSUFDN0I1SixlQUFlLENBQUM4SixXQUFXLENBQUM1SixLQUFLLEVBQUV5SixnQkFBZ0IsQ0FBQyxLQUNsRHRKLEtBQUEsQ0FBS3FDLG1CQUFtQixFQUMxQjtRQUNBLE9BQU8sRUFBRTtNQUNYO01BRUEsSUFBSXNHLEtBQUssR0FBR1csZ0JBQWdCO01BQzVCLElBQUlJLDBCQUEwQixHQUFHLENBQUM7TUFDbEMsS0FDRSxJQUFJN0wsQ0FBQyxHQUFHOEssS0FBSyxHQUFHLENBQUMsRUFDakI5SyxDQUFDLElBQUksQ0FBQyxJQUFJNkwsMEJBQTBCLEdBQUcxSixLQUFBLENBQUtHLGNBQWMsQ0FBQ1QsYUFBYSxFQUN4RTdCLENBQUMsRUFBRSxFQUNIO1FBQ0E4SyxLQUFLLEVBQUU7UUFDUGUsMEJBQTBCLElBQUkxSixLQUFBLENBQUsyQixZQUFZLENBQUNnSSxvQkFBb0IsQ0FDbEU5TCxDQUFDLEVBQ0RnQyxLQUNGLENBQUMsQ0FBQytKLE1BQU07TUFDVjtNQUVBLElBQUloQixJQUFJLEdBQUdVLGdCQUFnQjtNQUMzQixJQUFJTyx5QkFBeUIsR0FBRyxDQUFDO01BQ2pDLEtBQ0UsSUFBSWhNLEVBQUMsR0FBRytLLElBQUksR0FBRyxDQUFDLEVBQ2hCL0ssRUFBQyxHQUFHMEwsU0FBUyxJQUNiTSx5QkFBeUIsR0FBRzdKLEtBQUEsQ0FBS0csY0FBYyxDQUFDVCxhQUFhLEVBQzdEN0IsRUFBQyxFQUFFLEVBQ0g7UUFDQStLLElBQUksRUFBRTtRQUNOaUIseUJBQXlCLElBQUk3SixLQUFBLENBQUsyQixZQUFZLENBQUNnSSxvQkFBb0IsQ0FDakU5TCxFQUFDLEVBQ0RnQyxLQUNGLENBQUMsQ0FBQytKLE1BQU07TUFDVjtNQUVBLE9BQU8sQ0FBQztRQUFDakIsS0FBSyxFQUFMQSxLQUFLO1FBQUVDLElBQUksRUFBSkE7TUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQTdsREM1SSxLQUFBLENBQUs4SixXQUFXLENBQUNqSyxNQUFLLENBQUM7SUFFdkJHLEtBQUEsQ0FBSzBILGVBQWUsR0FBRyxJQUFJcUMsdUJBQWMsQ0FBQy9KLEtBQUEsQ0FBSzJCLFlBQVksQ0FBQztJQUU1RCxJQUFJM0IsS0FBQSxDQUFLSCxLQUFLLENBQUNtSyw4QkFBOEIsRUFBRTtNQUM3Q2hLLEtBQUEsQ0FBS29ELGtCQUFrQixHQUFHcEQsS0FBQSxDQUFLSCxLQUFLLENBQUNtSyw4QkFBOEIsQ0FBQ0MsR0FBRyxDQUNyRSxVQUFBQyxJQUFJO1FBQUEsT0FBSztVQUNQcEMsaUJBQWlCLEVBQUUsSUFBSXFDLDBCQUFpQixDQUFDRCxJQUFJLENBQUNFLGlCQUFpQixDQUFDO1VBQ2hFQyxzQkFBc0IsRUFBRUgsSUFBSSxDQUFDRztRQUMvQixDQUFDO01BQUEsQ0FDSCxDQUFDO0lBQ0gsQ0FBQyxNQUFNO01BQ0wsSUFBQUMsV0FBQSxHQUFvRHRLLEtBQUEsQ0FBS0gsS0FBSztRQUF2RHdLLHNCQUFzQixHQUFBQyxXQUFBLENBQXRCRCxzQkFBc0I7UUFBRUQsaUJBQWlCLEdBQUFFLFdBQUEsQ0FBakJGLGlCQUFpQjtNQUNoRCxJQUFJQyxzQkFBc0IsRUFBRTtRQUMxQnJLLEtBQUEsQ0FBS29ELGtCQUFrQixDQUFDbUgsSUFBSSxDQUFDO1VBQzNCekMsaUJBQWlCLEVBQUUsSUFBSXFDLDBCQUFpQixDQUFDQyxpQkFBaUIsQ0FBQztVQUMzREMsc0JBQXNCLEVBQUVBO1FBQzFCLENBQUMsQ0FBQztNQUNKO0lBQ0Y7SUFFQSxJQUFNRyxtQkFBbUIsR0FBRzdLLGVBQWUsQ0FBQzhLLG9CQUFvQixDQUFDNUssTUFBSyxDQUFDO0lBRXZFLElBQU02SyxrQkFBa0IsSUFBQTVLLHFCQUFBLElBQUFDLHNCQUFBLEdBQ3RCQyxLQUFBLENBQUtILEtBQUssQ0FBQzhLLDhCQUE4QixxQkFBekM1SyxzQkFBQSxDQUEyQzJLLGtCQUFrQixZQUFBNUsscUJBQUEsR0FBSSxDQUFDO0lBRXBFRSxLQUFBLENBQUttRixLQUFLLEdBQUc7TUFDWEMsbUJBQW1CLEVBQUVvRixtQkFBbUI7TUFDeENoQyxVQUFVLEVBQUU3SSxlQUFlLENBQUM4SSxpQkFBaUIsQ0FBQzVJLE1BQUssRUFBRTJLLG1CQUFtQixDQUFDO01BQ3pFSSxtQkFBbUIsRUFDakI1SyxLQUFBLENBQUtILEtBQUssQ0FBQzJKLFlBQVksQ0FBQ3hKLEtBQUEsQ0FBS0gsS0FBSyxDQUFDb0osSUFBSSxDQUFDLEdBQUd5QixrQkFBa0IsR0FDekQvSyxlQUFlLENBQUM4SixXQUFXLENBQUN6SixLQUFBLENBQUtILEtBQUssRUFBRTZLLGtCQUFrQixDQUFDLEdBQzNELElBQUk7TUFJVmxELHdCQUF3QixFQUN0QnhILEtBQUEsQ0FBS0gsS0FBSyxDQUFDZ0wsa0JBQWtCLElBQUksSUFBSSxJQUNyQzdLLEtBQUEsQ0FBS0gsS0FBSyxDQUFDZ0wsa0JBQWtCLEdBQUcsQ0FBQyxHQUM3QixDQUFDLEdBQ0Q7SUFDUixDQUFDO0lBQUMsT0FBQTdLLEtBQUE7RUFDSjtFQUFDLElBQUE4SyxVQUFBLENBQUE5TSxPQUFBLEVBQUEyQixlQUFBLEVBQUFDLHFCQUFBO0VBQUEsV0FBQW1MLGFBQUEsQ0FBQS9NLE9BQUEsRUFBQTJCLGVBQUE7SUFBQTJCLEdBQUE7SUFBQTBKLEtBQUEsRUFoU0QsU0FBQUMsV0FBV0EsQ0FBQ0MsTUFBb0MsRUFBRTtNQUNoRCxJQUFNQyxRQUFRLEdBQUdELE1BQU0sR0FBR0EsTUFBTSxDQUFDQyxRQUFRLEdBQUcsSUFBSTtNQUNoRCxJQUFNQyxRQUFRLEdBQUcsSUFBSSxDQUFDdkwsS0FBSyxDQUFDMkosWUFBWSxDQUFDLElBQUksQ0FBQzNKLEtBQUssQ0FBQ29KLElBQUksQ0FBQyxHQUFHLENBQUM7TUFDN0QsSUFBSW1DLFFBQVEsR0FBRyxDQUFDLEVBQUU7UUFDaEI7TUFDRjtNQUNBLElBQU1DLEtBQUssR0FBRyxJQUFJLENBQUMxSixZQUFZLENBQUNnSSxvQkFBb0IsQ0FBQ3lCLFFBQVEsRUFBRSxJQUFJLENBQUN2TCxLQUFLLENBQUM7TUFDMUUsSUFBTStDLE1BQU0sR0FBR3VFLElBQUksQ0FBQ0MsR0FBRyxDQUNyQixDQUFDLEVBQ0RpRSxLQUFLLENBQUN6SSxNQUFNLEdBQ1Z5SSxLQUFLLENBQUN6QixNQUFNLEdBQ1osSUFBSSxDQUFDL0gsYUFBYSxHQUNsQixJQUFJLENBQUMxQixjQUFjLENBQUNULGFBQ3hCLENBQUM7TUFHRCxJQUFJLENBQUM0TCxjQUFjLENBQUM7UUFBQ0gsUUFBUSxFQUFSQSxRQUFRO1FBQUV2SSxNQUFNLEVBQU5BO01BQU0sQ0FBQyxDQUFDO0lBQ3pDO0VBQUM7SUFBQXRCLEdBQUE7SUFBQTBKLEtBQUEsRUFHRCxTQUFBTyxhQUFhQSxDQUFDTCxNQU1iLEVBQWM7TUFDYixJQUFBTSxZQUFBLEdBQ0UsSUFBSSxDQUFDM0wsS0FBSztRQURMb0osSUFBSSxHQUFBdUMsWUFBQSxDQUFKdkMsSUFBSTtRQUFFTyxZQUFZLEdBQUFnQyxZQUFBLENBQVpoQyxZQUFZO1FBQUVpQyxhQUFhLEdBQUFELFlBQUEsQ0FBYkMsYUFBYTtRQUFFQyxxQkFBcUIsR0FBQUYsWUFBQSxDQUFyQkUscUJBQXFCO01BRS9ELElBQU9QLFFBQVEsR0FBcUNELE1BQU0sQ0FBbkRDLFFBQVE7UUFBRXBDLEtBQUssR0FBOEJtQyxNQUFNLENBQXpDbkMsS0FBSztRQUFFNEMsVUFBVSxHQUFrQlQsTUFBTSxDQUFsQ1MsVUFBVTtRQUFFQyxZQUFZLEdBQUlWLE1BQU0sQ0FBdEJVLFlBQVk7TUFDaEQsSUFBQTdILGtCQUFTLEVBQ1BnRixLQUFLLElBQUksQ0FBQyxFQUNWLCtDQUErQ0EsS0FBSyxtQkFDdEQsQ0FBQztNQUNELElBQUFoRixrQkFBUyxFQUNQeUYsWUFBWSxDQUFDUCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQ3ZCLDJDQUEyQ08sWUFBWSxDQUNyRFAsSUFDRixDQUFDLG1CQUNILENBQUM7TUFDRCxJQUFBbEYsa0JBQVMsRUFDUGdGLEtBQUssR0FBR1MsWUFBWSxDQUFDUCxJQUFJLENBQUMsRUFDMUIsK0NBQStDRixLQUFLLG1CQUNsRFMsWUFBWSxDQUFDUCxJQUFJLENBQUMsR0FBRyxDQUFDLEVBRTFCLENBQUM7TUFDRCxJQUNFLENBQUN3QyxhQUFhLElBQ2QxQyxLQUFLLEdBQUcsSUFBSSxDQUFDcEgsWUFBWSxDQUFDa0ssMkJBQTJCLENBQUMsQ0FBQyxFQUN2RDtRQUNBLElBQUE5SCxrQkFBUyxFQUNQLENBQUMsQ0FBQzJILHFCQUFxQixFQUN2QiwyRkFBMkYsR0FDekYseUZBQ0osQ0FBQztRQUNEQSxxQkFBcUIsQ0FBQztVQUNwQkksaUJBQWlCLEVBQUUsSUFBSSxDQUFDbkssWUFBWSxDQUFDb0ssb0JBQW9CLENBQUMsQ0FBQztVQUMzREMseUJBQXlCLEVBQ3ZCLElBQUksQ0FBQ3JLLFlBQVksQ0FBQ2tLLDJCQUEyQixDQUFDLENBQUM7VUFDakQ5QyxLQUFLLEVBQUxBO1FBQ0YsQ0FBQyxDQUFDO1FBQ0Y7TUFDRjtNQUNBLElBQU1zQyxLQUFLLEdBQUcsSUFBSSxDQUFDMUosWUFBWSxDQUFDZ0ksb0JBQW9CLENBQ2xEeEMsSUFBSSxDQUFDOEUsS0FBSyxDQUFDbEQsS0FBSyxDQUFDLEVBQ2pCLElBQUksQ0FBQ2xKLEtBQ1AsQ0FBQztNQUNELElBQU0rQyxNQUFNLEdBQ1Z1RSxJQUFJLENBQUNDLEdBQUcsQ0FDTixDQUFDLEVBQ0QsSUFBSSxDQUFDekYsWUFBWSxDQUFDdUssbUJBQW1CLENBQUNuRCxLQUFLLEVBQUUsSUFBSSxDQUFDbEosS0FBSyxDQUFDLEdBQ3RELENBQUMrTCxZQUFZLElBQUksQ0FBQyxLQUNmLElBQUksQ0FBQ3pMLGNBQWMsQ0FBQ1QsYUFBYSxHQUFHMkwsS0FBSyxDQUFDekIsTUFBTSxDQUN2RCxDQUFDLElBQUkrQixVQUFVLElBQUksQ0FBQyxDQUFDO01BRXZCLElBQUksQ0FBQ0wsY0FBYyxDQUFDO1FBQUMxSSxNQUFNLEVBQU5BLE1BQU07UUFBRXVJLFFBQVEsRUFBUkE7TUFBUSxDQUFDLENBQUM7SUFDekM7RUFBQztJQUFBN0osR0FBQTtJQUFBMEosS0FBQSxFQUlELFNBQUFtQixZQUFZQSxDQUFDakIsTUFNWixFQUFFO01BQ0QsSUFBTy9CLElBQUksR0FBSStCLE1BQU0sQ0FBZC9CLElBQUk7TUFDWCxJQUFBaUQsWUFBQSxHQUFzQyxJQUFJLENBQUN2TSxLQUFLO1FBQXpDb0osSUFBSSxHQUFBbUQsWUFBQSxDQUFKbkQsSUFBSTtRQUFFQyxPQUFPLEdBQUFrRCxZQUFBLENBQVBsRCxPQUFPO1FBQUVNLFlBQVksR0FBQTRDLFlBQUEsQ0FBWjVDLFlBQVk7TUFDbEMsSUFBTUQsU0FBUyxHQUFHQyxZQUFZLENBQUNQLElBQUksQ0FBQztNQUNwQyxLQUFLLElBQUlGLEtBQUssR0FBRyxDQUFDLEVBQUVBLEtBQUssR0FBR1EsU0FBUyxFQUFFUixLQUFLLEVBQUUsRUFBRTtRQUM5QyxJQUFJRyxPQUFPLENBQUNELElBQUksRUFBRUYsS0FBSyxDQUFDLEtBQUtJLElBQUksRUFBRTtVQUNqQyxJQUFJLENBQUNvQyxhQUFhLENBQUFoTixNQUFBLENBQUFzRixNQUFBLEtBQUtxSCxNQUFNO1lBQUVuQyxLQUFLLEVBQUxBO1VBQUssRUFBQyxDQUFDO1VBQ3RDO1FBQ0Y7TUFDRjtJQUNGO0VBQUM7SUFBQXpILEdBQUE7SUFBQTBKLEtBQUEsRUFZRCxTQUFBTSxjQUFjQSxDQUFDSixNQUFrRCxFQUFFO01BQ2pFLElBQU9DLFFBQVEsR0FBWUQsTUFBTSxDQUExQkMsUUFBUTtRQUFFdkksTUFBTSxHQUFJc0ksTUFBTSxDQUFoQnRJLE1BQU07TUFDdkIsSUFBTXlKLFNBQVMsR0FBRyxJQUFJLENBQUNySixVQUFVO01BRWpDLElBQUlxSixTQUFTLElBQUksSUFBSSxFQUFFO1FBQ3JCO01BQ0Y7TUFFQSxJQUFJQSxTQUFTLENBQUNDLFFBQVEsSUFBSSxJQUFJLEVBQUU7UUFDOUJDLE9BQU8sQ0FBQ0MsSUFBSSxDQUNWLHVFQUF1RSxHQUNyRSxpRUFBaUUsR0FDakUsNERBQ0osQ0FBQztRQUNEO01BQ0Y7TUFFQSxJQUFBQyxrQkFBQSxHQUEwQixJQUFJLENBQUMzSCxZQUFZLENBQUMsQ0FBQztRQUF0QzRILFVBQVUsR0FBQUQsa0JBQUEsQ0FBVkMsVUFBVTtRQUFFQyxHQUFHLEdBQUFGLGtCQUFBLENBQUhFLEdBQUc7TUFDdEIsSUFBSUQsVUFBVSxJQUFJQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUNoTCxZQUFZLENBQUNpTCxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7UUFDOURMLE9BQU8sQ0FBQ0MsSUFBSSxDQUNWLG9FQUNGLENBQUM7UUFDRDtNQUNGO01BR0FILFNBQVMsQ0FBQ0MsUUFBUSxDQUFBL04sTUFBQSxDQUFBc0YsTUFBQTtRQUNoQnNILFFBQVEsRUFBUkE7TUFBUSxHQUNMLElBQUksQ0FBQzBCLHlCQUF5QixDQUFDakssTUFBTSxDQUFDLENBQzFDLENBQUM7SUFDSjtFQUFDO0lBQUF0QixHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQTZCLHlCQUF5QkEsQ0FBQ2pLLE1BQWMsRUFBNEI7TUFDbEUsSUFBQWtLLG1CQUFBLEdBQTBCLElBQUksQ0FBQ2hJLFlBQVksQ0FBQyxDQUFDO1FBQXRDNEgsVUFBVSxHQUFBSSxtQkFBQSxDQUFWSixVQUFVO1FBQUVDLEdBQUcsR0FBQUcsbUJBQUEsQ0FBSEgsR0FBRztNQUN0QixJQUFJRCxVQUFVLElBQUlDLEdBQUcsRUFBRTtRQUVyQixJQUFNSSxVQUFVLEdBQUcsSUFBSSxDQUFDcEwsWUFBWSxDQUFDcUwsZUFBZSxDQUNsRHBLLE1BQU0sR0FBRyxJQUFJLENBQUN6QyxjQUFjLENBQUNULGFBQy9CLENBQUM7UUFDRCxPQUFPZ04sVUFBVSxHQUFHO1VBQUNPLENBQUMsRUFBRUY7UUFBVSxDQUFDLEdBQUc7VUFBQ0csQ0FBQyxFQUFFSDtRQUFVLENBQUM7TUFDdkQsQ0FBQyxNQUFNO1FBQ0wsT0FBT0wsVUFBVSxHQUFHO1VBQUNPLENBQUMsRUFBRXJLO1FBQU0sQ0FBQyxHQUFHO1VBQUNzSyxDQUFDLEVBQUV0SztRQUFNLENBQUM7TUFDL0M7SUFDRjtFQUFDO0lBQUF0QixHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQWpLLGlCQUFpQkEsQ0FBQSxFQUFHO01BQ2xCLElBQUksQ0FBQ0wsaUJBQWlCLENBQUNXLE9BQU8sQ0FBQyxVQUFBWixTQUFTLEVBQUk7UUFDMUNBLFNBQVMsQ0FBQ00saUJBQWlCLENBQUMsQ0FBQztNQUMvQixDQUFDLENBQUM7TUFDRixJQUFJLENBQUNxQyxrQkFBa0IsQ0FBQy9CLE9BQU8sQ0FBQyxVQUFBOUQsQ0FBQyxFQUFJO1FBQ25DQSxDQUFDLENBQUN1SyxpQkFBaUIsQ0FBQy9HLGlCQUFpQixDQUFDLENBQUM7TUFDekMsQ0FBQyxDQUFDO01BQ0YsSUFBSSxDQUFDbUUsb0JBQW9CLENBQUMsSUFBSSxDQUFDckYsS0FBSyxFQUFFLElBQUksQ0FBQ3NGLEtBQUssQ0FBQ0MsbUJBQW1CLENBQUM7SUFDdkU7RUFBQztJQUFBOUQsR0FBQTtJQUFBMEosS0FBQSxFQUVELFNBQUFtQyxxQkFBcUJBLENBQUEsRUFBRztNQUN0QixJQUFJLElBQUksQ0FBQ25LLFVBQVUsSUFBSSxJQUFJLEVBQUU7UUFDM0I7TUFDRjtNQUVBLElBQUksQ0FBQ0EsVUFBVSxDQUFDbUsscUJBQXFCLENBQUMsQ0FBQztJQUN6QztFQUFDO0lBQUE3TCxHQUFBO0lBQUEwSixLQUFBLEVBT0QsU0FBQW9DLGtCQUFrQkEsQ0FBQSxFQUF5QjtNQUN6QyxJQUFJLElBQUksQ0FBQ3BLLFVBQVUsSUFBSSxJQUFJLENBQUNBLFVBQVUsQ0FBQ29LLGtCQUFrQixFQUFFO1FBQ3pELE9BQU8sSUFBSSxDQUFDcEssVUFBVSxDQUFDb0ssa0JBQWtCLENBQUMsQ0FBQztNQUM3QztJQUNGO0VBQUM7SUFBQTlMLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBcUMsaUJBQWlCQSxDQUFBLEVBQVk7TUFDM0IsSUFBSSxJQUFJLENBQUNySyxVQUFVLElBQUksSUFBSSxDQUFDQSxVQUFVLENBQUNxSyxpQkFBaUIsRUFBRTtRQUN4RCxPQUFPLElBQUksQ0FBQ3JLLFVBQVUsQ0FBQ3FLLGlCQUFpQixDQUFDLENBQUM7TUFDNUMsQ0FBQyxNQUFNO1FBQ0wsT0FBTyxJQUFBQywyQkFBYyxFQUFhLElBQUksQ0FBQ3RLLFVBQVUsQ0FBQztNQUNwRDtJQUNGO0VBQUM7SUFBQTFCLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBdUMsWUFBWUEsQ0FBQSxFQUF5QztNQUVuRCxJQUFJLElBQUksQ0FBQ3ZLLFVBQVUsSUFBSSxJQUFJLENBQUNBLFVBQVUsQ0FBQ3VLLFlBQVksRUFBRTtRQUVuRCxPQUFPLElBQUksQ0FBQ3ZLLFVBQVUsQ0FBQ3VLLFlBQVksQ0FBQyxDQUFDO01BQ3ZDLENBQUMsTUFBTTtRQUNMLE9BQU8sSUFBSSxDQUFDdkssVUFBVTtNQUN4QjtJQUNGO0VBQUM7SUFBQTFCLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBd0MsY0FBY0EsQ0FBQzNOLEtBQWEsRUFBRTtNQUM1QixJQUFJLElBQUksQ0FBQ21ELFVBQVUsRUFBRTtRQUNuQixJQUFJLENBQUNBLFVBQVUsQ0FBQ3dLLGNBQWMsQ0FBQzNOLEtBQUssQ0FBQztNQUN2QztJQUNGO0VBQUM7SUFBQXlCLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBeUMsV0FBV0EsQ0FBQSxFQUFXO01BQUEsSUFBQUMsYUFBQTtNQUNwQixPQUFPLEVBQUFBLGFBQUEsT0FBSSxDQUFDcE4sT0FBTyxxQkFBWm9OLGFBQUEsQ0FBYzdNLE9BQU8sS0FBSSxVQUFVO0lBQzVDO0VBQUM7SUFBQVMsR0FBQTtJQUFBMEosS0FBQSxFQU9ELFNBQUEyQyxPQUFPQSxDQUFBLEVBQVk7TUFDakIsT0FBTyxJQUFJLENBQUM1TCxRQUFRO0lBQ3RCO0VBQUM7SUFBQVQsR0FBQTtJQUFBMEosS0FBQSxFQXlFRCxTQUFBbEIsV0FBV0EsQ0FBQ2pLLEtBQTJCLEVBQUU7TUFDdkMsSUFBT2dILFFBQVEsR0FDYmhILEtBQUssQ0FEQWdILFFBQVE7UUFBRStHLFVBQVUsR0FDekIvTixLQUFLLENBRFUrTixVQUFVO1FBQUVwRSxZQUFZLEdBQ3ZDM0osS0FBSyxDQURzQjJKLFlBQVk7UUFBRVAsSUFBSSxHQUM3Q3BKLEtBQUssQ0FEb0NvSixJQUFJO1FBQUU0QixrQkFBa0IsR0FDakVoTCxLQUFLLENBRDBDZ0wsa0JBQWtCO01BR25FLElBQUE5RyxrQkFBUyxFQUVQLENBQUM4QyxRQUFRLElBQUksQ0FBQ0EsUUFBUSxDQUFDZ0gsVUFBVSxFQUNqQyw0RkFBNEYsR0FDMUYsd0RBQ0osQ0FBQztNQUNELElBQUE5SixrQkFBUyxFQUNQLElBQUErSix5Q0FBbUIsRUFBQ0YsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUNuQyx5RkFDRixDQUFDO01BRUQsSUFBQTdKLGtCQUFTLEVBQ1B5RixZQUFZLEVBQ1osMkRBQ0YsQ0FBQztNQUVELElBQU1ELFNBQVMsR0FBR0MsWUFBWSxDQUFDUCxJQUFJLENBQUM7TUFFcEMsSUFDRTRCLGtCQUFrQixJQUFJLElBQUksSUFDMUIsQ0FBQyxJQUFJLENBQUMvSSxpQ0FBaUMsS0FDdEMrSSxrQkFBa0IsR0FBRyxDQUFDLElBQ3BCdEIsU0FBUyxHQUFHLENBQUMsSUFBSXNCLGtCQUFrQixJQUFJdEIsU0FBVSxDQUFDLElBQ3JELENBQUMsSUFBSSxDQUFDdkgsVUFBVSxDQUFDNkksa0JBQWtCLEVBQ25DO1FBQ0EwQixPQUFPLENBQUNDLElBQUksQ0FDVix1QkFBdUIzQixrQkFBa0IsNEJBQTRCdEIsU0FBUyxTQUNoRixDQUFDO1FBQ0QsSUFBSSxDQUFDdkgsVUFBVSxDQUFDNkksa0JBQWtCLEdBQUcsSUFBSTtNQUMzQztNQUVBLElBQUlrRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMvTCxVQUFVLENBQUNnTSxRQUFRLEVBQUU7UUFFeEMsSUFBTUMsVUFBVSxHQUFHQyx1QkFBVSxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDdE8sS0FBSyxDQUFDdU8scUJBQXFCLENBQUM7UUFDdkUsSUFBSUgsVUFBVSxJQUFJLElBQUksSUFBSUEsVUFBVSxDQUFDRCxRQUFRLEtBQUssTUFBTSxFQUFFO1VBQ3hEekIsT0FBTyxDQUFDQyxJQUFJLENBQ1YsNEVBQTRFLEdBQzFFLHNEQUNKLENBQUM7VUFDRCxJQUFJLENBQUN4SyxVQUFVLENBQUNnTSxRQUFRLEdBQUcsSUFBSTtRQUNqQztNQUNGO0lBQ0Y7RUFBQztJQUFBMU0sR0FBQTtJQUFBMEosS0FBQSxFQXVIRCxTQUFBekMsMEJBQTBCQSxDQUN4QjFJLEtBQTJCLEVBQzNCdUYsbUJBQWtELEVBQ2xEb0Msd0JBQWdDLEVBQ0Q7TUFDL0IsSUFBT3lCLElBQUksR0FBa0JwSixLQUFLLENBQTNCb0osSUFBSTtRQUFFTyxZQUFZLEdBQUkzSixLQUFLLENBQXJCMkosWUFBWTtNQUN6QixJQUFNNkUscUJBQXFCLEdBQUcsSUFBQUMsb0RBQThCLEVBQzFEek8sS0FBSyxDQUFDd08scUJBQ1IsQ0FBQztNQUNELElBQUFFLG9CQUFBLEdBQWdDLElBQUksQ0FBQ3BPLGNBQWM7UUFBNUN5QyxNQUFNLEdBQUEyTCxvQkFBQSxDQUFOM0wsTUFBTTtRQUFFbEQsYUFBYSxHQUFBNk8sb0JBQUEsQ0FBYjdPLGFBQWE7TUFDNUIsSUFBTWdILGFBQWEsR0FBRyxJQUFJLENBQUMvRSxZQUFZLENBQUNnRixnQkFBZ0IsQ0FBQyxDQUFDO01BQzFELElBQU02SCxlQUFlLEdBQUc5SCxhQUFhLEdBQUdoSCxhQUFhLEdBQUdrRCxNQUFNO01BSTlELElBQUlsRCxhQUFhLElBQUksQ0FBQyxJQUFJZ0gsYUFBYSxJQUFJLENBQUMsRUFBRTtRQUM1QyxPQUFPdEIsbUJBQW1CLENBQUN3RCxJQUFJLElBQUlZLFlBQVksQ0FBQ1AsSUFBSSxDQUFDLEdBQ2pEdEosZUFBZSxDQUFDOE8scUJBQXFCLENBQUNySixtQkFBbUIsRUFBRXZGLEtBQUssQ0FBQyxHQUNqRXVGLG1CQUFtQjtNQUN6QjtNQUVBLElBQUlzSixzQkFBcUQ7TUFDekQsSUFBSTdPLEtBQUssQ0FBQzhPLHFCQUFxQixFQUFFO1FBQy9CLElBQU1DLFdBQVcsR0FDZkosZUFBZSxHQUFHSCxxQkFBcUIsR0FBRzNPLGFBQWEsR0FDbkQsSUFBQW1QLGtEQUE0QixFQUFDaFAsS0FBSyxDQUFDaVAsbUJBQW1CLENBQUMsR0FDdkQsQ0FBQztRQUVQSixzQkFBc0IsR0FBRztVQUN2Qi9GLEtBQUssRUFBRSxDQUFDO1VBQ1JDLElBQUksRUFBRXpCLElBQUksQ0FBQzRILEdBQUcsQ0FDWjNKLG1CQUFtQixDQUFDd0QsSUFBSSxHQUFHZ0csV0FBVyxFQUN0Q3BGLFlBQVksQ0FBQ1AsSUFBSSxDQUFDLEdBQUcsQ0FDdkI7UUFDRixDQUFDO01BQ0gsQ0FBQyxNQUFNO1FBR0wsSUFBSXpCLHdCQUF3QixHQUFHLENBQUMsRUFBRTtVQUNoQyxPQUFPcEMsbUJBQW1CLENBQUN3RCxJQUFJLElBQUlZLFlBQVksQ0FBQ1AsSUFBSSxDQUFDLEdBQ2pEdEosZUFBZSxDQUFDOE8scUJBQXFCLENBQUNySixtQkFBbUIsRUFBRXZGLEtBQUssQ0FBQyxHQUNqRXVGLG1CQUFtQjtRQUN6QjtRQUVBc0osc0JBQXNCLEdBQUcsSUFBQU0sNENBQTJCLEVBQ2xEblAsS0FBSyxFQUNMLElBQUFnUCxrREFBNEIsRUFBQ2hQLEtBQUssQ0FBQ2lQLG1CQUFtQixDQUFDLEVBQ3ZELElBQUFoQix5Q0FBbUIsRUFBQ2pPLEtBQUssQ0FBQytOLFVBQVUsQ0FBQyxFQUNyQ3hJLG1CQUFtQixFQUNuQixJQUFJLENBQUN6RCxZQUFZLEVBQ2pCLElBQUksQ0FBQ3hCLGNBQ1AsQ0FBQztRQUNELElBQUE0RCxrQkFBUyxFQUNQMkssc0JBQXNCLENBQUM5RixJQUFJLEdBQUdZLFlBQVksQ0FBQ1AsSUFBSSxDQUFDLEVBQ2hELDZEQUNGLENBQUM7TUFDSDtNQUVBLElBQUksSUFBSSxDQUFDdkksaUJBQWlCLENBQUN1TyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQU9yQyxJQUFNQyxRQUFRLEdBQUcsSUFBSSxDQUFDQyx1QkFBdUIsQ0FDM0NULHNCQUFzQixDQUFDL0YsS0FBSyxFQUM1QitGLHNCQUFzQixDQUFDOUYsSUFDekIsQ0FBQztRQUVEOEYsc0JBQXNCLENBQUM5RixJQUFJLEdBQUdzRyxRQUFRLFdBQVJBLFFBQVEsR0FBSVIsc0JBQXNCLENBQUM5RixJQUFJO01BQ3ZFO01BRUEsT0FBTzhGLHNCQUFzQjtJQUMvQjtFQUFDO0lBQUFwTixHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQW1FLHVCQUF1QkEsQ0FBQ3hHLEtBQWEsRUFBRUMsSUFBWSxFQUFpQjtNQUNsRSxLQUFLLElBQUl3RyxFQUFFLEdBQUd6RyxLQUFLLEVBQUV5RyxFQUFFLElBQUl4RyxJQUFJLEVBQUV3RyxFQUFFLEVBQUUsRUFBRTtRQUNyQyxJQUFNQyxlQUFlLEdBQUcsSUFBSSxDQUFDbE4sY0FBYyxDQUFDakUsR0FBRyxDQUFDa1IsRUFBRSxDQUFDO1FBQ25ELElBQ0VDLGVBQWUsSUFBSSxJQUFJLElBQ3ZCLElBQUksQ0FBQzNPLGlCQUFpQixDQUFDNE8sU0FBUyxDQUFDRCxlQUFlLEVBQUUsVUFBQTVPLFNBQVM7VUFBQSxPQUN6REEsU0FBUyxDQUFDa04sT0FBTyxDQUFDLENBQUM7UUFBQSxDQUNyQixDQUFDLEVBQ0Q7VUFDQSxPQUFPeUIsRUFBRTtRQUNYO01BQ0Y7TUFFQSxPQUFPLElBQUk7SUFDYjtFQUFDO0lBQUE5TixHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQXVFLGlCQUFpQkEsQ0FBQSxFQUFHO01BQ2xCLElBQUksSUFBSSxDQUFDbFAsNEJBQTRCLENBQUMsQ0FBQyxFQUFFO1FBQ3ZDLElBQUksQ0FBQ0MsT0FBTyxDQUFDa1AscUJBQXFCLENBQUM7VUFDakM1TyxHQUFHLEVBQUUsSUFBSTtVQUNUQyxPQUFPLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUNPO1FBQ3hCLENBQUMsQ0FBQztNQUNKO0lBQ0Y7RUFBQztJQUFBUyxHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQXlFLG9CQUFvQkEsQ0FBQSxFQUFHO01BQ3JCLElBQUksSUFBSSxDQUFDcFAsNEJBQTRCLENBQUMsQ0FBQyxFQUFFO1FBQ3ZDLElBQUksQ0FBQ0MsT0FBTyxDQUFDb1AsdUJBQXVCLENBQUM7VUFBQzlPLEdBQUcsRUFBRTtRQUFJLENBQUMsQ0FBQztNQUNuRDtNQUNBK08sWUFBWSxDQUFDLElBQUksQ0FBQ3hNLDZCQUE2QixDQUFDO01BQ2hELElBQUksQ0FBQ0Msa0JBQWtCLENBQUMvQixPQUFPLENBQUMsVUFBQXdHLEtBQUssRUFBSTtRQUN2Q0EsS0FBSyxDQUFDQyxpQkFBaUIsQ0FBQzhILE9BQU8sQ0FBQyxDQUFDO01BQ25DLENBQUMsQ0FBQztNQUNGLElBQUksQ0FBQ2xJLGVBQWUsQ0FBQ21JLGtCQUFrQixDQUFDLENBQUM7SUFDM0M7RUFBQztJQUFBdk8sR0FBQTtJQUFBMEosS0FBQSxFQXFFRCxTQUFBOEUsVUFBVUEsQ0FDUkMsS0FBb0IsRUFDcEJDLG1CQUFrQyxFQUNsQ0Msc0JBQW1DLEVBQ25DdEgsS0FBYSxFQUNiQyxJQUFZLEVBQ1pzSCxjQUFvQyxFQUNwQztNQUFBLElBQUFDLE1BQUE7TUFDQSxJQUFBQyxZQUFBLEdBWUksSUFBSSxDQUFDdlEsS0FBSztRQVhad1EscUJBQXFCLEdBQUFELFlBQUEsQ0FBckJDLHFCQUFxQjtRQUNyQkMsc0JBQXNCLEdBQUFGLFlBQUEsQ0FBdEJFLHNCQUFzQjtRQUN0QkMsbUJBQW1CLEdBQUFILFlBQUEsQ0FBbkJHLG1CQUFtQjtRQUNuQkMsaUJBQWlCLEdBQUFKLFlBQUEsQ0FBakJJLGlCQUFpQjtRQUNqQnZILElBQUksR0FBQW1ILFlBQUEsQ0FBSm5ILElBQUk7UUFDSndILEtBQUssR0FBQUwsWUFBQSxDQUFMSyxLQUFLO1FBQ0x2SCxPQUFPLEdBQUFrSCxZQUFBLENBQVBsSCxPQUFPO1FBQ1BNLFlBQVksR0FBQTRHLFlBQUEsQ0FBWjVHLFlBQVk7UUFDWmlDLGFBQWEsR0FBQTJFLFlBQUEsQ0FBYjNFLGFBQWE7UUFDYmlCLFVBQVUsR0FBQTBELFlBQUEsQ0FBVjFELFVBQVU7UUFDVmdFLFVBQVUsR0FBQU4sWUFBQSxDQUFWTSxVQUFVO01BRVosSUFBTUMsWUFBWSxHQUFHSixtQkFBbUIsR0FBRyxDQUFDLEdBQUcsQ0FBQztNQUNoRCxJQUFNSyxHQUFHLEdBQUdwSCxZQUFZLENBQUNQLElBQUksQ0FBQyxHQUFHLENBQUM7TUFDbEMsSUFBSTRILFdBQVc7TUFDZmpJLElBQUksR0FBR3pCLElBQUksQ0FBQzRILEdBQUcsQ0FBQzZCLEdBQUcsRUFBRWhJLElBQUksQ0FBQztNQUFDLElBQUFrSSxLQUFBLFlBQUFBLE1BQUEsRUFFWTtRQUNyQyxJQUFNM0gsSUFBSSxHQUFHRCxPQUFPLENBQUNELElBQUksRUFBRW1HLEVBQUUsQ0FBQztRQUM5QixJQUFNOU4sR0FBRyxHQUFHM0IsZUFBZSxDQUFDeUosYUFBYSxDQUFDRCxJQUFJLEVBQUVpRyxFQUFFLEVBQUVlLE1BQUksQ0FBQ3RRLEtBQUssQ0FBQztRQUUvRHNRLE1BQUksQ0FBQ2hPLGNBQWMsQ0FBQ2hFLEdBQUcsQ0FBQ2lSLEVBQUUsRUFBRTlOLEdBQUcsQ0FBQztRQUNoQyxJQUFJMk8sc0JBQXNCLENBQUNoUyxHQUFHLENBQUNtUixFQUFFLEdBQUd1QixZQUFZLENBQUMsRUFBRTtVQUNqRFgsbUJBQW1CLENBQUN6RixJQUFJLENBQUN3RixLQUFLLENBQUNuRyxNQUFNLENBQUM7UUFDeEM7UUFFQSxJQUFNbUgscUJBQXFCLEdBQ3pCdEYsYUFBYSxJQUFJLElBQUksSUFBSWdGLEtBQUssSUFBSU4sTUFBSSxDQUFDekksZUFBZSxDQUFDc0osT0FBTyxDQUFDLENBQUM7UUFFbEVqQixLQUFLLENBQUN4RixJQUFJLENBQ1IsSUFBQW5OLFdBQUEsQ0FBQXVHLEdBQUEsRUFBQ2xILDRCQUFBLENBQUF1QixPQUFZLEVBQUFPLE1BQUEsQ0FBQXNGLE1BQUE7VUFDWHdNLHFCQUFxQixFQUFFQSxxQkFBc0I7VUFDN0NDLHNCQUFzQixFQUFFbEIsRUFBRSxHQUFHd0IsR0FBRyxHQUFHTixzQkFBc0IsR0FBR1csU0FBVTtVQUN0RVQsaUJBQWlCLEVBQUVBLGlCQUFrQjtVQUNyQzNQLE9BQU8sRUFBRVMsR0FBSTtVQUNib0wsVUFBVSxFQUFFQSxVQUFXO1VBQ3ZCM0QsS0FBSyxFQUFFcUcsRUFBRztVQUNWYyxjQUFjLEVBQUVBLGNBQWU7VUFDL0IvRyxJQUFJLEVBQUVBLElBQUs7VUFFWDBILFdBQVcsRUFBRUEsV0FBWTtVQUN6Qkssa0JBQWtCLEVBQUVmLE1BQUksQ0FBQ2pQLG1CQUFvQjtVQUM3Q2lRLGtCQUFrQixFQUFFaEIsTUFBSSxDQUFDOUssbUJBQW9CO1VBQzdDK0wsU0FBUyxFQUFFakIsTUFBSSxDQUFDM0ssY0FBZTtVQUMvQjVFLEdBQUcsRUFBRSxTQUFMQSxHQUFHQSxDQUFFQSxJQUFHLEVBQUk7WUFDVnVQLE1BQUksQ0FBQzVPLFNBQVMsQ0FBQ0QsR0FBRyxDQUFDLEdBQUdWLElBQUc7VUFDM0IsQ0FBRTtVQUNGOFAsVUFBVSxFQUFFQTtRQUFXLEdBQ2xCSyxxQkFBcUIsSUFBSTtVQUM1Qk0sWUFBWSxFQUFFbEIsTUFBSSxDQUFDNUw7UUFDckIsQ0FBQyxHQVhJakQsR0FZTixDQUNILENBQUM7UUFDRHVQLFdBQVcsR0FBR3ZQLEdBQUc7TUFDbkIsQ0FBQztNQXJDRCxLQUFLLElBQUk4TixFQUFFLEdBQUd6RyxLQUFLLEVBQUV5RyxFQUFFLElBQUl4RyxJQUFJLEVBQUV3RyxFQUFFLEVBQUU7UUFBQTBCLEtBQUE7TUFBQTtJQXNDdkM7RUFBQztJQUFBeFAsR0FBQTtJQUFBMEosS0FBQSxFQThCRCxTQUFBM0ssNEJBQTRCQSxDQUFBLEVBQVk7TUFDdEMsSUFBTWlSLGFBQWEsR0FBRyxJQUFJLENBQUNoUixPQUFPO01BQ2xDLE9BQU8sQ0FBQyxFQUNOZ1IsYUFBYSxJQUNiLENBQUMsQ0FBQ0EsYUFBYSxDQUFDNUUsVUFBVSxLQUFLLElBQUE2RSx5Q0FBbUIsRUFBQyxJQUFJLENBQUMxUixLQUFLLENBQUM2TSxVQUFVLENBQUMsQ0FDMUU7SUFDSDtFQUFDO0lBQUFwTCxHQUFBO0lBQUEwSixLQUFBLEVBMkJELFNBQUF3RyxxQkFBcUJBLENBQ25CQyxPQUEwQyxFQUMxQ3ZCLGNBQW9DLEVBQ3hCO01BQUEsSUFBQXdCLE1BQUE7TUFFWixJQUFNQyxVQUFVLEdBQUdGLE9BQU8sQ0FBQ0csSUFBSSxLQUFLM1UsS0FBSyxDQUFDNFUsUUFBUTtNQUVsRCxJQUFJRixVQUFVLEVBQUU7UUFDZCxPQUFPRixPQUFPO01BQ2hCO01BRUEsT0FBTyxJQUFBSyxtQkFBWSxFQUFDTCxPQUFPLEVBQUU7UUFDM0I1TCxRQUFRLEVBQUUsU0FBVkEsUUFBUUEsQ0FBR2tNLEtBQXdCLEVBQUs7VUFDdENMLE1BQUksQ0FBQzNMLGNBQWMsQ0FBQ2dNLEtBQUssQ0FBQztVQUUxQixJQUFJTixPQUFPLENBQUM1UixLQUFLLENBQUNnRyxRQUFRLEVBQUU7WUFDMUI0TCxPQUFPLENBQUM1UixLQUFLLENBQUNnRyxRQUFRLENBQUNrTSxLQUFLLENBQUM7VUFDL0I7UUFDRixDQUFDO1FBRURDLEtBQUssRUFBRTlELHVCQUFVLENBQUMrRCxPQUFPLENBQUMvQixjQUFjLEVBQUV1QixPQUFPLENBQUM1UixLQUFLLENBQUNtUyxLQUFLO01BQy9ELENBQUMsQ0FBQztJQUNKO0VBQUM7SUFBQTFRLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBa0gsTUFBTUEsQ0FBQSxFQUFlO01BQUEsSUFBQUMscUJBQUE7UUFBQUMsTUFBQTtNQUNuQixJQUFJLENBQUN0SSxXQUFXLENBQUMsSUFBSSxDQUFDakssS0FBSyxDQUFDO01BQzVCLElBQUF3UyxZQUFBLEdBQ0UsSUFBSSxDQUFDeFMsS0FBSztRQURMeVMsa0JBQWtCLEdBQUFELFlBQUEsQ0FBbEJDLGtCQUFrQjtRQUFFQyxtQkFBbUIsR0FBQUYsWUFBQSxDQUFuQkUsbUJBQW1CO1FBQUVoQyxtQkFBbUIsR0FBQThCLFlBQUEsQ0FBbkI5QixtQkFBbUI7TUFFbkUsSUFBQWlDLFlBQUEsR0FBMkIsSUFBSSxDQUFDM1MsS0FBSztRQUE5Qm9KLElBQUksR0FBQXVKLFlBQUEsQ0FBSnZKLElBQUk7UUFBRXlELFVBQVUsR0FBQThGLFlBQUEsQ0FBVjlGLFVBQVU7TUFDdkIsSUFBTXdELGNBQWMsR0FBRyxJQUFJLENBQUNyUSxLQUFLLENBQUM0UyxRQUFRLEdBQ3RDLElBQUFsQix5Q0FBbUIsRUFBQyxJQUFJLENBQUMxUixLQUFLLENBQUM2TSxVQUFVLENBQUMsR0FDeENnRyxNQUFNLENBQUNDLG9CQUFvQixHQUMzQkQsTUFBTSxDQUFDRSxrQkFBa0IsR0FDM0IsSUFBSTtNQUNSLElBQU03QyxLQUE4QixHQUFHLEVBQUU7TUFDekMsSUFBTUUsc0JBQXNCLEdBQUcsSUFBSTRDLEdBQUcsQ0FBQyxJQUFJLENBQUNoVCxLQUFLLENBQUNtUSxtQkFBbUIsQ0FBQztNQUN0RSxJQUFNQSxtQkFBbUIsR0FBRyxFQUFFO01BRzlCLElBQUlPLG1CQUFtQixFQUFFO1FBQ3ZCLElBQUlOLHNCQUFzQixDQUFDaFMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFO1VBQ2pDK1IsbUJBQW1CLENBQUN6RixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzdCO1FBQ0EsSUFBTWtILE9BQU8sR0FBRyxJQUFBcUIscUJBQWMsRUFBQ3ZDLG1CQUFtQixDQUFDLEdBQ2pEQSxtQkFBbUIsR0FJbkIsSUFBQW5ULFdBQUEsQ0FBQXVHLEdBQUEsRUFBQzRNLG1CQUFtQixJQUFFLENBQ3ZCO1FBQ0RSLEtBQUssQ0FBQ3hGLElBQUksQ0FDUixJQUFBbk4sV0FBQSxDQUFBdUcsR0FBQSxFQUFDakgsdUJBQUEsQ0FBQXFXLGtDQUFrQztVQUNqQ2xTLE9BQU8sRUFBRSxJQUFJLENBQUM0TSxXQUFXLENBQUMsQ0FBQyxHQUFHLFNBQVU7VUFBQXVGLFFBQUEsRUFFeEMsSUFBQTVWLFdBQUEsQ0FBQXVHLEdBQUEsRUFBQ3pHLFlBQUEsQ0FBQTBHLElBQUk7WUFJSHFQLFdBQVcsRUFBRSxLQUFNO1lBQ25CcE4sUUFBUSxFQUFFLElBQUksQ0FBQ0ssZUFBZ0I7WUFDL0I4TCxLQUFLLEVBQUU5RCx1QkFBVSxDQUFDK0QsT0FBTyxDQUN2Qi9CLGNBQWMsRUFDZCxJQUFJLENBQUNyUSxLQUFLLENBQUNxVCx3QkFDYixDQUFFO1lBQUFGLFFBQUEsRUFHQXZCO1VBQU8sQ0FFTDtRQUFDLEdBZkgsU0FnQjhCLENBQ3RDLENBQUM7TUFDSDtNQUdBLElBQU1sSSxTQUFTLEdBQUcsSUFBSSxDQUFDMUosS0FBSyxDQUFDMkosWUFBWSxDQUFDUCxJQUFJLENBQUM7TUFDL0MsSUFBSU0sU0FBUyxLQUFLLENBQUMsSUFBSStJLGtCQUFrQixFQUFFO1FBQ3pDLElBQU1iLFFBQTBDLEdBQUssSUFBQXFCLHFCQUFjLEVBQ2pFUixrQkFDRixDQUFDLEdBQ0NBLGtCQUFrQixHQUlsQixJQUFBbFYsV0FBQSxDQUFBdUcsR0FBQSxFQUFDMk8sa0JBQWtCLElBQUUsQ0FDZjtRQUNSdkMsS0FBSyxDQUFDeEYsSUFBSSxDQUNSLElBQUFuTixXQUFBLENBQUF1RyxHQUFBLEVBQUNqSCx1QkFBQSxDQUFBcVcsa0NBQWtDO1VBQ2pDbFMsT0FBTyxFQUFFLElBQUksQ0FBQzRNLFdBQVcsQ0FBQyxDQUFDLEdBQUcsUUFBUztVQUFBdUYsUUFBQSxFQUV0QyxJQUFJLENBQUN4QixxQkFBcUIsQ0FBQ0MsUUFBTyxFQUFFdkIsY0FBYztRQUFDLEdBRGhELFFBRThCLENBQ3RDLENBQUM7TUFDSDtNQUdBLElBQUkzRyxTQUFTLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCakssZ0JBQWdCLEdBQUcsS0FBSztRQUN4QkMseUJBQXlCLEdBQUcsRUFBRTtRQUM5QixJQUFNNFQsU0FBUyxHQUFHLElBQUksQ0FBQzFSLGFBQWEsQ0FBQyxDQUFDaUwsVUFBVSxDQUFDO1FBRWpELElBQU0wRyxhQUFhLEdBQUcsSUFBSSxDQUFDak8sS0FBSyxDQUFDcUQsVUFBVSxDQUFDNkssZ0JBQWdCLENBQUMsQ0FBQztRQUM5RCxJQUFNQyxVQUFVLEdBQUdGLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDeEosTUFBTSxHQUFHLENBQUMsQ0FBQztRQUMxRCxJQUFNMkosVUFBVSxHQUFHRCxVQUFVLFlBQVZBLFVBQVUsQ0FBRUUsUUFBUSxHQUFHRixVQUFVLEdBQUcsSUFBSTtRQUUzRCxLQUFLLElBQU1HLE9BQU8sSUFBSUwsYUFBYSxFQUFFO1VBQ25DLElBQUlLLE9BQU8sQ0FBQ0QsUUFBUSxFQUFFO1lBR3BCLElBQUksSUFBSSxDQUFDM1QsS0FBSyxDQUFDOE8scUJBQXFCLEVBQUU7Y0FDcEM7WUFDRjtZQUtBLElBQU0rRSxZQUFZLEdBQUdELE9BQU8sS0FBS0YsVUFBVTtZQUMzQyxJQUFNSSxtQkFBbUIsR0FBR0QsWUFBWSxJQUFJLENBQUMsSUFBSSxDQUFDN1QsS0FBSyxDQUFDNEwsYUFBYTtZQUNyRSxJQUFNN0MsSUFBSSxHQUFHK0ssbUJBQW1CLEdBQzVCLElBQUFDLGNBQUssRUFDSEgsT0FBTyxDQUFDOUssS0FBSyxHQUFHLENBQUMsRUFDakI4SyxPQUFPLENBQUM3SyxJQUFJLEVBQ1osSUFBSSxDQUFDakgsWUFBWSxDQUFDa0ssMkJBQTJCLENBQUMsQ0FDaEQsQ0FBQyxHQUNENEgsT0FBTyxDQUFDN0ssSUFBSTtZQUVoQixJQUFNaUwsWUFBWSxHQUFHLElBQUksQ0FBQ2xTLFlBQVksQ0FBQ2dJLG9CQUFvQixDQUN6RDhKLE9BQU8sQ0FBQzlLLEtBQUssRUFDYixJQUFJLENBQUM5SSxLQUNQLENBQUM7WUFDRCxJQUFNaVUsV0FBVyxHQUFHLElBQUksQ0FBQ25TLFlBQVksQ0FBQ2dJLG9CQUFvQixDQUN4RGYsSUFBSSxFQUNKLElBQUksQ0FBQy9JLEtBQ1AsQ0FBQztZQUNELElBQU1rVSxVQUFVLEdBQ2RELFdBQVcsQ0FBQ2xSLE1BQU0sR0FBR2tSLFdBQVcsQ0FBQ2xLLE1BQU0sR0FBR2lLLFlBQVksQ0FBQ2pSLE1BQU07WUFDL0RtTixLQUFLLENBQUN4RixJQUFJLENBQ1IsSUFBQW5OLFdBQUEsQ0FBQXVHLEdBQUEsRUFBQ3pHLFlBQUEsQ0FBQTBHLElBQUk7Y0FHSG9PLEtBQUssTUFBQWdDLGdCQUFBLENBQUFoVyxPQUFBLE1BQUltVixTQUFTLEVBQUdZLFVBQVU7WUFBRSxHQUY1QixXQUFXTixPQUFPLENBQUM5SyxLQUFLLEVBRzlCLENBQ0gsQ0FBQztVQUNILENBQUMsTUFBTTtZQUNMLElBQUksQ0FBQ21ILFVBQVUsQ0FDYkMsS0FBSyxFQUNMQyxtQkFBbUIsRUFDbkJDLHNCQUFzQixFQUN0QndELE9BQU8sQ0FBQzlLLEtBQUssRUFDYjhLLE9BQU8sQ0FBQzdLLElBQUksRUFDWnNILGNBQ0YsQ0FBQztVQUNIO1FBQ0Y7UUFFQSxJQUFJLENBQUMsSUFBSSxDQUFDbE8sVUFBVSxDQUFDYixJQUFJLElBQUk3QixnQkFBZ0IsRUFBRTtVQUM3Q2lOLE9BQU8sQ0FBQ0MsSUFBSSxDQUNWLDZGQUE2RixHQUMzRix3Q0FBd0MsRUFDMUNqTix5QkFDRixDQUFDO1VBQ0QsSUFBSSxDQUFDeUMsVUFBVSxDQUFDYixJQUFJLEdBQUcsSUFBSTtRQUM3QjtNQUNGO01BR0EsSUFBSW9SLG1CQUFtQixFQUFFO1FBQ3ZCLElBQU1kLFNBQU8sR0FBRyxJQUFBcUIscUJBQWMsRUFBQ1AsbUJBQW1CLENBQUMsR0FDakRBLG1CQUFtQixHQUluQixJQUFBblYsV0FBQSxDQUFBdUcsR0FBQSxFQUFDNE8sbUJBQW1CLElBQUUsQ0FDdkI7UUFDRHhDLEtBQUssQ0FBQ3hGLElBQUksQ0FDUixJQUFBbk4sV0FBQSxDQUFBdUcsR0FBQSxFQUFDakgsdUJBQUEsQ0FBQXFXLGtDQUFrQztVQUNqQ2xTLE9BQU8sRUFBRSxJQUFJLENBQUNvRixpQkFBaUIsQ0FBQyxDQUFFO1VBQUErTSxRQUFBLEVBRWxDLElBQUE1VixXQUFBLENBQUF1RyxHQUFBLEVBQUN6RyxZQUFBLENBQUEwRyxJQUFJO1lBQ0hpQyxRQUFRLEVBQUUsSUFBSSxDQUFDRyxlQUFnQjtZQUMvQmdNLEtBQUssRUFBRTlELHVCQUFVLENBQUMrRCxPQUFPLENBQ3ZCL0IsY0FBYyxFQUNkLElBQUksQ0FBQ3JRLEtBQUssQ0FBQ29VLHdCQUNiLENBQUU7WUFBQWpCLFFBQUEsRUFHQXZCO1VBQU8sQ0FFTDtRQUFDLEdBWEgsU0FZOEIsQ0FDdEMsQ0FBQztNQUNIO01BR0EsSUFBTXlDLFdBQVcsR0FBQTNWLE1BQUEsQ0FBQXNGLE1BQUEsS0FDWixJQUFJLENBQUNoRSxLQUFLO1FBQ2IyRCxtQkFBbUIsRUFBRSxJQUFJLENBQUMyQyxvQkFBb0I7UUFDOUNOLFFBQVEsRUFBRSxJQUFJLENBQUNILFNBQVM7UUFDeEJtQixRQUFRLEVBQUUsSUFBSSxDQUFDRCxTQUFTO1FBQ3hCbUIsaUJBQWlCLEVBQUUsSUFBSSxDQUFDSCxrQkFBa0I7UUFDMUNNLGVBQWUsRUFBRSxJQUFJLENBQUNGLGdCQUFnQjtRQUN0Q0kscUJBQXFCLEVBQUUsSUFBSSxDQUFDRCxzQkFBc0I7UUFDbERHLG1CQUFtQixFQUFFLElBQUksQ0FBQ0Qsb0JBQW9CO1FBRzlDOEwsbUJBQW1CLEdBQUFoQyxxQkFBQSxHQUFFLElBQUksQ0FBQ3RTLEtBQUssQ0FBQ3NVLG1CQUFtQixZQUFBaEMscUJBQUEsR0FBSSxNQUFNO1FBQzdEaUMsbUJBQW1CLEVBQ2pCLElBQUksQ0FBQ3ZVLEtBQUssQ0FBQ3VVLG1CQUFtQixLQUFLbkQsU0FBUyxHQUN4QyxJQUFJLENBQUNwUixLQUFLLENBQUN1VSxtQkFBbUIsR0FDOUIsSUFBSSxDQUFDdlUsS0FBSyxDQUFDNFMsUUFBUTtRQUN6QnpDLG1CQUFtQixFQUFuQkEsbUJBQW1CO1FBQ25CZ0MsS0FBSyxFQUFFOUIsY0FBYyxHQUNqQixDQUFDQSxjQUFjLEVBQUUsSUFBSSxDQUFDclEsS0FBSyxDQUFDbVMsS0FBSyxDQUFDLEdBQ2xDLElBQUksQ0FBQ25TLEtBQUssQ0FBQ21TLEtBQUs7UUFDcEJxQyx5QkFBeUIsRUFBRSxJQUFJLENBQUN4VSxLQUFLLENBQUM0UyxRQUFRO1FBQzlDOUgsOEJBQThCLEVBQzVCLElBQUksQ0FBQzlLLEtBQUssQ0FBQzhLLDhCQUE4QixJQUFJLElBQUksR0FBQXBNLE1BQUEsQ0FBQXNGLE1BQUEsS0FFeEMsSUFBSSxDQUFDaEUsS0FBSyxDQUFDOEssOEJBQThCO1VBRTVDRCxrQkFBa0IsRUFDaEIsSUFBSSxDQUFDN0ssS0FBSyxDQUFDOEssOEJBQThCLENBQUNELGtCQUFrQixJQUMzRCxJQUFJLENBQUM3SyxLQUFLLENBQUMwUSxtQkFBbUIsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUFDLEtBRTVDVTtNQUFTLEVBQ2hCO01BRUQsSUFBSSxDQUFDbFAsUUFBUSxHQUFHLElBQUksQ0FBQ29ELEtBQUssQ0FBQ0MsbUJBQW1CLENBQUN3RCxJQUFJLEdBQUdXLFNBQVMsR0FBRyxDQUFDO01BRW5FLElBQU0rSyxRQUFRLEdBQ1osSUFBQWxYLFdBQUEsQ0FBQXVHLEdBQUEsRUFBQ2pILHVCQUFBLENBQUE2WCw4QkFBOEI7UUFDN0J2SixLQUFLLEVBQUU7VUFDTG5LLE9BQU8sRUFBRSxJQUFJO1VBQ2IyVCxnQkFBZ0IsRUFBRSxJQUFJLENBQUN0VSxpQkFBaUI7VUFDeEN3TSxVQUFVLEVBQUUsSUFBQTZFLHlDQUFtQixFQUFDLElBQUksQ0FBQzFSLEtBQUssQ0FBQzZNLFVBQVUsQ0FBQztVQUN0RG5NLHlCQUF5QixFQUFFLElBQUksQ0FBQ0gsMEJBQTBCO1VBQzFEb1AscUJBQXFCLEVBQUUsSUFBSSxDQUFDaFAsc0JBQXNCO1VBQ2xEa1AsdUJBQXVCLEVBQUUsSUFBSSxDQUFDMU87UUFDaEMsQ0FBRTtRQUFBZ1MsUUFBQSxFQUNELElBQUFsQixtQkFBWSxFQUNYLENBQ0UsSUFBSSxDQUFDalMsS0FBSyxDQUFDNFUscUJBQXFCLElBQ2hDLElBQUksQ0FBQ25SLDZCQUE2QixFQUdsQzRRLFdBQ0YsQ0FBQyxFQUNEO1VBQ0V0VCxHQUFHLEVBQUUsSUFBSSxDQUFDeUM7UUFDWixDQUFDLEVBQ0QwTSxLQUNGO01BQUMsQ0FDNkIsQ0FDakM7TUFDRCxJQUFJMkUsR0FBZSxHQUFHSixRQUFRO01BQzlCLElBQUl2RyxPQUFPLEVBQUU7UUFDWDJHLEdBQUcsR0FDRCxJQUFBdFgsV0FBQSxDQUFBdUcsR0FBQSxFQUFDekcsWUFBQSxDQUFBaUgsVUFBVSxDQUFDd1EsT0FBTyxDQUFDQyxRQUFRO1VBQUE1QixRQUFBLEVBQ3pCLFNBQUFBLFNBQUE2QixhQUFhLEVBQUk7WUFDaEIsSUFDRUEsYUFBYSxJQUFJLElBQUksSUFDckIsQ0FBQ0EsYUFBYSxDQUFDbkksVUFBVSxLQUN2QixDQUFDLElBQUE2RSx5Q0FBbUIsRUFBQ2EsTUFBSSxDQUFDdlMsS0FBSyxDQUFDNk0sVUFBVSxDQUFDLElBQzdDLENBQUMwRixNQUFJLENBQUNwUSxVQUFVLENBQUM4UyxPQUFPLElBQ3hCMUMsTUFBSSxDQUFDOVIsT0FBTyxJQUFJLElBQUksSUFDcEI4UixNQUFJLENBQUN2UyxLQUFLLENBQUNrVixhQUFhLEtBQUssS0FBSyxFQUNsQztjQUNBeEksT0FBTyxDQUFDeUksS0FBSyxDQUNYLGlGQUFpRixHQUMvRSxtRkFBbUYsR0FDbkYsMkNBQ0osQ0FBQztjQUNENUMsTUFBSSxDQUFDcFEsVUFBVSxDQUFDOFMsT0FBTyxHQUFHLElBQUk7WUFDaEM7WUFDQSxPQUFPUixRQUFRO1VBQ2pCO1FBQUMsQ0FDMEIsQ0FDOUI7TUFDSDtNQUNBLElBQUksSUFBSSxDQUFDelUsS0FBSyxDQUFDNFEsS0FBSyxFQUFFO1FBQ3BCLE9BQ0UsSUFBQXJULFdBQUEsQ0FBQTZYLElBQUEsRUFBQy9YLFlBQUEsQ0FBQTBHLElBQUk7VUFBQ29PLEtBQUssRUFBRVUsTUFBTSxDQUFDakMsS0FBTTtVQUFBdUMsUUFBQSxHQUN2QjBCLEdBQUcsRUFDSCxJQUFJLENBQUNRLG1CQUFtQixDQUFDLENBQUM7UUFBQSxDQUN2QixDQUFDO01BRVgsQ0FBQyxNQUFNO1FBQ0wsT0FBT1IsR0FBRztNQUNaO0lBQ0Y7RUFBQztJQUFBcFQsR0FBQTtJQUFBMEosS0FBQSxFQUVELFNBQUFtSyxrQkFBa0JBLENBQUNDLFNBQStCLEVBQUU7TUFDbEQsSUFBQUMsWUFBQSxHQUF5QyxJQUFJLENBQUN4VixLQUFLO1FBQTVDb0osSUFBSSxHQUFBb00sWUFBQSxDQUFKcE0sSUFBSTtRQUFFcU0sU0FBUyxHQUFBRCxZQUFBLENBQVRDLFNBQVM7UUFBRTdKLGFBQWEsR0FBQTRKLFlBQUEsQ0FBYjVKLGFBQWE7TUFDckMsSUFBSXhDLElBQUksS0FBS21NLFNBQVMsQ0FBQ25NLElBQUksSUFBSXFNLFNBQVMsS0FBS0YsU0FBUyxDQUFDRSxTQUFTLEVBQUU7UUFHaEUsSUFBSSxDQUFDbFMsa0JBQWtCLENBQUMvQixPQUFPLENBQUMsVUFBQXdHLEtBQUssRUFBSTtVQUN2Q0EsS0FBSyxDQUFDQyxpQkFBaUIsQ0FBQ3lOLG9CQUFvQixDQUFDLENBQUM7UUFDaEQsQ0FBQyxDQUFDO01BQ0o7TUFPQSxJQUFNQyxlQUFlLEdBQUcsSUFBSSxDQUFDdFQsZ0JBQWdCO01BQzdDLElBQUksQ0FBQzZDLDRCQUE0QixDQUFDLENBQUM7TUFHbkMsSUFBSXlRLGVBQWUsRUFBRTtRQUNuQixJQUFJLENBQUN0VCxnQkFBZ0IsR0FBRyxLQUFLO01BQy9CO01BTUEsSUFBSXVKLGFBQWEsSUFBSSxJQUFJLEVBQUU7UUFDekIsSUFBSSxDQUFDM0YsdUJBQXVCLENBQUMsQ0FBQztNQUNoQztJQUNGO0VBQUM7SUFBQXhFLEdBQUE7SUFBQTBKLEtBQUEsRUErQ0QsU0FBQS9GLGlCQUFpQkEsQ0FBQSxFQUFHO01BQ2xCLElBQUksQ0FBQ3lDLGVBQWUsQ0FBQytOLGdCQUFnQixDQUNuQyxJQUFJLENBQUM1VixLQUFLLEVBQ1YsSUFBSSxDQUFDc0YsS0FBSyxDQUFDQyxtQkFBbUIsRUFDOUIsSUFBSSxDQUFDakYsY0FDUCxDQUFDO0lBQ0g7RUFBQztJQUFBbUIsR0FBQTtJQUFBMEosS0FBQSxFQWdGRCxTQUFBaEcsb0NBQW9DQSxDQUFDbkUsT0FBZSxFQUFRO01BQzFELElBQUksQ0FBQ0gsaUJBQWlCLENBQUNnVixhQUFhLENBQUM3VSxPQUFPLEVBQUUsVUFBQUosU0FBUyxFQUFJO1FBQ3pEQSxTQUFTLENBQUNrRixxQ0FBcUMsQ0FBQyxDQUFDO01BQ25ELENBQUMsQ0FBQztJQUNKO0VBQUM7SUFBQXJFLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBckYscUNBQXFDQSxDQUFBLEVBQVM7TUFBQSxJQUFBZ1EsTUFBQTtNQUc1QyxJQUFJO1FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQzNTLFVBQVUsRUFBRTtVQUNwQjtRQUNGO1FBR0EsSUFBSSxDQUFDQSxVQUFVLENBQUM0UyxhQUFhLENBQzNCLElBQUksQ0FBQ3RWLE9BQU8sQ0FBQ0MseUJBQXlCLENBQUMsQ0FBQyxDQUFDZ04sWUFBWSxDQUFDLENBQUMsRUFDdkQsVUFBQ04sQ0FBQyxFQUFFQyxDQUFDLEVBQUU5RyxLQUFLLEVBQUVDLE1BQU0sRUFBSztVQUN2QnNQLE1BQUksQ0FBQ3BULGdDQUFnQyxHQUFHb1QsTUFBSSxDQUFDMU4sYUFBYSxDQUFDO1lBQUNnRixDQUFDLEVBQURBLENBQUM7WUFBRUMsQ0FBQyxFQUFEQTtVQUFDLENBQUMsQ0FBQztVQUNsRXlJLE1BQUksQ0FBQ2hVLFlBQVksQ0FBQzJFLHVCQUF1QixDQUFDO1lBQ3hDM0IsTUFBTSxFQUFFO2NBQUN5QixLQUFLLEVBQUxBLEtBQUs7Y0FBRUMsTUFBTSxFQUFOQTtZQUFNLENBQUM7WUFDdkJ4QixXQUFXLEVBQUU4USxNQUFJLENBQUM3USxZQUFZLENBQUM7VUFDakMsQ0FBQyxDQUFDO1VBQ0YsSUFBTStRLGFBQWEsR0FBR0YsTUFBSSxDQUFDblAsMkJBQTJCLENBQ3BEbVAsTUFBSSxDQUFDclYsT0FBTyxDQUFDa1UsZ0JBQWdCLENBQUMsQ0FDaEMsQ0FBQztVQUVELElBQU1zQixjQUFjLEdBQ2xCSCxNQUFJLENBQUN4VixjQUFjLENBQUNULGFBQWEsS0FBS21XLGFBQWEsQ0FBQ25XLGFBQWEsSUFDakVpVyxNQUFJLENBQUN4VixjQUFjLENBQUN5QyxNQUFNLEtBQUtpVCxhQUFhLENBQUNqVCxNQUFNO1VBRXJELElBQUlrVCxjQUFjLEVBQUU7WUFDbEJILE1BQUksQ0FBQ3hWLGNBQWMsQ0FBQ1QsYUFBYSxHQUFHbVcsYUFBYSxDQUFDblcsYUFBYTtZQUMvRGlXLE1BQUksQ0FBQ3hWLGNBQWMsQ0FBQ3lDLE1BQU0sR0FBR2lULGFBQWEsQ0FBQ2pULE1BQU07WUFJakQrUyxNQUFJLENBQUNqVixpQkFBaUIsQ0FBQ1csT0FBTyxDQUFDLFVBQUFaLFNBQVMsRUFBSTtjQUMxQ0EsU0FBUyxDQUFDa0YscUNBQXFDLENBQUMsQ0FBQztZQUNuRCxDQUFDLENBQUM7VUFDSjtRQUNGLENBQUMsRUFDRCxVQUFBcVAsS0FBSyxFQUFJO1VBQ1B6SSxPQUFPLENBQUNDLElBQUksQ0FDVixnRUFBZ0UsR0FDOUQsOENBQ0osQ0FBQztRQUNILENBQ0YsQ0FBQztNQUNILENBQUMsQ0FBQyxPQUFPd0ksS0FBSyxFQUFFO1FBQ2R6SSxPQUFPLENBQUNDLElBQUksQ0FDVixzREFBc0QsRUFDdER3SSxLQUFLLENBQUNlLEtBQ1IsQ0FBQztNQUNIO0lBQ0Y7RUFBQztJQUFBelUsR0FBQTtJQUFBMEosS0FBQSxFQXFCRCxTQUFBL0UsaUJBQWlCQSxDQUFBLEVBQVc7TUFDMUIsT0FBTyxJQUFJLENBQUN3SCxXQUFXLENBQUMsQ0FBQyxHQUFHLFNBQVM7SUFDdkM7RUFBQztJQUFBbk0sR0FBQTtJQUFBMEosS0FBQSxFQVlELFNBQUFrSyxtQkFBbUJBLENBQUEsRUFBRztNQUNwQixJQUFNYyxTQUFTLEdBQ2IsSUFBSSxDQUFDN1YsY0FBYyxDQUFDVCxhQUFhLElBQ2hDLElBQUksQ0FBQ2lDLFlBQVksQ0FBQ2dGLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7TUFDN0MsSUFBTXNQLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQU0xTSxTQUFTLEdBQUcsSUFBSSxDQUFDMUosS0FBSyxDQUFDMkosWUFBWSxDQUFDLElBQUksQ0FBQzNKLEtBQUssQ0FBQ29KLElBQUksQ0FBQztNQUMxRCxLQUFLLElBQUltRyxFQUFFLEdBQUcsQ0FBQyxFQUFFQSxFQUFFLEdBQUc3RixTQUFTLEVBQUU2RixFQUFFLEVBQUUsRUFBRTtRQUNyQyxJQUFNL0QsS0FBSyxHQUFHLElBQUksQ0FBQzFKLFlBQVksQ0FBQ2dJLG9CQUFvQixDQUFDeUYsRUFBRSxFQUFFLElBQUksQ0FBQ3ZQLEtBQUssQ0FBQztRQUNwRSxJQUFJd0wsS0FBSyxDQUFDNkssU0FBUyxFQUFFO1VBQ25CRCxjQUFjLENBQUMxTCxJQUFJLENBQUNjLEtBQUssQ0FBQztRQUM1QjtNQUNGO01BQ0EsSUFBTThLLFNBQVMsR0FBRyxJQUFJLENBQUN4VSxZQUFZLENBQUNnSSxvQkFBb0IsQ0FDdEQsSUFBSSxDQUFDeEUsS0FBSyxDQUFDQyxtQkFBbUIsQ0FBQ3VELEtBQUssRUFDcEMsSUFBSSxDQUFDOUksS0FDUCxDQUFDLENBQUMrQyxNQUFNO01BQ1IsSUFBTXdULFNBQVMsR0FBRyxJQUFJLENBQUN6VSxZQUFZLENBQUNnSSxvQkFBb0IsQ0FDdEQsSUFBSSxDQUFDeEUsS0FBSyxDQUFDQyxtQkFBbUIsQ0FBQ3dELElBQUksRUFDbkMsSUFBSSxDQUFDL0ksS0FDUCxDQUFDO01BQ0QsSUFBTXdXLFNBQVMsR0FBR0QsU0FBUyxDQUFDeFQsTUFBTSxHQUFHd1QsU0FBUyxDQUFDeE0sTUFBTSxHQUFHdU0sU0FBUztNQUNqRSxJQUFNRyxNQUFNLEdBQUcsSUFBSSxDQUFDblcsY0FBYyxDQUFDeUMsTUFBTTtNQUN6QyxJQUFNMlQsTUFBTSxHQUFHLElBQUksQ0FBQ3BXLGNBQWMsQ0FBQ1QsYUFBYTtNQUVoRCxPQUNFLElBQUF0QyxXQUFBLENBQUE2WCxJQUFBLEVBQUMvWCxZQUFBLENBQUEwRyxJQUFJO1FBQUNvTyxLQUFLLEVBQUUsQ0FBQ1UsTUFBTSxDQUFDOEQsZ0JBQWdCLEVBQUU5RCxNQUFNLENBQUMrRCxZQUFZLENBQUU7UUFBQXpELFFBQUEsR0FDekRpRCxjQUFjLENBQUNoTSxHQUFHLENBQUMsVUFBQ25NLENBQUMsRUFBRXNSLEVBQUU7VUFBQSxPQUN4QixJQUFBaFMsV0FBQSxDQUFBdUcsR0FBQSxFQUFDekcsWUFBQSxDQUFBMEcsSUFBSTtZQUVIb08sS0FBSyxFQUFFLENBQ0xVLE1BQU0sQ0FBQzhELGdCQUFnQixFQUN2QjlELE1BQU0sQ0FBQ2dFLGlCQUFpQixFQUN4QjtjQUNFQyxHQUFHLEVBQUU3WSxDQUFDLENBQUM4RSxNQUFNLEdBQUdvVCxTQUFTO2NBQ3pCM1AsTUFBTSxFQUFFdkksQ0FBQyxDQUFDOEwsTUFBTSxHQUFHb007WUFDckIsQ0FBQztVQUNELEdBUkcsR0FBRyxHQUFHNUcsRUFTWixDQUFDO1FBQUEsQ0FDSCxDQUFDLEVBQ0YsSUFBQWhTLFdBQUEsQ0FBQXVHLEdBQUEsRUFBQ3pHLFlBQUEsQ0FBQTBHLElBQUk7VUFDSG9PLEtBQUssRUFBRSxDQUNMVSxNQUFNLENBQUM4RCxnQkFBZ0IsRUFDdkI5RCxNQUFNLENBQUNrRSxxQkFBcUIsRUFDNUI7WUFDRUQsR0FBRyxFQUFFUixTQUFTLEdBQUdILFNBQVM7WUFDMUIzUCxNQUFNLEVBQUVnUSxTQUFTLEdBQUdMO1VBQ3RCLENBQUM7UUFDRCxDQUNILENBQUMsRUFDRixJQUFBNVksV0FBQSxDQUFBdUcsR0FBQSxFQUFDekcsWUFBQSxDQUFBMEcsSUFBSTtVQUNIb08sS0FBSyxFQUFFLENBQ0xVLE1BQU0sQ0FBQzhELGdCQUFnQixFQUN2QjlELE1BQU0sQ0FBQ21FLG9CQUFvQixFQUMzQjtZQUNFRixHQUFHLEVBQUVMLE1BQU0sR0FBR04sU0FBUztZQUN2QjNQLE1BQU0sRUFBRWtRLE1BQU0sR0FBR1A7VUFDbkIsQ0FBQztRQUNELENBQ0gsQ0FBQztNQUFBLENBQ0UsQ0FBQztJQUVYO0VBQUM7SUFBQTFVLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBcEYsYUFBYUEsQ0FDWGEsT0FJRSxFQUNNO01BQ1IsT0FBTyxDQUFDLElBQUE4Syx5Q0FBbUIsRUFBQyxJQUFJLENBQUMxUixLQUFLLENBQUM2TSxVQUFVLENBQUMsR0FDOUNqRyxPQUFPLENBQUNKLE1BQU0sR0FDZEksT0FBTyxDQUFDTCxLQUFLO0lBQ25CO0VBQUM7SUFBQTlFLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFBL0MsYUFBYUEsQ0FBQTZPLEtBQUEsRUFBeUQ7TUFBQSxJQUF2RDdKLENBQUMsR0FBQTZKLEtBQUEsQ0FBRDdKLENBQUM7UUFBRUMsQ0FBQyxHQUFBNEosS0FBQSxDQUFENUosQ0FBQztNQUNqQixPQUFPLElBQUksQ0FBQ3BJLFlBQVksQ0FBQyxDQUFDLENBQUM0SCxVQUFVLEdBQUdPLENBQUMsR0FBR0MsQ0FBQztJQUMvQztFQUFDO0lBQUE1TCxHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQWxHLFlBQVlBLENBQUEsRUFBb0I7TUFDOUIsT0FBTztRQUNMNEgsVUFBVSxFQUFFLElBQUE2RSx5Q0FBbUIsRUFBQyxJQUFJLENBQUMxUixLQUFLLENBQUM2TSxVQUFVLENBQUM7UUFDdERDLEdBQUcsRUFBRW9LLHdCQUFXLENBQUNDO01BQ25CLENBQUM7SUFDSDtFQUFDO0lBQUExVixHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQWxGLHVCQUF1QkEsQ0FBQSxFQUFHO01BQ3hCLElBQUFtUixZQUFBLEdBT0ksSUFBSSxDQUFDcFgsS0FBSztRQU5ab0osSUFBSSxHQUFBZ08sWUFBQSxDQUFKaE8sSUFBSTtRQUNKTyxZQUFZLEdBQUF5TixZQUFBLENBQVp6TixZQUFZO1FBQ1owTixjQUFjLEdBQUFELFlBQUEsQ0FBZEMsY0FBYztRQUNkQyx1QkFBdUIsR0FBQUYsWUFBQSxDQUF2QkUsdUJBQXVCO1FBQ3ZCQyxZQUFZLEdBQUFILFlBQUEsQ0FBWkcsWUFBWTtRQUNaL0kscUJBQXFCLEdBQUE0SSxZQUFBLENBQXJCNUkscUJBQXFCO01BR3ZCLElBQ0UsQ0FBQyxJQUFJLENBQUMxTSxZQUFZLENBQUNpTCxnQkFBZ0IsQ0FBQyxDQUFDLElBQ3JDLElBQUksQ0FBQ3pNLGNBQWMsQ0FBQ1QsYUFBYSxLQUFLLENBQUMsRUFDdkM7UUFDQTtNQUNGO01BSUEsSUFBSSxJQUFJLENBQUN5RixLQUFLLENBQUNxQyx3QkFBd0IsR0FBRyxDQUFDLEVBQUU7UUFDM0M7TUFDRjtNQUVBLElBQUE2UCxxQkFBQSxHQUFnQyxJQUFJLENBQUNsWCxjQUFjO1FBQTVDVCxhQUFhLEdBQUEyWCxxQkFBQSxDQUFiM1gsYUFBYTtRQUFFa0QsTUFBTSxHQUFBeVUscUJBQUEsQ0FBTnpVLE1BQU07TUFDNUIsSUFBSTBVLGlCQUFpQixHQUFHMVUsTUFBTTtNQUM5QixJQUFJNEwsZUFBZSxHQUNqQixJQUFJLENBQUM3TSxZQUFZLENBQUNnRixnQkFBZ0IsQ0FBQyxDQUFDLEdBQUdqSCxhQUFhLEdBQUdrRCxNQUFNO01BSy9ELElBQUkwVSxpQkFBaUIsR0FBR2pZLHVCQUF1QixFQUFFO1FBQy9DaVksaUJBQWlCLEdBQUcsQ0FBQztNQUN2QjtNQUNBLElBQUk5SSxlQUFlLEdBQUduUCx1QkFBdUIsRUFBRTtRQUM3Q21QLGVBQWUsR0FBRyxDQUFDO01BQ3JCO01BSUEsSUFBTStJLG9CQUFvQixHQUFHLENBQUM7TUFFOUIsSUFBTUMsY0FBYyxHQUNsQkwsdUJBQXVCLElBQUksSUFBSSxHQUMzQkEsdUJBQXVCLEdBQUd6WCxhQUFhLEdBQ3ZDNlgsb0JBQW9CO01BQzFCLElBQU1FLFlBQVksR0FDaEJwSixxQkFBcUIsSUFBSSxJQUFJLEdBQ3pCQSxxQkFBcUIsR0FBRzNPLGFBQWEsR0FDckM2WCxvQkFBb0I7TUFDMUIsSUFBTUcsc0JBQXNCLEdBQUdKLGlCQUFpQixJQUFJRSxjQUFjO01BQ2xFLElBQU1HLG9CQUFvQixHQUFHbkosZUFBZSxJQUFJaUosWUFBWTtNQUs1RCxJQUNFTCxZQUFZLElBQ1osSUFBSSxDQUFDalMsS0FBSyxDQUFDQyxtQkFBbUIsQ0FBQ3dELElBQUksS0FBS1ksWUFBWSxDQUFDUCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQzlEME8sb0JBQW9CLElBQ3BCLElBQUksQ0FBQ2hXLFlBQVksQ0FBQ2dGLGdCQUFnQixDQUFDLENBQUMsS0FBSyxJQUFJLENBQUN6RCx3QkFBd0IsRUFDdEU7UUFDQSxJQUFJLENBQUNBLHdCQUF3QixHQUFHLElBQUksQ0FBQ3ZCLFlBQVksQ0FBQ2dGLGdCQUFnQixDQUFDLENBQUM7UUFDcEV5USxZQUFZLENBQUM7VUFBQzVJLGVBQWUsRUFBZkE7UUFBZSxDQUFDLENBQUM7TUFDakM7TUFLQSxJQUNFMEksY0FBYyxJQUFJLElBQUksSUFDdEIsSUFBSSxDQUFDL1IsS0FBSyxDQUFDQyxtQkFBbUIsQ0FBQ3VELEtBQUssS0FBSyxDQUFDLElBQzFDK08sc0JBQXNCLElBQ3RCLElBQUksQ0FBQy9WLFlBQVksQ0FBQ2dGLGdCQUFnQixDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMxRCwwQkFBMEIsRUFDeEU7UUFDQSxJQUFJLENBQUNBLDBCQUEwQixHQUFHLElBQUksQ0FBQ3RCLFlBQVksQ0FBQ2dGLGdCQUFnQixDQUFDLENBQUM7UUFDdEV1USxjQUFjLENBQUM7VUFBQ0ksaUJBQWlCLEVBQWpCQTtRQUFpQixDQUFDLENBQUM7TUFDckM7TUFJQSxJQUFJLENBQUNJLHNCQUFzQixFQUFFO1FBQzNCLElBQUksQ0FBQ3pVLDBCQUEwQixHQUFHLENBQUM7TUFDckM7TUFDQSxJQUFJLENBQUMwVSxvQkFBb0IsRUFBRTtRQUN6QixJQUFJLENBQUN6VSx3QkFBd0IsR0FBRyxDQUFDO01BQ25DO0lBQ0Y7RUFBQztJQUFBNUIsR0FBQTtJQUFBMEosS0FBQSxFQXNCRCxTQUFBekUsZ0NBQWdDQSxDQUM5QnFSLFlBQW9CLEVBQ3BCQyxhQUFxQixFQUNyQjtNQUNBLElBQ0VELFlBQVksR0FBRyxDQUFDLElBQ2hCQyxhQUFhLEdBQUcsQ0FBQyxJQUNqQixJQUFJLENBQUNoWSxLQUFLLENBQUNnTCxrQkFBa0IsSUFBSSxJQUFJLElBQ3JDLElBQUksQ0FBQ2hMLEtBQUssQ0FBQ2dMLGtCQUFrQixHQUFHLENBQUMsSUFDakMsQ0FBQyxJQUFJLENBQUMvSSxpQ0FBaUMsRUFDdkM7UUFDQSxJQUFJLElBQUksQ0FBQ2pDLEtBQUssQ0FBQ2lZLGFBQWEsSUFBSSxJQUFJLEVBQUU7VUFDcEMsSUFDRSxJQUFJLENBQUNqWSxLQUFLLENBQUNnTCxrQkFBa0IsR0FDN0IsSUFBSSxDQUFDaEwsS0FBSyxDQUFDMkosWUFBWSxDQUFDLElBQUksQ0FBQzNKLEtBQUssQ0FBQ29KLElBQUksQ0FBQyxFQUN4QztZQUNBLElBQUksQ0FBQ3NDLGFBQWEsQ0FBQztjQUNqQkosUUFBUSxFQUFFLEtBQUs7Y0FDZnBDLEtBQUssRUFBRSxJQUFBZ1AsbUJBQVUsRUFBQyxJQUFJLENBQUNsWSxLQUFLLENBQUNnTCxrQkFBa0I7WUFDakQsQ0FBQyxDQUFDO1VBQ0osQ0FBQyxNQUFNO1lBQ0wsSUFBSSxDQUFDSSxXQUFXLENBQUM7Y0FBQ0UsUUFBUSxFQUFFO1lBQUssQ0FBQyxDQUFDO1VBQ3JDO1FBQ0Y7UUFDQSxJQUFJLENBQUNySixpQ0FBaUMsR0FBRyxJQUFJO01BQy9DO0lBQ0Y7RUFBQztJQUFBUixHQUFBO0lBQUEwSixLQUFBLEVBeUJELFNBQUFnTixpQkFBaUJBLENBQUMxYSxDQUFTLEVBQUU7TUFDM0IsSUFBSSxDQUFDc0osU0FBUyxDQUFDdEosQ0FBQyxDQUFDO0lBQ25CO0VBQUM7SUFBQWdFLEdBQUE7SUFBQTBKLEtBQUEsRUE0RUQsU0FBQS9ELHNCQUFzQkEsQ0FBQzNKLENBQWMsRUFBVTtNQUM3QyxJQUFBMmEsY0FBQSxHQUF3RDNhLENBQUMsQ0FBQ3NILFdBQVc7UUFBOURrVCxhQUFhLEdBQUFHLGNBQUEsQ0FBYkgsYUFBYTtRQUFFOVEsV0FBVyxHQUFBaVIsY0FBQSxDQUFYalIsV0FBVztRQUFFRCxpQkFBaUIsR0FBQWtSLGNBQUEsQ0FBakJsUixpQkFBaUI7TUFDcEQsSUFBQW1SLG1CQUFBLEdBQTBCLElBQUksQ0FBQ3BULFlBQVksQ0FBQyxDQUFDO1FBQXRDNEgsVUFBVSxHQUFBd0wsbUJBQUEsQ0FBVnhMLFVBQVU7UUFBRUMsR0FBRyxHQUFBdUwsbUJBQUEsQ0FBSHZMLEdBQUc7TUFDdEIsSUFBSUQsVUFBVSxJQUFJQyxHQUFHLEVBQUU7UUFDckIsT0FDRSxJQUFJLENBQUMvRyxhQUFhLENBQUNvQixXQUFXLENBQUMsSUFDOUIsSUFBSSxDQUFDaUIsYUFBYSxDQUFDNlAsYUFBYSxDQUFDLEdBQ2hDLElBQUksQ0FBQ2xTLGFBQWEsQ0FBQ21CLGlCQUFpQixDQUFDLENBQUM7TUFFNUMsQ0FBQyxNQUFNO1FBQ0wsT0FBTyxJQUFJLENBQUNrQixhQUFhLENBQUM2UCxhQUFhLENBQUM7TUFDMUM7SUFDRjtFQUFDO0lBQUF4VyxHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQWpHLDRCQUE0QkEsQ0FBQSxFQUFHO01BQUEsSUFBQW9ULE1BQUE7TUFRN0IsSUFDRSxDQUFDLElBQUksQ0FBQ3hXLFlBQVksQ0FBQ29LLG9CQUFvQixDQUFDLENBQUMsR0FBRyxDQUFDLElBQzNDLElBQUksQ0FBQ2xNLEtBQUssQ0FBQzRMLGFBQWEsSUFBSSxJQUFJLEtBQ2xDLElBQUksQ0FBQzJNLHlCQUF5QixDQUFDLENBQUMsSUFDaEMsQ0FBQyxJQUFJLENBQUNsVyxnQkFBZ0IsRUFDdEI7UUFDQSxJQUFJLENBQUNBLGdCQUFnQixHQUFHLElBQUk7UUFHNUIsSUFBSSxJQUFJLENBQUNpQiw2QkFBNkIsSUFBSSxJQUFJLEVBQUU7VUFDOUN3TSxZQUFZLENBQUMsSUFBSSxDQUFDeE0sNkJBQTZCLENBQUM7VUFDaEQsSUFBSSxDQUFDQSw2QkFBNkIsR0FBRyxJQUFJO1FBQzNDO1FBQ0EsSUFBSSxDQUFDb0Msb0JBQW9CLENBQUMsQ0FBQztRQUMzQjtNQUNGLENBQUMsTUFBTTtRQUNMLElBQUksSUFBSSxDQUFDcEMsNkJBQTZCLElBQUksSUFBSSxFQUFFO1VBQUEsSUFBQWtWLHFCQUFBO1VBQzlDLElBQUksQ0FBQ2xWLDZCQUE2QixHQUFHbVYsVUFBVSxDQUFDLFlBQU07WUFDcERILE1BQUksQ0FBQ2hWLDZCQUE2QixHQUFHLElBQUk7WUFDekNnVixNQUFJLENBQUM1UyxvQkFBb0IsQ0FBQyxDQUFDO1VBQzdCLENBQUMsR0FBQThTLHFCQUFBLEdBQUUsSUFBSSxDQUFDeFksS0FBSyxDQUFDMFkseUJBQXlCLFlBQUFGLHFCQUFBLEdBQUksRUFBRSxDQUFDO1FBQ2hEO01BQ0Y7SUFDRjtFQUFDO0lBQUEvVyxHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQW9OLHlCQUF5QkEsQ0FBQSxFQUFZO01BQ25DLElBQUFJLHFCQUFBLEdBQXNCLElBQUksQ0FBQ3JULEtBQUssQ0FBQ0MsbUJBQW1CO1FBQTdDdUQsS0FBSyxHQUFBNlAscUJBQUEsQ0FBTDdQLEtBQUs7UUFBRUMsSUFBSSxHQUFBNFAscUJBQUEsQ0FBSjVQLElBQUk7TUFDbEIsSUFBQTZQLHFCQUFBLEdBQTBDLElBQUksQ0FBQ3RZLGNBQWM7UUFBdER5QyxNQUFNLEdBQUE2VixxQkFBQSxDQUFON1YsTUFBTTtRQUFFbEQsYUFBYSxHQUFBK1kscUJBQUEsQ0FBYi9ZLGFBQWE7UUFBRW9ELFFBQVEsR0FBQTJWLHFCQUFBLENBQVIzVixRQUFRO01BQ3RDLElBQU15RyxTQUFTLEdBQUcsSUFBSSxDQUFDMUosS0FBSyxDQUFDMkosWUFBWSxDQUFDLElBQUksQ0FBQzNKLEtBQUssQ0FBQ29KLElBQUksQ0FBQztNQUMxRCxJQUFJeVAsS0FBSyxHQUFHLEtBQUs7TUFDakIsSUFBTXZCLHVCQUF1QixHQUFHLElBQUF3QixzREFBZ0MsRUFDOUQsSUFBSSxDQUFDOVksS0FBSyxDQUFDc1gsdUJBQ2IsQ0FBQztNQUNELElBQU05SSxxQkFBcUIsR0FBRyxJQUFBQyxvREFBOEIsRUFDMUQsSUFBSSxDQUFDek8sS0FBSyxDQUFDd08scUJBQ2IsQ0FBQztNQUdELElBQUkxRixLQUFLLEdBQUcsQ0FBQyxFQUFFO1FBQ2IsSUFBTWlRLE9BQU8sR0FDWGhXLE1BQU0sR0FDTixJQUFJLENBQUNqQixZQUFZLENBQUNnSSxvQkFBb0IsQ0FBQ2hCLEtBQUssRUFBRSxJQUFJLENBQUM5SSxLQUFLLENBQUMsQ0FBQytDLE1BQU07UUFDbEU4VixLQUFLLEdBQ0hFLE9BQU8sR0FBRyxDQUFDLElBQ1Y5VixRQUFRLEdBQUcsQ0FBQyxDQUFDLElBQ1o4VixPQUFPLEdBQ0xwWixxQkFBcUIsQ0FBQzJYLHVCQUF1QixFQUFFelgsYUFBYSxDQUFFO01BQ3RFO01BR0EsSUFBSSxDQUFDZ1osS0FBSyxJQUFJOVAsSUFBSSxJQUFJLENBQUMsSUFBSUEsSUFBSSxHQUFHVyxTQUFTLEdBQUcsQ0FBQyxFQUFFO1FBQy9DLElBQU1zUCxVQUFVLEdBQ2QsSUFBSSxDQUFDbFgsWUFBWSxDQUFDZ0ksb0JBQW9CLENBQUNmLElBQUksRUFBRSxJQUFJLENBQUMvSSxLQUFLLENBQUMsQ0FBQytDLE1BQU0sSUFDOURBLE1BQU0sR0FBR2xELGFBQWEsQ0FBQztRQUMxQmdaLEtBQUssR0FDSEcsVUFBVSxHQUFHLENBQUMsSUFDYi9WLFFBQVEsR0FBRyxDQUFDLElBQ1grVixVQUFVLEdBQ1JyWixxQkFBcUIsQ0FBQzZPLHFCQUFxQixFQUFFM08sYUFBYSxDQUFFO01BQ3BFO01BRUEsT0FBT2daLEtBQUs7SUFDZDtFQUFDO0lBQUFwWCxHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBQThOLDBCQUEwQkEsQ0FBQ3hiLENBQWMsRUFBRTtNQUN6QyxJQUFJLENBQUNzSyxrQkFBa0IsQ0FBQ3RLLENBQUMsQ0FBQztJQUM1QjtFQUFDO0lBQUFnRSxHQUFBO0lBQUEwSixLQUFBLEVBYUQsU0FBQStOLHdCQUF3QkEsQ0FBQ3piLENBQWMsRUFBRTtNQUN2QyxJQUFJLENBQUMwSyxnQkFBZ0IsQ0FBQzFLLENBQUMsQ0FBQztJQUMxQjtFQUFDO0lBQUFnRSxHQUFBO0lBQUEwSixLQUFBLEVBY0QsU0FBQWdPLDhCQUE4QkEsQ0FBQzFiLENBQWMsRUFBRTtNQUM3QyxJQUFJLENBQUM2SyxzQkFBc0IsQ0FBQzdLLENBQUMsQ0FBQztJQUNoQztFQUFDO0lBQUFnRSxHQUFBO0lBQUEwSixLQUFBLEVBU0QsU0FBQWlPLDRCQUE0QkEsQ0FBQzNiLENBQWMsRUFBRTtNQUMzQyxJQUFJLENBQUMrSyxvQkFBb0IsQ0FBQy9LLENBQUMsQ0FBQztJQUM5QjtFQUFDO0lBQUFnRSxHQUFBO0lBQUEwSixLQUFBLEVBc0RELFNBQUFrTyxnQkFBZ0JBLENBQUEsRUFBMEI7TUFDeEMsT0FBTyxJQUFJLENBQUN2WCxZQUFZO0lBQzFCO0VBQUM7SUFBQUwsR0FBQTtJQUFBMEosS0FBQSxFQStERCxTQUFBOUYsb0JBQW9CQSxDQUNsQnJGLEtBQXNCLEVBQ3RCdUYsbUJBQWtELEVBQ2xEO01BQUEsSUFBQStULE1BQUE7TUFHQSxJQUFJLElBQUksQ0FBQ2hVLEtBQUssQ0FBQ3FDLHdCQUF3QixHQUFHLENBQUMsRUFBRTtRQUMzQztNQUNGO01BQ0EsSUFBSSxDQUFDcEUsa0JBQWtCLENBQUMvQixPQUFPLENBQUMsVUFBQXdHLEtBQUssRUFBSTtRQUN2Q0EsS0FBSyxDQUFDQyxpQkFBaUIsQ0FBQ3NSLFFBQVEsQ0FDOUJ2WixLQUFLLEVBQ0xzWixNQUFJLENBQUNoWixjQUFjLENBQUN5QyxNQUFNLEVBQzFCdVcsTUFBSSxDQUFDaFosY0FBYyxDQUFDVCxhQUFhLEVBQ2pDeVosTUFBSSxDQUFDeFgsWUFBWSxFQUNqQndYLE1BQUksQ0FBQ3JRLGdCQUFnQixFQUNyQmpCLEtBQUssQ0FBQ3dDLHNCQUFzQixFQUM1QmpGLG1CQUNGLENBQUM7TUFDSCxDQUFDLENBQUM7SUFDSjtFQUFDO0lBQUE5RCxHQUFBO0lBQUEwSixLQUFBLEVBdmhERCxTQUFPcU8scUJBQXFCQSxDQUMxQnhaLEtBQTJCLEVBQzNCeUIsR0FBVyxFQUNYZ1ksSUFBYSxFQUNKO01BQ1QsSUFBTS9QLFNBQVMsR0FBRzFKLEtBQUssQ0FBQzJKLFlBQVksQ0FBQzNKLEtBQUssQ0FBQ29KLElBQUksQ0FBQztNQUNoRCxJQUFJcVEsSUFBSSxJQUFJLElBQUksSUFBSUEsSUFBSSxJQUFJLENBQUMsSUFBSUEsSUFBSSxHQUFHL1AsU0FBUyxFQUFFO1FBQ2pELElBQU1nUSxNQUFNLEdBQUc1WixlQUFlLENBQUM4SixXQUFXLENBQUM1SixLQUFLLEVBQUV5WixJQUFJLENBQUM7UUFDdkQsSUFBSUMsTUFBTSxLQUFLalksR0FBRyxFQUFFO1VBQ2xCLE9BQU9nWSxJQUFJO1FBQ2I7TUFDRjtNQUNBLEtBQUssSUFBSWxLLEVBQUUsR0FBRyxDQUFDLEVBQUVBLEVBQUUsR0FBRzdGLFNBQVMsRUFBRTZGLEVBQUUsRUFBRSxFQUFFO1FBQ3JDLElBQU1tSyxPQUFNLEdBQUc1WixlQUFlLENBQUM4SixXQUFXLENBQUM1SixLQUFLLEVBQUV1UCxFQUFFLENBQUM7UUFDckQsSUFBSW1LLE9BQU0sS0FBS2pZLEdBQUcsRUFBRTtVQUNsQixPQUFPOE4sRUFBRTtRQUNYO01BQ0Y7TUFDQSxPQUFPLElBQUk7SUFDYjtFQUFDO0lBQUE5TixHQUFBO0lBQUEwSixLQUFBLEVBRUQsU0FBT3ZCLFdBQVdBLENBQ2hCNUosS0FLQyxFQUNEa0osS0FBYSxFQUNMO01BQ1IsSUFBTUksSUFBSSxHQUFHdEosS0FBSyxDQUFDcUosT0FBTyxDQUFDckosS0FBSyxDQUFDb0osSUFBSSxFQUFFRixLQUFLLENBQUM7TUFDN0MsT0FBT3BKLGVBQWUsQ0FBQ3lKLGFBQWEsQ0FBQ0QsSUFBSSxFQUFFSixLQUFLLEVBQUVsSixLQUFLLENBQUM7SUFDMUQ7RUFBQztJQUFBeUIsR0FBQTtJQUFBMEosS0FBQSxFQUVELFNBQU92QyxpQkFBaUJBLENBQ3RCNUksS0FBMkIsRUFDM0J1RixtQkFBa0QsRUFDbERvVSxpQkFBa0UsRUFDbEQ7TUFDaEIsSUFBTWpRLFNBQVMsR0FBRzFKLEtBQUssQ0FBQzJKLFlBQVksQ0FBQzNKLEtBQUssQ0FBQ29KLElBQUksQ0FBQztNQUVoRCxJQUFBbEYsa0JBQVMsRUFDUHFCLG1CQUFtQixDQUFDdUQsS0FBSyxJQUFJLENBQUMsSUFDNUJ2RCxtQkFBbUIsQ0FBQ3dELElBQUksSUFBSXhELG1CQUFtQixDQUFDdUQsS0FBSyxHQUFHLENBQUMsSUFDekR2RCxtQkFBbUIsQ0FBQ3dELElBQUksR0FBR1csU0FBUyxFQUN0QyxtQ0FBbUNuRSxtQkFBbUIsQ0FBQ3VELEtBQUssS0FBS3ZELG1CQUFtQixDQUFDd0QsSUFBSSxvREFDM0YsQ0FBQztNQUVELElBQU1KLFVBQVUsR0FBRyxJQUFJaVIsOEJBQWMsQ0FBQ2xRLFNBQVMsQ0FBQztNQUVoRCxJQUFJQSxTQUFTLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLElBQU1tUSxVQUFVLElBQUl0VSxtQkFBbUIsRUFBQXVVLE1BQUEsS0FBQUMsbUJBQUEsQ0FBQTViLE9BQUEsRUFBTXdiLGlCQUFpQixXQUFqQkEsaUJBQWlCLEdBQUksRUFBRSxFQUFFO1FBQ3RFLEtBQUssSUFBTUssTUFBTSxJQUFJSCxVQUFVLEVBQUU7VUFDL0JsUixVQUFVLENBQUNzUixRQUFRLENBQUNELE1BQU0sQ0FBQztRQUM3QjtRQUlBLElBQUloYSxLQUFLLENBQUNnTCxrQkFBa0IsSUFBSSxJQUFJLElBQUloTCxLQUFLLENBQUNnTCxrQkFBa0IsSUFBSSxDQUFDLEVBQUU7VUFDckUsSUFBTWtQLGFBQWEsR0FBR3BhLGVBQWUsQ0FBQzhLLG9CQUFvQixDQUFDNUssS0FBSyxDQUFDO1VBQ2pFMkksVUFBVSxDQUFDc1IsUUFBUSxDQUFDQyxhQUFhLENBQUM7UUFDcEM7UUFLQSxJQUFNQyxnQkFBZ0IsR0FBRyxJQUFJbkgsR0FBRyxDQUFDaFQsS0FBSyxDQUFDbVEsbUJBQW1CLENBQUM7UUFDM0RyUSxlQUFlLENBQUNzYSwwQkFBMEIsQ0FDeENwYSxLQUFLLEVBQ0xtYSxnQkFBZ0IsRUFDaEJ4UixVQUFVLEVBQ1ZwRCxtQkFBbUIsQ0FBQ3VELEtBQ3RCLENBQUM7TUFDSDtNQUVBLE9BQU9ILFVBQVU7SUFDbkI7RUFBQztJQUFBbEgsR0FBQTtJQUFBMEosS0FBQSxFQUVELFNBQU9QLG9CQUFvQkEsQ0FBQzVLLEtBQTJCLEVBR3JEO01BQUEsSUFBQXFhLHFCQUFBO01BQ0EsSUFBTTNRLFNBQVMsR0FBRzFKLEtBQUssQ0FBQzJKLFlBQVksQ0FBQzNKLEtBQUssQ0FBQ29KLElBQUksQ0FBQztNQUVoRCxJQUFNa1IsY0FBYyxHQUFHaFQsSUFBSSxDQUFDQyxHQUFHLENBQzdCLENBQUMsRUFDREQsSUFBSSxDQUFDNEgsR0FBRyxDQUFDeEYsU0FBUyxHQUFHLENBQUMsRUFBRXBDLElBQUksQ0FBQzhFLEtBQUssRUFBQWlPLHFCQUFBLEdBQUNyYSxLQUFLLENBQUNnTCxrQkFBa0IsWUFBQXFQLHFCQUFBLEdBQUksQ0FBQyxDQUFDLENBQ25FLENBQUM7TUFFRCxJQUFNRSxhQUFhLEdBQ2pCalQsSUFBSSxDQUFDNEgsR0FBRyxDQUNOeEYsU0FBUyxFQUNUNFEsY0FBYyxHQUFHLElBQUFFLGlEQUEyQixFQUFDeGEsS0FBSyxDQUFDeWEsa0JBQWtCLENBQ3ZFLENBQUMsR0FBRyxDQUFDO01BRVAsT0FBTztRQUNMM1IsS0FBSyxFQUFFd1IsY0FBYztRQUNyQnZSLElBQUksRUFBRXdSO01BQ1IsQ0FBQztJQUNIO0VBQUM7SUFBQTlZLEdBQUE7SUFBQTBKLEtBQUEsRUFFRCxTQUFPaVAsMEJBQTBCQSxDQUMvQnBhLEtBQTJCLEVBQzNCbWEsZ0JBQTZCLEVBQzdCeFIsVUFBMEIsRUFDMUIrUixPQUFlLEVBQ2Y7TUFDQSxJQUFNNUosWUFBWSxHQUFHOVEsS0FBSyxDQUFDMFEsbUJBQW1CLEdBQUcsQ0FBQyxHQUFHLENBQUM7TUFFdEQsS0FBSyxJQUFJaUssT0FBTyxHQUFHRCxPQUFPLEdBQUcsQ0FBQyxFQUFFQyxPQUFPLElBQUksQ0FBQyxFQUFFQSxPQUFPLEVBQUUsRUFBRTtRQUN2RCxJQUFJUixnQkFBZ0IsQ0FBQy9iLEdBQUcsQ0FBQ3VjLE9BQU8sR0FBRzdKLFlBQVksQ0FBQyxFQUFFO1VBQ2hEbkksVUFBVSxDQUFDc1IsUUFBUSxDQUFDO1lBQUNuUixLQUFLLEVBQUU2UixPQUFPO1lBQUU1UixJQUFJLEVBQUU0UjtVQUFPLENBQUMsQ0FBQztVQUNwRDtRQUNGO01BQ0Y7SUFDRjtFQUFDO0lBQUFsWixHQUFBO0lBQUEwSixLQUFBLEVBa0hELFNBQU95UCx3QkFBd0JBLENBQzdCclosUUFBOEIsRUFDOUJzWixTQUFnQixFQUNUO01BQUEsSUFBQUMscUJBQUEsRUFBQUMsc0JBQUE7TUFHUCxJQUFNclIsU0FBUyxHQUFHbkksUUFBUSxDQUFDb0ksWUFBWSxDQUFDcEksUUFBUSxDQUFDNkgsSUFBSSxDQUFDO01BQ3RELElBQUlNLFNBQVMsS0FBS21SLFNBQVMsQ0FBQ2xTLFVBQVUsQ0FBQ3FTLFFBQVEsQ0FBQyxDQUFDLEVBQUU7UUFDakQsT0FBT0gsU0FBUztNQUNsQjtNQUVBLElBQUlJLHdDQUFpRCxHQUFHLElBQUk7TUFDNUQsSUFBTUMsdUJBQXVCLEdBQUdMLFNBQVMsQ0FBQzlQLG1CQUFtQjtNQUM3RCxJQUFNRixrQkFBa0IsSUFBQWlRLHFCQUFBLElBQUFDLHNCQUFBLEdBQ3RCeFosUUFBUSxDQUFDdUosOEJBQThCLHFCQUF2Q2lRLHNCQUFBLENBQXlDbFEsa0JBQWtCLFlBQUFpUSxxQkFBQSxHQUFJLENBQUM7TUFDbEUsSUFBTUssc0JBQXNCLEdBQzFCNVosUUFBUSxDQUFDb0ksWUFBWSxDQUFDcEksUUFBUSxDQUFDNkgsSUFBSSxDQUFDLEdBQUd5QixrQkFBa0IsR0FDckQvSyxlQUFlLENBQUM4SixXQUFXLENBQUNySSxRQUFRLEVBQUVzSixrQkFBa0IsQ0FBQyxHQUN6RCxJQUFJO01BQ1YsSUFDRXRKLFFBQVEsQ0FBQ3VKLDhCQUE4QixJQUFJLElBQUksSUFDL0NvUSx1QkFBdUIsSUFBSSxJQUFJLElBQy9CQyxzQkFBc0IsSUFBSSxJQUFJLEVBQzlCO1FBQ0EsSUFBSUEsc0JBQXNCLEtBQUtELHVCQUF1QixFQUFFO1VBRXRELElBQU16QixJQUFJLEdBQ1IvUCxTQUFTLEdBQUdtUixTQUFTLENBQUNsUyxVQUFVLENBQUNxUyxRQUFRLENBQUMsQ0FBQyxHQUFHblEsa0JBQWtCO1VBQ2xFLElBQU11USxxQkFBcUIsR0FBR3RiLGVBQWUsQ0FBQzBaLHFCQUFxQixDQUNqRWpZLFFBQVEsRUFDUjJaLHVCQUF1QixFQUN2QnpCLElBQ0YsQ0FBQztVQUNEd0Isd0NBQXdDLEdBQ3RDRyxxQkFBcUIsSUFBSSxJQUFJLEdBQ3pCQSxxQkFBcUIsR0FBR3ZRLGtCQUFrQixHQUMxQyxJQUFJO1FBQ1osQ0FBQyxNQUFNO1VBQ0xvUSx3Q0FBd0MsR0FBRyxJQUFJO1FBQ2pEO01BQ0Y7TUFFQSxJQUFNSSxnQkFBZ0IsR0FBR3ZiLGVBQWUsQ0FBQzhPLHFCQUFxQixDQUM1RHFNLHdDQUF3QyxJQUFJLElBQUksR0FDNUM7UUFDRW5TLEtBQUssRUFDSCtSLFNBQVMsQ0FBQ3RWLG1CQUFtQixDQUFDdUQsS0FBSyxHQUNuQ21TLHdDQUF3QztRQUMxQ2xTLElBQUksRUFDRjhSLFNBQVMsQ0FBQ3RWLG1CQUFtQixDQUFDd0QsSUFBSSxHQUNsQ2tTO01BQ0osQ0FBQyxHQUNESixTQUFTLENBQUN0VixtQkFBbUIsRUFDakNoRSxRQUNGLENBQUM7TUFFRCxPQUFPO1FBQ0xnRSxtQkFBbUIsRUFBRThWLGdCQUFnQjtRQUNyQzFTLFVBQVUsRUFBRTdJLGVBQWUsQ0FBQzhJLGlCQUFpQixDQUFDckgsUUFBUSxFQUFFOFosZ0JBQWdCLENBQUM7UUFDekV0USxtQkFBbUIsRUFBRW9RLHNCQUFzQjtRQUMzQ3hULHdCQUF3QixFQUN0QnNULHdDQUF3QyxJQUFJLElBQUksR0FDNUNKLFNBQVMsQ0FBQ2xULHdCQUF3QixHQUFHLENBQUMsR0FDdENrVCxTQUFTLENBQUNsVDtNQUNsQixDQUFDO0lBQ0g7RUFBQztJQUFBbEcsR0FBQTtJQUFBMEosS0FBQSxFQW9FRCxTQUFPeUQscUJBQXFCQSxDQUMxQnNCLEtBQW9DLEVBQ3BDbFEsS0FBMkIsRUFDSTtNQUMvQixJQUFNMEosU0FBUyxHQUFHMUosS0FBSyxDQUFDMkosWUFBWSxDQUFDM0osS0FBSyxDQUFDb0osSUFBSSxDQUFDO01BQ2hELElBQU1rUyxxQkFBcUIsR0FBRzVSLFNBQVMsR0FBRyxDQUFDO01BSzNDLElBQU11RixtQkFBbUIsR0FBRyxJQUFBRCxrREFBNEIsRUFDdERoUCxLQUFLLENBQUNpUCxtQkFDUixDQUFDO01BQ0QsSUFBTXNNLFFBQVEsR0FBR2pVLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBRStULHFCQUFxQixHQUFHck0sbUJBQW1CLENBQUM7TUFFekUsT0FBTztRQUNMbkcsS0FBSyxFQUFFLElBQUFpTCxjQUFLLEVBQUMsQ0FBQyxFQUFFN0QsS0FBSyxDQUFDcEgsS0FBSyxFQUFFeVMsUUFBUSxDQUFDO1FBQ3RDeFMsSUFBSSxFQUFFekIsSUFBSSxDQUFDNEgsR0FBRyxDQUFDb00scUJBQXFCLEVBQUVwTCxLQUFLLENBQUNuSCxJQUFJO01BQ2xELENBQUM7SUFDSDtFQUFDO0lBQUF0SCxHQUFBO0lBQUEwSixLQUFBLEVBb0JELFNBQU81QixhQUFhQSxDQUNsQkQsSUFBVSxFQUNWSixLQUFhLEVBQ2JsSixLQUdDLEVBQ087TUFDUixJQUFJQSxLQUFLLENBQUN3YixZQUFZLElBQUksSUFBSSxFQUFFO1FBQzlCLE9BQU94YixLQUFLLENBQUN3YixZQUFZLENBQUNsUyxJQUFJLEVBQUVKLEtBQUssQ0FBQztNQUN4QztNQUVBLElBQU16SCxHQUFHLEdBQUcsSUFBQWdhLDZCQUFtQixFQUFDblMsSUFBSSxFQUFFSixLQUFLLENBQUM7TUFDNUMsSUFBSXpILEdBQUcsS0FBS2lhLE1BQU0sQ0FBQ3hTLEtBQUssQ0FBQyxFQUFFO1FBQ3pCekosZ0JBQWdCLEdBQUcsSUFBSTtRQUN2QixJQUFJNkosSUFBSSxDQUFDeUksSUFBSSxJQUFJekksSUFBSSxDQUFDeUksSUFBSSxDQUFDNEosV0FBVyxFQUFFO1VBQ3RDamMseUJBQXlCLEdBQUc0SixJQUFJLENBQUN5SSxJQUFJLENBQUM0SixXQUFXO1FBQ25EO01BQ0Y7TUFDQSxPQUFPbGEsR0FBRztJQUNaO0VBQUM7QUFBQSxFQTl2QjJCbWEsK0JBQXNCO0FBQTlDOWIsZUFBZSxDQUlaK2IsV0FBVyxHQUFrQ0MsOENBQXNCO0FBKzJENUUsSUFBTWpKLE1BQU0sR0FBR3hFLHVCQUFVLENBQUMwTixNQUFNLENBQUM7RUFDL0JoSixrQkFBa0IsRUFDaEJpSixxQkFBUSxDQUFDQyxFQUFFLEtBQUssU0FBUyxHQUNyQjtJQUFDQyxTQUFTLEVBQUUsQ0FBQztNQUFDQyxLQUFLLEVBQUUsQ0FBQztJQUFDLENBQUM7RUFBQyxDQUFDLEdBQzFCO0lBQUNELFNBQVMsRUFBRSxDQUFDO01BQUNFLE1BQU0sRUFBRSxDQUFDO0lBQUMsQ0FBQztFQUFDLENBQUM7RUFDakN0SixvQkFBb0IsRUFBRTtJQUNwQm9KLFNBQVMsRUFBRSxDQUFDO01BQUNHLE1BQU0sRUFBRSxDQUFDO0lBQUMsQ0FBQztFQUMxQixDQUFDO0VBQ0R6TCxLQUFLLEVBQUU7SUFDTDBMLElBQUksRUFBRTtFQUNSLENBQUM7RUFDRDNGLGdCQUFnQixFQUFFO0lBQ2hCNEYsUUFBUSxFQUFFLFVBQVU7SUFDcEJ6RixHQUFHLEVBQUUsQ0FBQztJQUNOMEYsS0FBSyxFQUFFO0VBQ1QsQ0FBQztFQUNENUYsWUFBWSxFQUFFO0lBQ1o2RixNQUFNLEVBQUUsQ0FBQztJQUNUbFcsS0FBSyxFQUFFLEVBQUU7SUFDVG1XLFdBQVcsRUFBRSxNQUFNO0lBQ25CQyxXQUFXLEVBQUU7RUFDZixDQUFDO0VBQ0Q5RixpQkFBaUIsRUFBRTtJQUNqQitGLElBQUksRUFBRSxDQUFDO0lBQ1BDLGVBQWUsRUFBRTtFQUNuQixDQUFDO0VBQ0Q5RixxQkFBcUIsRUFBRTtJQUNyQjZGLElBQUksRUFBRSxDQUFDO0lBQ1BGLFdBQVcsRUFBRSxPQUFPO0lBQ3BCQyxXQUFXLEVBQUU7RUFDZixDQUFDO0VBQ0QzRixvQkFBb0IsRUFBRTtJQUNwQjRGLElBQUksRUFBRSxDQUFDO0lBQ1BGLFdBQVcsRUFBRSxLQUFLO0lBQ2xCQyxXQUFXLEVBQUU7RUFDZjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBNWUsT0FBQSxHQUVZMkIsZUFBZSIsImlnbm9yZUxpc3QiOltdfQ==