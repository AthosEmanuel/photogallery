{"version":3,"names":["_getJestObj","mock","launchCamera","jest","fn","getCurrentPosition","success","coords","latitude","longitude","_interopRequireDefault","require","_asyncToGenerator2","_reactNative","_reactNative2","_react","_camera","_reactNativeImagePicker","_jsxRuntime","_require","spyOn","PermissionsAndroid","mockResolvedValue","RESULTS","GRANTED","Alert","mockImplementation","describe","it","default","onPhotoTakenMock","onCloseMock","_options","callback","assets","uri","render","jsx","onPhotoTaken","onClose","waitFor","expect","toHaveBeenCalledWith","toHaveBeenCalled","request","mockResolvedValueOnce","DENIED"],"sources":["CameraComponent.test.tsx"],"sourcesContent":["import { render, waitFor } from '@testing-library/react-native';\nimport { Alert, PermissionsAndroid } from 'react-native';\n\nimport React from 'react';\nimport CameraComponent from '../src/components/camera'; // ajuste o caminho conforme seu projeto\n// Mocks\nimport { launchCamera } from 'react-native-image-picker';\n\njest.mock('react-native-image-picker', () => ({\n  launchCamera: jest.fn(),\n}));\n\njest.mock('@react-native-community/geolocation', () => ({\n  getCurrentPosition: jest.fn(success =>\n    success({ coords: { latitude: 1, longitude: 2 } }),\n  ),\n}));\n\njest\n  .spyOn(PermissionsAndroid, 'request')\n  .mockResolvedValue(PermissionsAndroid.RESULTS.GRANTED);\njest.spyOn(Alert, 'alert').mockImplementation(() => {});\n\ndescribe('CameraComponent', () => {\n  it('chama onPhotoTaken e onClose corretamente', async () => {\n    const onPhotoTakenMock = jest.fn();\n    const onCloseMock = jest.fn();\n\n    // Mock do launchCamera\n    (launchCamera as jest.Mock).mockImplementation((_options, callback) => {\n      callback({ assets: [{ uri: 'file://photo.jpg' }] });\n    });\n\n    render(\n      <CameraComponent onPhotoTaken={onPhotoTakenMock} onClose={onCloseMock} />,\n    );\n\n    await waitFor(() => {\n      expect(onPhotoTakenMock).toHaveBeenCalledWith('file://photo.jpg', {\n        latitude: 1,\n        longitude: 2,\n      });\n      expect(onCloseMock).toHaveBeenCalled();\n    });\n  });\n\n  it('fecha a câmera se permissão negada', async () => {\n    (PermissionsAndroid.request as jest.Mock).mockResolvedValueOnce(\n      PermissionsAndroid.RESULTS.DENIED,\n    );\n    const onCloseMock = jest.fn();\n\n    render(<CameraComponent onClose={onCloseMock} />);\n\n    await waitFor(() => {\n      expect(onCloseMock).toHaveBeenCalled();\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}